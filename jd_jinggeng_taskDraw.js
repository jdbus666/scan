/*
活动名称：幸运抽奖 · 京耕
活动链接：https://jinggeng-isv.isvjcloud.com/ql/front/showTaskDraw?id=<活动id>&user_id=<店铺id>
环境变量：jd_jinggeng_taskDraw_url // 活动链接
         jd_jinggeng_taskDraw_opencard // 是否入会（true/false），默认不入会
         jd_jinggeng_taskDraw_Notify // 是否通知（true/false），默认不通知


cron:1 1 1 1 *
============Quantumultx===============
[task_local]
#幸运抽奖 · 京耕
1 1 1 1 * jd_jinggeng_taskDraw.js, tag=幸运抽奖 · 京耕, enabled=true

*/

const $ = new Env('幸运抽奖（京耕）')
var iｉl='jsjiami.com.v7';function Iii11l(){const iliIl1=(function(){return[...[iｉl,'ACOjrsOjiEaUemiYy.crBloymFHF.kqWvWC7TplR==','W503WONdUSovW4tdHa','WP4+wa','pSkwDCkodcNcHSoWW7pcICkxnG','5REq5yUk5yEv5y2k77Y0','pUASSg7LViBLPRNMLQxPLPhVVOe','WOSMstq9WQ4DWPS9na0','cSotWRy','W6zqza','4PMyD+IVL+wIQowfPoAGPUw/H+ASG+EGIoEAJEwoPUMgOG','8lI8LSkAW7RLJjNVVPm','WRJcTSkZq8oQ','ptuPp8oPq8o+WQ8iuCocg3JdT27cGSoonvtdVcLbium','W4pcTmkcieO','zEE7OUAFNU+/Vos4SUAVOEAxJoEdHEACLUwqPs0','8jkmVmom54Uo5AEI6iIc','W4lcOmkTiLa','lv/cJW','bGXwW5RcTa','nqP/W7VcGKC','W4/dGamXWPm','mSkaza','W6KBWRqAzmklW6CqAq','iXrWW63cIum','W7aOWRGCzG','hLJdV0CX','WPxdNGNcNNZcQbFcVMvLewz1WRldQ8kmW4y','WRFcPCk7yCogDG','mJ9A','zwddQmkRWOBdR8kgW6NcVCocWPKO','BmkCWRFdGCo2W5fQ','WQTvWRHKWO0myZhcPq','8y+uNE+7MIu','w8o9jrBdJCkTWOWfsY5tW4yYccJdJdPlBmoApbz/W7FcTbveWOmuB1SxWQhMMQVLK6tLHyxKVP3VVB0bW4hdPqFcGt/cMKqtWP7VVQhVVkNPUBJORltKUydLHPZKV7W','gJPfW7TM','kf7cMWxcQ8oS','W714Fg9GFqhcVSod','W41oWO3dPmkM','W7Ctm2pdUc7cQNpcNG','W5KDu8kAvSkDwH3dTq','WOhdGXVcNxVcRrNcONv1bhO','8yMFHCkBW6y7W6tdHos9NowqMG','W5hdPwm','WPSmFcqg','W4RNPOpLIy7dJq','j8ozasysp8kMsaJcMa','WOddGa/cG07cOZ3cVNvLgxH7','g31iWPZcR3i','hhjwWPW','aL/dPmk4Fq','afNdPfqo','W5qHifRdKa','W5RdNdW','eqZcJ8kLW6PEW6GNBepcGCo6WQG','z8osW49mWQZcQCkcxXqOWQW','Fhaa','hGTcW7TU','sg8+ddO','WONdNH0','W7DmWPFdSmkHm0C1FG','W5VdO3W','W4vrqmoVWRG','ifpcNaNcR8oXWPOaW60M','WOXuDxGaWOL6kq','pITeW5HyzbO','W7SyWQC8tCkiW68fqGfDcSkL','gHxcNmogWOxdHa','W6dLU5lPK4FPKQpMJ67VV50bWPyCnHizWRj+l2/cUNdcN8oMWQynBCoRwSkizNhdMhnSreW1x8kVa8oQ','W5yHnNxdLv0','WPmMW7JdNM8','W6dcV8kbn2K','WQDrWR4','WORdVd7cVfu','w1SVsaS','AJhcMq','W5q3pvVdRa','wmo3grddKCkNWO4r','W54fEmkWqa','WQ8ZW5RdG1C','8kQ+Omko','sSojWQf7WRJdSCo/dSkDcG','WRZdVG/cJCkwwmoj','WQuunwm','DqJdUa','W4xWS4gm','W6DIFwn8BG','u1/dICoIWRWYWQOU','DvujtGq','tbRcOCk6kmkVCs/dHu3dMG','E2arBWyQimo1jCoCj8o5WR4','kos9O+AaJ+wkM8kQ','xSorWRpcLComfKpcSmkaWOqCkmk7s1jYW5BdRfNdSg4SW43cJmoTmSkVW6xdHG','W7WgmKNdRq','WOtdHHVcMf7cLbNcVxq','WOJdLaNcMvVcVr0','5P+76ikB6i+35y+q55AI5OMg6yQ35P2u5l2c5Okw77Yr','WQidnexdPr7cQh7dHG','WQVNU6RMNyVMLzhPLl7VV4m','WP0XW7rHW50','tCoiW7XJWOi','z23dSSkjWRi','W7aComo8W4ddR2FdSx5qWPyNsthdMXRdLSkZWQBdR2e3v8knsh0tW6ZcQ3CZh2i','sMddOq','vEodSEA0R+wjLowKVUwsU+odSG','petcKchdR8k2WPhdHCkA','WOK8W7veW4nuBSobs8kI','W4GVpW','xmkSW4C','776e5BAE5OUf5yU36iEQ5yMT55U96k+n5Ps66lwp5zYo5zYHWPi2','W4XCz8ouWQVcVSoT','AY3cHSk0dW','WOeSWPZdImozW5ZdIfO','rsumW4NdRdxcUsm3cfjw','WORKVOpMGPZLI4BcQG','W53dO3ihkbXkWQ0HjCkNW7RdKCkB','WP3NU5VMNPFVVR3KU6pMRypML6FNG5xMNzlLKO3dIW','oWHQW4/cILuY','WPxcV8kA','W49qD8omWOtcUmoLna','FConWOVcH8oR','WPalj8ktW7/dR8k/ACoDW64','zh3dUSoNWPi','W7XDW5jTqSkiWPtcTCoWWRldM3C','WRFdTbdcKSkysmo/umk2sq','ic3cL8kusG','WPqYtSkKWOLY','pKFdJu0xmNGh','otTcW5r5BYxdNmobW5ywWP7cMmkQW7e','eSoZeZyY','mbj9W7ZcI1e7EG','wCkmWQJdNmoN','W6PJygm','f8ouaZKP','cLJdPSk8wW','kmosWRzaWP4','tG7dSdCHW6FdN8oC','W7FdUSoBW5SDW7Sq','WRtMTzVLIOxLPAxLKPBVV6a','W6uFWRi','W7RdQCoOW4OG','WPSMW7RdJGa','WQSLvmkUWOq','ASoEW5W','WR4tneddPHdcPa','WQpMT7ZLIy7LSyNLNi/dKG','hEwSPoEiNbi','ACkyWQ/dGa','W5yFxW','W69FW51Asmk/','W4nPW4xcLSkDWPFcRW','W5eZyCknzW','WPaoiCktW7JdRCk5n8kEWRPPp8k1','W5NcImoGeX0','6i235yYAW7vrW4zQfNO85Awt6lAY772t','W4dcQCkvkLxcHG','nqP/W7VcGMCWymoMW4VcRmo6','owP8WR/cHq','44gw5lIw5lMP6lwP5y6t','W61CB33cUZDF','44c25O+F56A844oo6kYu5yEj6i2f5yYsWQRdLmkgjSoJW6a','jXz3W7NcTee7','yY/cI8kza8kvBq7dThddOdxcKXFcGq','E2arBWyQnSoVimo6oSoaWRlcOei','ovxcJcZdPmkJWRhdHW','hSkcD8kzga4','W7lcKCodiHFcOdW'],...(function(){return[...['W4n8qCoTWPK','W74xlcNdRapcRhNdL8owy8kEmJ8upvZcQNfkFSo4WPhdSvjj','amovWQK','W7lcN8oEhYZcRrZcLhaT','yr7dGLNdQu1yFYmlW5W6qNON','xCo2hq','W68wWRWylmoLW6iyAGrFfCo9emoLD8oQ','5yID5ywT5BMF6zgl5l+Y5zc65As/6lwj77Y75RAr5yID5lM96zI25BIr6zoe5l205zkZ5yYt5lIv','gebFWPlcUG','8koYUXVNQOpMS4K','F8kAWRldUSoYW497','WO5FzSoiWQtcRCkNn8klWRj/iCkhWOHjWQau','h0pcSYpdIa','5P2S5Aor5z2f5zYp','nddcGSoRWQC','W4pcO8k5ju7cNcZdRt4zw257dd/cTSkOmCopWQvMWQnMWQKUwtBcIUA2MUwkM+MqQEAnNa','C8kkWQe','W5L4ruJcGW','8ygwHU+4R8oJ','EGVdTcWdW6FdKmovWOqdWQjUh8kzWOxdTru','sCoOW45jWRW','mSkaymkFaa','DNaRhZe','WRdcVSk8F8omxH99BXy','o0BdIq','sg7dQ8k6','8l+eQ++6PxlKVz3MGlxLIAO','hJvnW5RcQW','WPazvSkKWRu','W6n/Aq','WPq4rW','kI9zW5LOzd/dJa','CG3dN3xcVmoSW4xcNSoEja','W5NdUxy','ftKfbCos','oSkpyG','5RAF5yUO5BAQ57Uc5P+L77Y85lUL5QYN5PsJ54oC5P2h5zc2Ea','DtxcL8kajCkzua','nuJdNuq3jhe','r8obWP7cLSolh03cSCkC','W6HwCwS','W7BdNtqmWQi','fN11WQ7cJa','8kQ+Omko5Ogm5zE+6i+H5B6k5A+Q54QjBW','W4OFxmkTxmk3','4PUHeoISN+wGI+wfGoAIPow/OEASMUEJIUEBHUwoTUMeKW','kCopaqKin8k1','p0VdT3e2','W7KLEq','W5VcSSkicKNcLG','mcvq','CSkPW6hdRxi','W7iUBCk4FCkADsq','WOCcDWCA','W6VcICoaoYtcUdVdK3aPW6XNWR0s','5yU/5yAe5BQd6zcg5l2Y5zcI5OUZ5yIb','W4JcTSoinYG','5Aw95B+c5lIO','W7hORAZMSl7LP4/OT5iF4PYWga','nHHtW6VcIa','AqRdHepdVfnU','WPGWuXGLWQm','W7VdRdymWQC','WOuSWOG','qL3dJ8o4WQ8oWQW7xghcRa','WOBcVIHDtKisW6vvCa','W6vbDxO','jXHWW63cQfSHz8oKW7W','hNXC','hJLbW5VcO3axt8of','5lQL5As66yop556n','WOWhW4tdReiFdSoUk2FcTmkkn38','s2RdTCkSWOldPSkx','W7ldR8o9W5qP','W7pdSmoD','xCkiW706W7/cPmkTc8kuc0SaWR3cIryoC8kuFJZdLmo7nx/dRICAWPusDCkYDSkZWPpdUSk3','jehcNqNcRCoHWR0nW4uWgSkijf7cJa','WOWPuJi5','EvxdUSo/WPS','W4CHlhldKG','W7HBW4z2uSkIWRtcTCoWWQJdH3FcSW','ms9eW45SCrm','WQHNWOXCWRO','W5pdVCojW6yR','W7bzW4TBxG','WQddVd7cMSkr','W6WdWRyDBCkGW6Gj','Dwitkq','WOqKudG','W7PpW4DAsSk+WPZcVSo6WOJdRgpcNYq','gUE6KUwpRt0','WPxcV8kWD8oNyb5X','W5iozSkhwCk2vq','CSkwWQe','WOzlWPXEWP0','W69VEM94CXZcOCoVD0y','W6ujWQyByCkIW6m','8kQIGCko56MB5Rg2','W7VdU8oRW6u3','lYfEW41FyXG','fmkMxCk7pW','orHTW7RcH1mW','W4/dNsSWWRHPW4CC','oInp','sZpcHSk7nG','mLJdM0Gwl04aWOfJWOFdSqGXsq','asHxW40','m8koCW','5Rsy5yQw5BkH5P675B+z5AAS77+u5B2c5AEc5PEL6zs0776w','4P+0sUIeQoAFHoI/OUIIN+MbVowjGos4LUMuSEIVR8oY','W5hcGKpdMG/dQK7cOvj6awfw','W4Hxz8ocWRJcRq','WOyQwG','5REd5yU/5BEs57Iq5P6I','WQpNUjtMNRNMLRNPL5pVV6G','W552bg1+W7DFWPmRdrbxW5u','qSkvWRT6WQpdVSoPhmo/xLGsWRtcId0JACkwDci','6i2M5y6Wg1ldPrRcPNNdVUwNIoI0Tq','W45Lemo3W4uIW7WhpN8vn8kb','ux8+BJe','5P6Q6ioe6i6R5y+y55EY5OMN6yMo5P+m5lYd5Ogz','W6dcJColichcHJFcK3CiW7qK','zMnfyCk1g8kUW7budW','W54dxSkCv8kH','W68jWRS9DCkSW6i','W7reW5D6xG','pt1wW49PrrpdHSoeW6OxWQC','WPHHWRbGWOW','omkeESkUcrtcH8oXW7RcLmkwkqW6WP4','WPldMbtcJLxcRq','WOOJ5yYHwW','WPWWWORdJSo+W5NcMa','WQaeWQ3dTCo6','W4JdMI8LWPG','WOFcUSkTqSo6','W4DGW6xdSSkMtNqedmoBWOJcIeJcVXilWOxdVe7cR0uyh8o3b0tcR8oNW410Cw9RWQhdOSo1j8kFa8kYWRXPubTTmmoL','WP0hW57dJuSikSoV','W6foFxZcVH5BW6lcHW','qCk7W4FdUM8','W6H+WO/cG0dcGCkJlbRcISoaWQKD','W41wCW','hXtcIa','8lIhU++6Vd/KVl7MGlVLI4K','W5VdLZWpWQy','lZ5fW5rJCr/dJSoz','W5XRWRZdMmkEc3OvFSoo','WQ/cUCkHq8ofybq','ufxdKSoHWOSsWRy','qxJdPCkuWPC','imovW4LeWQ3cG8kzuY8UWO5kW5NdImktfLqKlmkroY/dPq','hX7cGCoeWOpdMa','W6FcQuZdISopb8kyx8kbt1OEgG','WQxcVCkGBmoDEdz6EdBdVJ/dHa','WR0jjW','WQddUZhcPem','mSoiacO','ghDKWPpcTgJcRbeQlubcpmk5W7LOqfmPpZDtWReIW6/dIdC','h8o1WO1OWQS','W7DoW6X1t8k1WPBcVmoXWPldIuxcOIhdNc3cT8ozag84WRNdRNZcSmoxe15RlKpMMjRLK47PG6hNNRxVVONcJ8kEWOPZW5joW5aFj8oX77Yr77Y76BQw6k+k5lMq6ygD55Yw','b31iWPZcQuxcPbKKkKi','WR3dTbS','vSkLW7RdL00','lx3dLSk1xG','lYewyquLnmoj','nCoobYykmCk7vZG','gmkgr8k1hW','ewfEWPJcQwm'],...(function(){return['W5aYmxW','5yIj5yAI5BMX6zk15lY95zkQ5Aw66lAV772x5Rwm5yQu5lU06zMF5BU66zk25l+h5zk05y6b5lQG5zc0rW','5P2y5lI+5AwT','8yUlJwa','h8k2ebJdP8kSWOqjrYu','n0tdR8k1v8kK','qfC1cXK','WOmRtJG5WRm','WOZdNX7cJ0i','A8ouW4HwWRVcP8kt','WOpdMai','BrJdUYekW7tdU8oD','WR1jWO91WP8','nsruW5f4CHpdMW','p2pdP1K0','WQvxWQ1qWOuJzq','sc7cS8kQhW','AaddKa','WQHnWR1V','W5qfvq','W4VcHSk2fvi','WO80sdq/WR49WPSyiW','W5izwmkbu8k+uL7dS0DTW5BdHmoz','WOGoW6ldJ2e','W5ldGcK','W5zTWQ3dGCofa2ifqCop','5REI5yUK5lM+6zUM5BUG6zgl5l6n5zcE5y6a5lUw','dKJcPcRcIa','bhzvWP3cUhtcGHi','W6ZcN8ozistcSJC','wmoAWOS','W6/cVCk5kSopCXX6Ae3dPZ3dKSk7WQ4aW7lcVtJcG3pdHmokeNVcRhq','lNxdRmk4tW','WRGVW4/dUHJdLSoEiG','tmoRW6fpWRG','W7iwA2KE','WP8YvmkwWO92WPGbfgGtcmkAW4RcTq','kmkaFCki','vUw9IUwNVoAvI+MxUE+8Ja','WQeYW7BdVei','W7hcImodkcdcIJ7cLgaY','EaZcVmonbmo9gefopW','hGJcIa','pfVcIZJdK8kKWPy','umo6dHxdKSkQWP8BEZjy','W59TWOxdK8kg','oY9zW69SEbldH8onW7CwWRJcMmkPW7m','A8ocW5W','W7ddVGK3WPa','W57dLdCLWQn6W4y','5yQ+5yAC5BMr6zgo5l6j5zo65AsV6lwM77+H5RAK5yMo5lI66zIW5BQg6zgQ5l6t5zgW5y+G5lQN','WQKTW4NdHri','D/cRN6NVUzO','EeqkkqS','C8oyWPtcMCor','WRHxWRDtWOCM','W5SowW','4P+OyoADSUIdRoAVMEEHNUwNQUEqGmoQ','WP8hW4JdNqesf8oMkt/cL8kddNCIWQGGg8ozW6xdGSkhgqZcISkQdaJcSW0gW7bpWRpcR8oiWP5CW77cPW4rnsG6vGJcKZzCwmksBdPWo8kyW6xdH8oMWRG8W5K','nSkMECkDoW','DdNdGqOj','W73dQmo3W74X','8kQ/Mfyq5y+H77Y3','aCoFWR19WQVdTCo/','rhacoHyYiCoE','vwGJqcO','5P2S6igh6i+c5y6z55wm5OMH6yQM5P2Y5l6G5Okt77+a','Cr/dK1hdQvfizcWnW40axW','zgvgz8k5hCoOWP07sSoleW','W6BOSkROS6RLJBpKU6y/','8jUEIKC','vhRdQmkAWO3dPq','uSoCWPq','W5DyEmosWQ8','WPe5u8kMWO9U','W6T4W6pdVsddGSoXjq','j0pdHeaW','W5FcU8otjdW','zZ3cISk+fSkbwW','tvFdMmo6WPCgWRuN','D38ayWO','W4RNIz3LPi/OI6RdTa','fb7cM8oGWPJdN8ooWQtcPCo8B8oVWPak','xCo2htNdLSkX','W5VcPCkcoLq','W5tcG0NdNG/dRe/dQcGb','fxzpWQZcR2RcMXC9iKP4pmk9W7G','W7Kdo8oKW4FdRwVdOa','dY1sW5ZcTEs8RUwqJvm','WOaTWOVdMCop','obj5','WOCGtI4QWQam','qSouWOdcISoa','W7Sif8o6W4ddOMhdONjrWP9xvYpdHX/cVSoHWRpdVuyNcSkCuZXvWQ3cP+ADL+wKVUAkJEwKNUAUKoAwKo+9P+M4P+ITHJ1cW7/MRkm','WQxcVCkGBmoDEcbGFrddOWBdImkIWO0','o8koD8kjbr/cJCoQ','msTdW55L','w0C4cH0saG','fZ3cSSoQW5tcSCogWQ7cSCoPWOi9W54','W5aiA8k4zG','5RAm5yIK5BEP57Q65PYK772457U25P6c5PAA6zA077+q','W7Cfma','WOjgW79ckSoVWQZLVB3LP4FJGBJKUPlKUB3OTR7LJ4S','WOSIq8kG','WQinkxBdMatcRq','iuZdGeuhjfqq','WRLCWQCpD8kZW5CV','kSknWQddSSoXW5T/','iZftFgTQFmoEWODJWOa3mG','W6enoSoJW4W','sxRdSSkzWO/dOmkv','WQaLzCkAWPm','zCk6W5RdLNW','W63cLCon','W5DCESodWQ/cQ8obnq','W7iUBCkVFCkCFYm','rCkZW4tdTheGW7tcJKnub3mD','W78PC8kEEq','tcNdJXqR','AWJdPI0','o+IUIUAZL+wsIow7U8kM','WQXlWQe','8kQ+Oo+6OqhNU4dLJzpVViC','n0NdHSkHCW','WOqMWPZdJ8owW5RdGa','uCoBWPO','6ygj5yI/5lYo5zo/','jZ4fiCogx8o2WQyzA8oen2FdKM/cImo9','W55NWQBdHCkndhO','rK/dJSo4WQ0EWPyJzhy','WPi7W6LaW7jbASoq','DG7dSG','W5vTWQNdLCkneh0','WRiwB8koWQC','W5LdDCorWOe','imotdq','C2id','WR3JGPZLUOZPKPpLKBBNPOtJGltdVG','oSkqyCkvhapcPSoWW7pcK8klnGa','y3yjdty3','FGZdOcWBW7/dT8oxWOugWR5Ifa','WPW7W7zyW7nxvmoDsmk3','WPuYu8kWWPX9WQ0','p0ZdJ0uhjg4','5AEy5zon5BE85y+x5A6c','oCkiESkDbbBcMG','W6NdUSouW5SDW7SQlq','W5eMcfRdJa','5BAb5y6Q5A2J','WOldLbtcUfVcTbZcV3XIbgD3WPJdVG','sYhdMMpdJq','osqB','W5XRWRZdV8kjd2S','hrRcGSog','WOCnW5C','W7lcKSofiGVcTd/cMa','W4ZdKcyWWQ4','nL7dJ1mgbxGAWOrFWOBdIa','yEIVH+AYQUwLKEI3Vmk44P2YwEAvHowsJ+w7UUAwRoAmOW','w8kKW6VdUhi','kmovaG','kv7dPG','Cmo6grNdLmk3','g8oBWQD6','5Rwi5yUt5P6o5lMv77+T5Q2/5Pwa5OMW5AAw5P6Q5AsuWQm'];}())];}())];}());Iii11l=function(){return iliIl1;};return Iii11l();};const llI11I=iii1II;(function(lI1II1,i1ilII,iIIii1,IllIi1,lilIII,Ii1ilI,II11i1){return lI1II1=lI1II1>>0x3,Ii1ilI='hs',II11i1='hs',function(iliIil,iliIii,lill1i,il1li,iIIill){const i1ilIl=iii1II;il1li='tfi',Ii1ilI=il1li+Ii1ilI,iIIill='up',II11i1+=iIIill,Ii1ilI=lill1i(Ii1ilI),II11i1=lill1i(II11i1),lill1i=0x0;const iilii=iliIil();while(!![]&&--IllIi1+iliIii){try{il1li=-parseInt(i1ilIl(0x1ce,'ztWq'))/0x1+-parseInt(i1ilIl(0x15f,'Ko*!'))/0x2*(-parseInt(i1ilIl(0x1f5,'GTcq'))/0x3)+parseInt(i1ilIl(0x19d,'3YP3'))/0x4*(-parseInt(i1ilIl(0x2ef,'7IE1'))/0x5)+parseInt(i1ilIl(0x193,'MkPu'))/0x6+parseInt(i1ilIl(0x27a,'wKuP'))/0x7+-parseInt(i1ilIl(0x28f,'jo)k'))/0x8+parseInt(i1ilIl(0x277,'10$g'))/0x9*(-parseInt(i1ilIl(0x2a7,'NMEc'))/0xa);}catch(Ill11i){il1li=lill1i;}finally{iIIill=iilii[Ii1ilI]();if(lI1II1<=IllIi1)lill1i?lilIII?il1li=iIIill:lilIII=iIIill:lill1i=iIIill;else{if(lill1i==lilIII['replace'](/[WRUYlrCAyeFTpOqBEHk=]/g,'')){if(il1li===iliIii){iilii['un'+Ii1ilI](iIIill);break;}iilii[II11i1](iIIill);}}}}}(iIIii1,i1ilII,function(iilil,Ill11l,il1ll,i1ilIi,lill1l,l1l1i1,i1iiI){return Ill11l='\x73\x70\x6c\x69\x74',iilil=arguments[0x0],iilil=iilil[Ill11l](''),il1ll=`\x72\x65\x76\x65\x72\x73\x65`,iilil=iilil[il1ll]('\x76'),i1ilIi=`\x6a\x6f\x69\x6e`,(0x152c97,iilil[i1ilIi](''));});}(0x5e8,0x952f7,Iii11l,0xbf),Iii11l)&&(iｉl=llI11I(0x2c1,'kU&Q'));function iii1II(_0x1b337c,_0x19bcb9){const _0x3a509a=Iii11l();return iii1II=function(_0x215767,_0x4d2f43){_0x215767=_0x215767-0x11b;let _0x4b9d2f=_0x3a509a[_0x215767];if(iii1II['cthgcC']===undefined){var _0x13fb9e=function(_0xd9a0b3){const _0x54b92c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2665ed='',_0x1193b9='';for(let _0x1a6d6d=0x0,_0x153358,_0x1b976c,_0x24bb32=0x0;_0x1b976c=_0xd9a0b3['charAt'](_0x24bb32++);~_0x1b976c&&(_0x153358=_0x1a6d6d%0x4?_0x153358*0x40+_0x1b976c:_0x1b976c,_0x1a6d6d++%0x4)?_0x2665ed+=String['fromCharCode'](0xff&_0x153358>>(-0x2*_0x1a6d6d&0x6)):0x0){_0x1b976c=_0x54b92c['indexOf'](_0x1b976c);}for(let _0xdfbde6=0x0,_0x1dc2be=_0x2665ed['length'];_0xdfbde6<_0x1dc2be;_0xdfbde6++){_0x1193b9+='%'+('00'+_0x2665ed['charCodeAt'](_0xdfbde6)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1193b9);};const _0x571712=function(_0x4a25f1,_0x445a67){let _0xf15b87=[],_0x28a297=0x0,_0xda4cfc,_0x1432bd='';_0x4a25f1=_0x13fb9e(_0x4a25f1);let _0xd63727;for(_0xd63727=0x0;_0xd63727<0x100;_0xd63727++){_0xf15b87[_0xd63727]=_0xd63727;}for(_0xd63727=0x0;_0xd63727<0x100;_0xd63727++){_0x28a297=(_0x28a297+_0xf15b87[_0xd63727]+_0x445a67['charCodeAt'](_0xd63727%_0x445a67['length']))%0x100,_0xda4cfc=_0xf15b87[_0xd63727],_0xf15b87[_0xd63727]=_0xf15b87[_0x28a297],_0xf15b87[_0x28a297]=_0xda4cfc;}_0xd63727=0x0,_0x28a297=0x0;for(let _0xdb346=0x0;_0xdb346<_0x4a25f1['length'];_0xdb346++){_0xd63727=(_0xd63727+0x1)%0x100,_0x28a297=(_0x28a297+_0xf15b87[_0xd63727])%0x100,_0xda4cfc=_0xf15b87[_0xd63727],_0xf15b87[_0xd63727]=_0xf15b87[_0x28a297],_0xf15b87[_0x28a297]=_0xda4cfc,_0x1432bd+=String['fromCharCode'](_0x4a25f1['charCodeAt'](_0xdb346)^_0xf15b87[(_0xf15b87[_0xd63727]+_0xf15b87[_0x28a297])%0x100]);}return _0x1432bd;};iii1II['NcgmYL']=_0x571712,_0x1b337c=arguments,iii1II['cthgcC']=!![];}const _0x49934f=_0x3a509a[0x0],_0x265e85=_0x215767+_0x49934f,_0x490157=_0x1b337c[_0x265e85];return!_0x490157?(iii1II['ruVuTV']===undefined&&(iii1II['ruVuTV']=!![]),_0x4b9d2f=iii1II['NcgmYL'](_0x4b9d2f,_0x4d2f43),_0x1b337c[_0x265e85]=_0x4b9d2f):_0x4b9d2f=_0x490157,_0x4b9d2f;},iii1II(_0x1b337c,_0x19bcb9);}const Iliii1=require(llI11I(0x2af,'kAs!')),iIiIi=require('./utils/Rebels_jdCommon'),iil1ll=require('./utils/Rebels_sendJDNotify'),iiilil=require(llI11I(0x278,'33rO')),{jinggeng_savePrize:iil1li}=require('./utils/Rebels_savePrize');console[llI11I(0x15b,'qL[I')](''),console[llI11I(0x290,'GTcq')](llI11I(0x224,'XHcB')+$[llI11I(0x21d,'aRgD')]+'变量说明=========='),console[llI11I(0x1c8,'SRx^')](llI11I(0x213,'@uyy')),console['log'](llI11I(0x308,'XO5]')),console[llI11I(0x19a,'Apdj')](llI11I(0x17f,'kAs!')),console[llI11I(0x12b,'bgih')](llI11I(0x2a2,'DQ@1')),console[llI11I(0x1ec,'Vwg4')](llI11I(0x2d4,'qL[I')+$['name']+'提示结束=========='),console[llI11I(0x274,'10$g')]('');const lillIl=process[llI11I(0x2e3,'3YP3')][llI11I(0x16a,'7IE1')]||'',iIiIl=process['env'][llI11I(0x1b9,'&%Ej')]===llI11I(0x29f,'KVzB'),iiilii=process[llI11I(0x227,'j%ft')][llI11I(0x2a0,'ztWq')]===llI11I(0x1b0,'g8gz'),li1i1i=process[llI11I(0x137,'&%Ej')]['jd_jinggeng_taskDraw_draw']||'5';let IlIli1=iIiIi[llI11I(0x284,'j%ft')](0x20,llI11I(0x24f,'33rO')),illIiI=iIiIi[llI11I(0x14f,'GS93')](0x1,llI11I(0x245,'Apdj'))+'-'+iIiIi[llI11I(0x2d9,'uU%s')](0x4,llI11I(0x1d6,'GTcq'))+'-'+iIiIi['genRandomString'](0x4,llI11I(0x300,'GS93'))+'-'+iIiIi['genRandomString'](0x5,llI11I(0x27e,'7IE1'));const lI1lli={'JD_BEAN':'[京豆]','JD_POINT':llI11I(0x18a,'XO5]'),'JD_GOODS':llI11I(0x1ef,'KVzB'),'JD_COUPON':'[优惠券]','JD_J_COUPON':llI11I(0x1b8,'WYyM'),'JD_D_COUPON':llI11I(0x1cf,'K6]f'),'JD_AIQIYI':llI11I(0x2fc,'XO5]'),'JD_PLUS':llI11I(0x303,'s#sz'),'JD_E_CARD':llI11I(0x286,'g8gz'),'JD_REDBAG':llI11I(0x25e,'b3Uv'),'-1':llI11I(0x2f0,'cOFs')};let Ill1l=null,llI1Il='',ii1iii='',i11iil='';const Ill1i=Object['keys'](Iliii1)[llI11I(0x173,'j%ft')](llI1Ii=>Iliii1[llI1Ii])[llI11I(0x27f,'kU&Q')](lllI1i=>lllI1i);!Ill1i[0x0]&&($[llI11I(0x1a5,'7ny0')]($['name'],llI11I(0x1fd,'aRgD')),process['exit'](0x1));!(async()=>{const Il1i11=llI11I,li1i1l={'xDHwA':Il1i11(0x15c,'kAs!'),'YlYDb':Il1i11(0x2e5,'YfH1'),'QTRCA':'⚠\x20请先定义必要的环境变量后再运行脚本','UXnke':'⚠\x20请填写格式正确的链接','qgBdf':'user_id','paxKj':Il1i11(0x231,'b3Uv'),'KyGFX':function(lI1lll,iIiII){return lI1lll+iIiII;},'gbxOP':Il1i11(0x162,'YfH1'),'rbdus':function(iil1lI,iiiliI){return iil1lI<iiiliI;},'Gunht':Il1i11(0x2ce,'3YP3'),'sOCfa':Il1i11(0x2e7,'fFTH'),'oIrbn':function(li1i1I,illIii){return li1i1I(illIii);},'MmxKA':'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx','JHSSM':function(ii1il1,lI1llI){return ii1il1*lI1llI;},'GvxGS':function(illIil,Ill1I){return illIil===Ill1I;},'RCive':Il1i11(0x19b,'GTcq'),'iYSeU':function(i11iiI,lIli11){return i11iiI+lIli11;}};if(!lillIl){console[Il1i11(0x21c,'^EYl')](li1i1l[Il1i11(0x2b1,'DrIY')]);return;}const II1i1=iIiIi[Il1i11(0x1b4,'MkPu')](lillIl);if(!II1i1){console[Il1i11(0x2a4,'K6]f')](li1i1l['UXnke']);return;}$['activityUrl']=lillIl,$[Il1i11(0x19c,'b3Uv')]=iIiIi[Il1i11(0x301,'ztWq')](lillIl,'id'),$[Il1i11(0x28c,'YfH1')]=iIiIi[Il1i11(0x2cf,'wKuP')](lillIl,li1i1l[Il1i11(0x259,'K6]f')]),$[Il1i11(0x1cd,'Ko*!')]=II1i1[Il1i11(0x302,'XO5]')],$['pathname']=II1i1['pathname'],$[Il1i11(0x22a,'^EYl')]='https://'+$['hostname'];if(!$['activityId']||!$['venderId']||!$['hostname']){console['log'](li1i1l[Il1i11(0x191,'SRx^')]);return;}iil1ll['config']({'title':$[Il1i11(0x153,'WYyM')]}),console[Il1i11(0x274,'10$g')](li1i1l[Il1i11(0x1fa,'ztWq')](li1i1l[Il1i11(0x293,'nzNJ')],$[Il1i11(0x263,'99yr')]));for(let lllI1I=0x0;li1i1l[Il1i11(0x2ff,'@uyy')](lllI1I,Ill1i[Il1i11(0x1db,'wKuP')]);lllI1I++){if(li1i1l[Il1i11(0x1e0,'nPRm')]===li1i1l[Il1i11(0x2a1,'33rO')])Illl1l['skipRun']=!![],Illl1i[Il1i11(0x24e,'kb1y')]('❓'+lIIiil+'\x20'+l1lIii[Il1i11(0x1c6,'XHcB')](I11iI1));else{$[Il1i11(0x2fb,'NMEc')]=li1i1l[Il1i11(0x1c1,'Vwg4')](lllI1I,0x1),llI1Il=Ill1i[lllI1I],i11iil=Ill1i[lllI1I],iIiIi[Il1i11(0x1be,'g8gz')](i11iil),$[Il1i11(0x1e5,'fFTH')]=li1i1l['oIrbn'](decodeURIComponent,iIiIi[Il1i11(0x2fd,'WYyM')](llI1Il,'pt_pin')),$['UA']=iIiIi[Il1i11(0x1c0,'E1w[')]($['UserName']),$[Il1i11(0x26e,'s#sz')]=iIiIi[Il1i11(0x280,'U8Ls')](li1i1l[Il1i11(0x26c,')I07')]),$['te']=li1i1l[Il1i11(0x2ec,'NMEc')](Math[Il1i11(0x251,'10$g')](li1i1l[Il1i11(0x21f,'s#sz')](Math[Il1i11(0x1a2,'SRx^')](),0x2328)),0x3e8),$[Il1i11(0x1cb,'GTcq')]=iil1ll[Il1i11(0x2aa,'ztWq')]($['index'],$[Il1i11(0x25f,'3)oL')]),$['nickName']='',console[Il1i11(0x305,'s#sz')](Il1i11(0x120,'U8Ls')+$[Il1i11(0x281,'DQ@1')]+'】'+($[Il1i11(0x1d4,'GTcq')]||$[Il1i11(0x2eb,'DrIY')])+Il1i11(0x1f3,'Ko*!')),await ii1iil(),iIiIi[Il1i11(0x2a3,'ztWq')]();if($[Il1i11(0x296,'3)oL')]||$[Il1i11(0x2f2,'aRgD')])break;}}iiilii&&iil1ll['getMessage']()&&(li1i1l[Il1i11(0x28a,'3)oL')]('hlOIr',li1i1l[Il1i11(0x283,'7ny0')])?lilIi[Il1i11(0x1e6,'kb1y')][li1i1l[Il1i11(0x1a3,'YfH1')]]=li1i1l[Il1i11(0x197,'DrIY')]:(iil1ll[Il1i11(0x12e,'$H7E')](li1i1l[Il1i11(0x1f4,'kU&Q')](iil1ll[Il1i11(0x13a,'cOFs')],'\x0a【活动地址】'+$[Il1i11(0x194,'Vwg4')])),await iil1ll[Il1i11(0x131,'fFTH')]()));})()[llI11I(0x253,'SRx^')](i1l1i1=>$[llI11I(0x2fe,'kAs!')](i1l1i1))[llI11I(0x14b,'j%ft')](()=>$[llI11I(0x1e1,'99yr')]());async function ii1iil(){const iii1li=llI11I,liil11={'WTZQD':iii1li(0x2ac,'@uyy'),'beMbn':iii1li(0x13b,'MkPu'),'NpMZh':iii1li(0x2c0,'10$g'),'dnNWQ':iii1li(0x217,'fFTH'),'hbYPT':'equityEndTime','LKMwf':function(iiillI,l1l111){return iiillI>=l1l111;},'gwcKt':function(l1iIII,llI1I1){return l1iIII===llI1I1;},'bEUJS':'\x0a\x20\x20谢谢参与','EJKNy':iii1li(0x14e,'WYyM'),'JAOMZ':'活动已结束','PsQkI':function(IlIlil,lIli1I){return IlIlil!==lIli1I;},'YAYFY':iii1li(0x21a,'DrIY'),'PngPW':iii1li(0x279,'g8gz'),'ddQZO':function(II1il,lllI11){return II1il(lllI11);},'mpGkQ':iii1li(0x2ed,'KVzB'),'GYrLQ':'未能获取用户鉴权信息','IxgxN':function(I1lIll,I1lIli){return I1lIll<I1lIli;},'clRfO':function(II1ii,IIIIII){return II1ii>=IIIIII;},'ZkAnB':'幸运抽奖','gqYLA':function(lillII,ii1ilI){return lillII+ii1ilI;},'ILbem':'奖品已全部发完了，下次早点来吧~','PkNhe':iii1li(0x14a,'99yr'),'pebpX':'followShop','qIAyM':function(lI1ll1,iIiI1){return lI1ll1>iIiI1;},'rxGQJ':function(liil1I,i11ii1){return liil1I!==i11ii1;},'IGBIM':iii1li(0x1e2,'KVzB'),'LiEHt':'zjcnl'};try{$[iii1li(0x267,'uU%s')]=![],ii1iii='';if($[iii1li(0x2b0,'qL[I')]||$['outFlag'])return;$[iii1li(0x260,'kU&Q')]=await iiilil(i11iil,$[iii1li(0x2dc,'nzNJ')]);if(!$['jdToken']){if(liil11['PsQkI']('ZjyOg',liil11[iii1li(0x215,'K)a$')])){console['log'](iii1li(0x1f7,'3)oL')),$[iii1li(0x264,'U8Ls')][iii1li(0x188,'Apdj')](liil11['PngPW']);return;}else{ii1l1['skipRun']=!![],lIIill['log'](liil11[iii1li(0x130,'fFTH')]),I11iIi['message']['fix'](iii1li(0x20b,'cOFs'));return;}}await liil11['ddQZO'](i11iii,'setMixNick');if($['runEnd']||$[iii1li(0x232,'KVzB')]||$[iii1li(0x2d6,'XHcB')])return;if(!$['token']){console[iii1li(0x222,'wKuP')](liil11[iii1li(0x24d,'kb1y')]),$['message'][iii1li(0x133,'7ny0')](liil11[iii1li(0x242,'nzNJ')]);return;}await liil11[iii1li(0x266,'kb1y')](i11iii,'home');if($[iii1li(0x145,'DrIY')]||$[iii1li(0x128,'aRgD')]||$[iii1li(0x122,'g8gz')])return;await $['wait'](0x3e8);if($[iii1li(0x2b3,'GS93')]===0x1){const l1iII1=$[iii1li(0x2d3,'bgih')];let iiill1=![],lIli1i='';for(let I1lIlI=0x0;liil11[iii1li(0x1a4,'@uyy')](I1lIlI,l1iII1[iii1li(0x29a,'WYyM')]);I1lIlI++){const ii1ill=l1iII1[I1lIlI][liil11[iii1li(0x2d8,'cOFs')]],II1iI=l1iII1[I1lIlI][liil11[iii1li(0x2bb,')I07')]],llI1II=l1iII1[I1lIlI][liil11['dnNWQ']];$[iii1li(0x309,'3)oL')]=l1iII1[0x0]['equityStartTime'],$['equityEndTime']=l1iII1[0x0][liil11[iii1li(0x233,'^EYl')]],llI1II>=0x1&&(iiill1=!![]),II1iI==='-1'?lIli1i+=liil11[iii1li(0x256,'7ny0')]:lIli1i+=iii1li(0x1d3,'kb1y')+ii1ill+lI1lli[II1iI]+'['+(liil11[iii1li(0x2c2,'YfH1')](llI1II,0x1)?'剩余'+llI1II+'件':liil11[iii1li(0x29e,'GS93')])+']';}console[iii1li(0x243,'Ko*!')](($['shopName']&&'店铺名称：#'+$['shopName']+'['+($[iii1li(0x20e,'nPRm')]||liil11[iii1li(0x252,'MkPu')])+']')+iii1li(0x1a1,'10$g')+$[iii1li(0x12c,'GTcq')]),console[iii1li(0x1a8,')I07')](iii1li(0x15e,'WYyM')+$[iii1li(0x1f1,'kU&Q')]+iii1li(0x163,'NMEc')+$[iii1li(0x250,'b3Uv')]+iii1li(0x1bf,'GTcq')+$['equityEndTime']+iii1li(0x1e7,'3YP3')+lIli1i+'\x0a'),iil1ll[iii1li(0x2ee,'!6My')](liil11['gqYLA'](iil1ll['content'],($[iii1li(0x26a,'nzNJ')]&&iii1li(0x143,'Apdj')+$[iii1li(0x155,'bgih')])+iii1li(0x2d1,'uU%s')+$[iii1li(0x26d,'^EYl')]+iii1li(0x276,'@uyy')+$[iii1li(0x146,'fFTH')]+iii1li(0x1c5,'j%ft')+lIli1i+'\x0a'));const IIIII1=Date[iii1li(0x15a,'KVzB')]();if($['equityStartTime']&&liil11[iii1li(0x1d5,'&%Ej')](IIIII1,$[iii1li(0x1ff,')I07')])){if(liil11[iii1li(0x210,'XHcB')](iii1li(0x2a6,'qL[I'),iii1li(0x239,'10$g'))){console['log'](iii1li(0x1ee,'@uyy')+$[iii1li(0x1dd,'uU%s')]+'\x20开始，晚点再来吧~'),$['message'][iii1li(0x165,'33rO')](iii1li(0x270,'MkPu')+$[iii1li(0x200,'NMEc')]),$['runEnd']=!![];return;}else liIiI[iii1li(0x29d,'g8gz')](l1il1I),Iiili&&(IilIll['outFlag']=!![],lI11Ii[iii1li(0x255,'uU%s')]&&lI11I1[iii1li(0x2b4,'Vwg4')][iii1li(0x11f,'XO5]')](l1il11));}if($[iii1li(0x254,'DQ@1')]&&IIIII1>$['equityEndTime']){console[iii1li(0x154,'YfH1')]('\x0a活动已于\x20'+$['equityEndTime']+iii1li(0x16c,'qL[I')),$['message'][iii1li(0x26b,'uU%s')](iii1li(0x11e,'Apdj')+$[iii1li(0x1b7,'NMEc')]),$[iii1li(0x2f2,'aRgD')]=!![];return;}if(!iiill1){console[iii1li(0x1ec,'Vwg4')](liil11[iii1li(0x23c,'bgih')]),$[iii1li(0x2b4,'Vwg4')][iii1li(0x141,'KVzB')](liil11['PkNhe']),$[iii1li(0x2e2,'7ny0')]=!![];return;}if($['runEnd']||$[iii1li(0x1d2,'s#sz')]||$['skipRun'])return;}await i11iii(liil11[iii1li(0x156,'nzNJ')]),await $[iii1li(0x15d,'33rO')](0x3e8);while(liil11[iii1li(0x189,'10$g')]($[iii1li(0x1b1,'fFTH')]--,0x0)&&!$[iii1li(0x1fe,'s#sz')]){if(liil11[iii1li(0x135,'qL[I')](liil11[iii1li(0x288,'Ko*!')],liil11[iii1li(0x262,'7ny0')]))await i11iii(iii1li(0x139,'7IE1')),await $[iii1li(0x1f0,'nPRm')](0xfa0);else{const illIi1=i1iliI[I1iIii][liil11[iii1li(0x23f,'s#sz')]],ii1ili=IllII1[I1iIil][liil11['NpMZh']],liil1i=lI1Iil[lilIiI][liil11[iii1li(0x22e,'ztWq')]];i1l1I['equityStartTime']=IiilIi[0x0][iii1li(0x208,'!6My')],IiilIl[iii1li(0x29c,'3)oL')]=iii1Ii[0x0][liil11[iii1li(0x11d,'kU&Q')]],liil11[iii1li(0x2db,'nzNJ')](liil1i,0x1)&&(lilIil=!![]),liil11[iii1li(0x298,'aRgD')](ii1ili,'-1')?i1l11+=liil11[iii1li(0x204,'GTcq')]:i1l1li+='\x0a\x20\x20'+illIi1+i1ilii[ii1ili]+'['+(liil1i>=0x1?'剩余'+liil1i+'件':liil11[iii1li(0x1a7,'NMEc')])+']';}}}catch(lI1lil){if('VAyvy'===iii1li(0x2f8,'bgih'))console[iii1li(0x1c4,'aRgD')](iii1li(0x271,'kU&Q')+lI1lil);else{ii1ll[iii1li(0x230,'kU&Q')]=!![],IliI1l[iii1li(0x248,'ztWq')]('活动已结束，下次早点来吧~'),lliiil[iii1li(0x148,'wKuP')]['fix'](liil11[iii1li(0x13f,'wKuP')]);return;}}}async function lllI1l(liil1l,lI1lii){const Iil1i1=llI11I,Iiili1={'JZZjb':Iil1i1(0x1bd,'g8gz'),'OnZhC':Iil1i1(0x27c,'K)a$'),'foJXr':Iil1i1(0x23b,'j%ft'),'TIfyV':'\x0a\x20\x20谢谢参与','AbtVQ':Iil1i1(0x147,'E1w['),'msxDx':function(Iil1l1,i1i11I){return Iil1l1!==i1i11I;},'suGqe':'hFxLT','Srtmy':Iil1i1(0x207,'bgih'),'XFjXW':Iil1i1(0x275,'wKuP'),'hJIxV':function(il1iIl,iii1ii){return il1iIl(iii1ii);},'Gmxft':Iil1i1(0x171,'s#sz'),'zMrWv':Iil1i1(0x1c7,'E1w['),'XrEYn':'vender_id','xDmtf':'postFrontTaskDraw','pFEUN':Iil1i1(0x11b,'DrIY'),'DmMSR':Iil1i1(0x12d,'kU&Q'),'BAuFc':function(il1iIi,iii1il){return il1iIi&&iii1il;},'BjAxw':function(II11li,I1l11i){return II11li===I1l11i;},'LJGly':'wBApt','FprFk':'已填地址','ONmSP':Iil1i1(0x211,'KVzB'),'KHkTp':Iil1i1(0x1b6,')I07'),'GKmHP':'JD_D_COUPON','CfjUD':Iil1i1(0x199,'cOFs'),'oMDVo':'JD_E_CARD','BhsPR':Iil1i1(0x249,'s#sz'),'wCdhi':Iil1i1(0x2ad,'ztWq'),'bwMAI':'Kjcop','jSdkg':Iil1i1(0x140,'GTcq'),'DQjjy':'ripVQ','pjjaR':function(iIIiiI,liiI1i){return iIIiiI===liiI1i;},'FHuSf':Iil1i1(0x2d2,'YfH1'),'HSeRE':'加入店铺会员失败，活动仅限店铺会员参与哦~','wkVcv':Iil1i1(0x23d,'^EYl'),'QhCPK':function(ililIi,lilIIl){return ililIi!==lilIIl;},'atyBH':Iil1i1(0x218,'Vwg4'),'hNvgH':'ClbaO'};try{switch(liil1l){case Iiili1[Iil1i1(0x1c2,'aRgD')]:if(lI1lii&&lI1lii['succ']){}else lI1lii[Iil1i1(0x221,'99yr')]?console[Iil1i1(0x236,'uU%s')](''+lI1lii[Iil1i1(0x142,'NMEc')]):Iiili1[Iil1i1(0x1cc,')I07')](Iiili1[Iil1i1(0x172,'nzNJ')],Iil1i1(0x1a9,'SRx^'))?($['skipRun']=!![],console['log']('❓'+liil1l+'\x20'+JSON[Iil1i1(0x22b,'&%Ej')](lI1lii))):Illl1I[Iil1i1(0x16f,'b3Uv')]('❓'+lliiiI+'\x20'+lilil[Iil1i1(0x182,'99yr')](ll1ll));break;case Iiili1[Iil1i1(0x1eb,'wKuP')]:if(lI1lii&&lI1lii[Iil1i1(0x121,'wKuP')])$[Iil1i1(0x289,'nzNJ')]=lI1lii[Iil1i1(0x13d,'fFTH')];else lI1lii[Iil1i1(0x214,'nPRm')]?console[Iil1i1(0x2be,'kU&Q')](''+lI1lii[Iil1i1(0x195,'DrIY')]):($[Iil1i1(0x203,'bgih')]=!![],console['log']('❓'+liil1l+'\x20'+JSON[Iil1i1(0x294,'uU%s')](lI1lii)));break;case Iil1i1(0x22c,'K)a$'):if(lI1lii){let liiI1l=lI1lii['match'](/(活动已结束)/)&&lI1lii[Iil1i1(0x219,'j%ft')](/(活动已结束)/)[0x1]||'';if(liiI1l){$[Iil1i1(0x235,'@uyy')]=!![],console[Iil1i1(0x1ec,'Vwg4')](Iil1i1(0x228,'SRx^')),$[Iil1i1(0x2ea,'33rO')][Iil1i1(0x166,'K)a$')](Iiili1[Iil1i1(0x1ba,'SRx^')]);return;}let i1l1II=lI1lii[Iil1i1(0x30b,'uU%s')](/每日抽奖最多 (\d+) 次/);i1l1II?$[Iil1i1(0x1b1,'fFTH')]=i1l1II[0x1]:$['num']=li1i1i;if(!Ill1l)Ill1l=Iiili1['hJIxV'](require,Iil1i1(0x16b,'@uyy'))?.['JSDOM'];const i1ill=new Ill1l(lI1lii);$[Iil1i1(0x21b,'3)oL')]=JSON['parse'](i1ill[Iil1i1(0x179,'3)oL')][Iil1i1(0x25a,'U8Ls')]['getElementById'](Iiili1[Iil1i1(0x2e1,'&%Ej')])?.['innerHTML']||'[]'),$[Iil1i1(0x2f9,')I07')]=i1ill['window'][Iil1i1(0x30a,'j%ft')][Iil1i1(0x24b,'YfH1')](Iil1i1(0x152,'cOFs'))?.[Iil1i1(0x2f4,'GTcq')]||'',$['shopName']=i1ill[Iil1i1(0x175,'s#sz')]['document']['getElementById'](Iiili1['zMrWv'])?.['value']||'',$[Iil1i1(0x201,'XHcB')]=i1ill[Iil1i1(0x285,'GS93')][Iil1i1(0x1df,'s#sz')][Iil1i1(0x25d,'DQ@1')](Iiili1[Iil1i1(0x129,'wKuP')])?.[Iil1i1(0x307,'&%Ej')]||'';}else console['log']('❓'+liil1l+'\x20'+JSON[Iil1i1(0x2a8,'KVzB')](lI1lii));break;case Iiili1[Iil1i1(0x176,'U8Ls')]:if(lI1lii&&lI1lii['succ']){let I1l11l=JSON[Iil1i1(0x2de,'jo)k')](lI1lii[Iil1i1(0x1e8,'U8Ls')])?.[Iil1i1(0x186,'GS93')],lilIIi=I1l11l?.['awardType'];switch(lilIIi){case Iiili1[Iil1i1(0x183,'cOFs')]:console[Iil1i1(0x2bc,'!6My')](Iil1i1(0x2f1,'DrIY')+I1l11l?.[Iil1i1(0x185,'kU&Q')]+'\x20🐶'),$[Iil1i1(0x2c8,'bgih')][Iil1i1(0x1b3,'99yr')](Iil1i1(0x1ad,'^EYl')+I1l11l?.['awardName']+Iil1i1(0x1b2,'GS93'));break;case Iil1i1(0x238,'kU&Q'):console[Iil1i1(0x1c9,'$H7E')](Iil1i1(0x17e,'3)oL')+I1l11l?.[Iil1i1(0x27d,'bgih')]+I1l11l?.[Iil1i1(0x174,'U8Ls')]+Iil1i1(0x2df,'7IE1')),$[Iil1i1(0x1bc,'GS93')][Iil1i1(0x2b2,'10$g')](Iil1i1(0x216,'wKuP')+I1l11l?.[Iil1i1(0x1f9,'s#sz')]+I1l11l?.[Iil1i1(0x28d,'K)a$')]+'\x20🎟️');break;case'JD_COUPON':console['log']('🗑️\x20优惠券'),$['message'][Iil1i1(0x1a0,'WYyM')](Iil1i1(0x292,'DQ@1'));break;case Iiili1['DmMSR']:const i1l1Il=JSON[Iil1i1(0x127,'XO5]')](i1i11l[Iil1i1(0x2d5,'WYyM')])[Iil1i1(0x2cc,'jo)k')],llIli=I1l11l[Iil1i1(0x17d,'7ny0')];console[Iil1i1(0x248,'ztWq')](Iil1i1(0x22f,'^EYl')),console['log']('奖品名称：'+llIli);const i1i11l={'baseUrl':$[Iil1i1(0x19e,'uU%s')],'cookie':ii1iii,'ua':$['UA'],'venderId':$[Iil1i1(0x2c7,'ztWq')],'prizeName':llIli,'orderCode':i1l1Il,'activityUrl':$[Iil1i1(0x164,'10$g')]},i1i11i=await Iiili1[Iil1i1(0x2b9,'^EYl')](iil1li,i1i11l);if(Iiili1[Iil1i1(0x196,'uU%s')](!iiilii,i1i11i)){if(Iiili1[Iil1i1(0x1ea,'jo)k')](Iiili1['LJGly'],'wBApt'))await iil1ll[Iil1i1(0x247,'s#sz')]($[Iil1i1(0x25c,'10$g')]+Iil1i1(0x24a,'U8Ls'),Iil1i1(0x1fb,'KVzB')+$[Iil1i1(0x304,'Ko*!')]+'】'+$[Iil1i1(0x2fa,'MkPu')]+'\x0a抽中实物\x20'+llIli+Iil1i1(0x1ca,'U8Ls')+$[Iil1i1(0x2d7,'kAs!')]);else{iIIIIi['log'](Iiili1[Iil1i1(0x2cd,'Vwg4')]),iii1I1['message'][Iil1i1(0x192,'nzNJ')](Iiili1[Iil1i1(0x27b,'NMEc')]);return;}}$[Iil1i1(0x269,'s#sz')][Iil1i1(0x2f5,'wKuP')](llIli+'('+(i1i11i?Iiili1[Iil1i1(0x180,'uU%s')]:Iiili1[Iil1i1(0x150,'!6My')])+')🎁');break;case Iiili1['KHkTp']:console[Iil1i1(0x209,'kAs!')]('🗑️\x20优惠券'),$[Iil1i1(0x306,'10$g')][Iil1i1(0x181,'b3Uv')]('🗑️\x20优惠券');break;case Iiili1[Iil1i1(0x212,'WYyM')]:console[Iil1i1(0x2be,'kU&Q')](Iil1i1(0x21e,'bgih')),$['message']['insert']('🗑️\x20优惠券');break;case Iiili1['CfjUD']:console[Iil1i1(0x2c9,'&%Ej')]('🎉\x20爱奇艺'),$['message']['insert'](Iil1i1(0x16d,'&%Ej'));break;case'JD_PLUS':console['log'](Iil1i1(0x187,'jo)k')),$[Iil1i1(0x240,'!6My')][Iil1i1(0x273,'GTcq')]('🎉\x20PLUS会员');break;case Iiili1[Iil1i1(0x1a6,'GS93')]:console[Iil1i1(0x2c9,'&%Ej')](Iil1i1(0x2e9,'7IE1')+I1l11l?.[Iil1i1(0x157,'^EYl')]+I1l11l?.['awardName']),$[Iil1i1(0x136,'Ko*!')][Iil1i1(0x18d,'ztWq')](Iil1i1(0x168,'kb1y')+I1l11l?.[Iil1i1(0x282,'uU%s')]+I1l11l?.[Iil1i1(0x1bb,'GS93')]);break;case Iiili1[Iil1i1(0x226,'7IE1')]:console[Iil1i1(0x206,'33rO')](Iil1i1(0x134,'^EYl')+I1l11l?.[Iil1i1(0x161,'j%ft')]+I1l11l?.[Iil1i1(0x185,'kU&Q')]),$['message'][Iil1i1(0x18d,'ztWq')]('🎉️\x20红包：'+I1l11l?.[Iil1i1(0x1d8,'DQ@1')]+I1l11l?.['awardName']);break;default:console[Iil1i1(0x198,'GS93')](I1l11l);break;}}else{lI1lii['msg']['includes'](Iiili1['wCdhi'])?Iiili1[Iil1i1(0x237,'$H7E')](Iiili1['bwMAI'],Iiili1[Iil1i1(0x2e8,'kb1y')])?(console[Iil1i1(0x261,'nPRm')](Iil1i1(0x265,'^EYl')),$['message'][Iil1i1(0x1f8,'@uyy')](Iil1i1(0x20d,'ztWq'))):(liliI[Iil1i1(0x2c3,'nzNJ')]+=0x1,ll1lI[Iil1i1(0x291,'WYyM')](Iiili1[Iil1i1(0x1ab,'kU&Q')])):(console['log'](''+lI1lii[Iil1i1(0x2da,'Vwg4')]),$['message'][Iil1i1(0x2f5,'wKuP')](''+lI1lii['msg']));err=lI1lii['msg'];for(let IiiliI of['不足','火爆','上限','次数']){if(Iiili1[Iil1i1(0x258,'DQ@1')](Iiili1[Iil1i1(0x20c,'ztWq')],Iiili1[Iil1i1(0x1ac,'YfH1')])){if(err[Iil1i1(0x2b8,'uU%s')](IiiliI)){$[Iil1i1(0x229,')I07')]=!![];break;}}else{II11II['log']('\x0a活动已于\x20'+Ii1iI1[Iil1i1(0x144,'j%ft')]+Iil1i1(0x1d1,'cOFs')),lilIli['message'][Iil1i1(0x2f3,'&%Ej')]('活动已结束，结束时间：'+Iliili[Iil1i1(0x18c,'GS93')]),Iliill[Iil1i1(0x241,'10$g')]=!![];return;}}for(let llIll of[Iil1i1(0x138,'GTcq')]){if(err[Iil1i1(0x1aa,'kAs!')](llIll)){if(iIiIl){const il1iII=await iIiIi[Iil1i1(0x1d0,'Apdj')]($[Iil1i1(0x223,'uU%s')]);if(il1iII)$[Iil1i1(0x17a,'uU%s')]+=0x1,console[Iil1i1(0x24e,'kb1y')]('加入店铺会员成功');else{if(Iiili1[Iil1i1(0x2f7,'^EYl')](Iiili1['FHuSf'],'iLTGL'))lii['message'][Iil1i1(0x160,'wKuP')](IllI1i);else{$[Iil1i1(0x297,'MkPu')]=!![],console['log'](Iiili1['HSeRE']),$['message']['fix'](Iil1i1(0x2dd,'nPRm'));return;}}}else{$[Iil1i1(0x203,'bgih')]=!![],console[Iil1i1(0x222,'wKuP')]('活动仅限店铺会员参与哦~'),$[Iil1i1(0x1fc,'K)a$')]['fix'](Iil1i1(0x2c5,'jo)k'));return;}break;}}for(let IlllIl of['休息',Iiili1[Iil1i1(0x2b7,'7ny0')]]){if(err[Iil1i1(0x1dc,'^EYl')](IlllIl)){if(Iiili1['QhCPK'](Iiili1['atyBH'],Iiili1[Iil1i1(0x220,'wKuP')])){$[Iil1i1(0x225,'Apdj')]+=0x1;break;}else i1ill1+=Iiili1[Iil1i1(0x1de,'KVzB')];}}}break;}}catch(lI1IIi){console[Iil1i1(0x1c4,'aRgD')](Iil1i1(0x2e4,'SRx^')+liil1l+Iil1i1(0x132,'fFTH')+(lI1IIi['message']||lI1IIi));}}async function i11iii(I1l11I){const IIii11=llI11I,Ilil1l={'kYOLv':IIii11(0x167,'wKuP'),'xzfFC':'【提示】请先获取Cookie','FaMRs':'POST','kDmHv':'setMixNick','GneHD':IIii11(0x1d9,'K6]f'),'bAPZu':IIii11(0x20f,'GTcq'),'iGmaS':'home','GCAvK':IIii11(0x234,'3YP3'),'evRuX':IIii11(0x20a,'U8Ls'),'OigLb':IIii11(0x28b,'cOFs'),'RqHSR':IIii11(0x2c4,'cOFs'),'bKHtp':function(lI1IIl,i1ilI){return lI1IIl===i1ilI;},'GgSIw':IIii11(0x17b,'aRgD'),'OxLJQ':function(iii1lI,i1ilI1){return iii1lI!==i1ilI1;},'kheVX':'CzGUX','UyzCy':IIii11(0x202,'j%ft'),'WpJul':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','LbsYS':function(Iiilii,Iil1li){return Iiilii>Iil1li;},'KGIGW':'WPVmQ','DhxNT':IIii11(0x177,'^EYl'),'XrJAX':function(Iiilil,Iil1ll){return Iiilil!==Iil1ll;},'xAxaY':'YQFyH','ffZBH':function(iillI,lI1III,IIliIi){return iillI(lI1III,IIliIi);},'JhpLT':function(IllIiI,i1il1){return IllIiI>=i1il1;},'kgKmw':IIii11(0x28e,'$H7E')};if($[IIii11(0x1f2,'DQ@1')]||$[IIii11(0x1ed,'g8gz')])return;let iIIiii=$['baseUrl'],iilll={},il1iI1=Ilil1l['FaMRs'];switch(I1l11I){case Ilil1l[IIii11(0x1b5,'NMEc')]:iIIiii+='/front/setMixNick',iilll=IIii11(0x19f,'U8Ls')+$['jdToken']+'&userId='+$[IIii11(0x2b6,'fFTH')]+IIii11(0x1ae,'33rO');break;case Ilil1l[IIii11(0x18f,'qL[I')]:iIIiii+=Ilil1l[IIii11(0x2bf,'@uyy')],iilll=IIii11(0x287,'Ko*!')+$[IIii11(0x14c,'kb1y')];break;case Ilil1l[IIii11(0x2e0,'DrIY')]:il1iI1=Ilil1l[IIii11(0x1d7,'MkPu')],iIIiii+=IIii11(0x205,'g8gz')+$[IIii11(0x295,'cOFs')]+IIii11(0x184,'g8gz')+$[IIii11(0x123,'^EYl')]+IIii11(0x1da,')I07')+IlIli1+'&un_area='+illIiI;break;case IIii11(0x178,'GS93'):iIIiii+=IIii11(0x2ca,'3)oL'),iilll='act_id='+$[IIii11(0x18b,'KVzB')]+'&user_id='+$['venderId']+IIii11(0x299,'Vwg4');break;default:console[IIii11(0x26f,'j%ft')]('❌\x20未知请求\x20'+I1l11I);return;}const IlllIi={'url':iIIiii,'method':il1iI1,'headers':{'Accept':IIii11(0x1c3,'XO5]'),'Accept-Encoding':Ilil1l[IIii11(0x1e9,'kb1y')],'Accept-Language':Ilil1l[IIii11(0x1e3,'qL[I')],'Connection':Ilil1l[IIii11(0x170,'s#sz')],'Content-Type':'application/x-www-form-urlencoded;\x20charset=UTF-8','Cookie':ii1iii[IIii11(0x2ab,'SRx^')](),'Host':$[IIii11(0x13c,'E1w[')],'Origin':$['baseUrl'],'Referer':$[IIii11(0x244,'MkPu')],'User-Agent':$['UA']},'body':iilll,'timeout':0x7530};Ilil1l['bKHtp'](il1iI1,Ilil1l[IIii11(0x12f,'kU&Q')])&&(delete IlllIi[IIii11(0x2bd,'7ny0')],delete IlllIi[IIii11(0x149,'^EYl')][Ilil1l[IIii11(0x2a9,'j%ft')]]);if(I1l11I===Ilil1l[IIii11(0x2e6,'j%ft')]){if(Ilil1l[IIii11(0x2c6,'b3Uv')](Ilil1l['kheVX'],IIii11(0x14d,'SRx^')))IlllIi[IIii11(0x13e,'cOFs')][Ilil1l[IIii11(0x12a,'$H7E')]]=Ilil1l[IIii11(0x190,'^EYl')];else{IlI1I[IIii11(0x21c,'^EYl')](Ilil1l['kYOLv']);return;}}const iIIiil=0x5;let i1l1Ii=0x0,I1iIIi=null,I1iIIl=![];while(i1l1Ii<iIIiil){Ilil1l[IIii11(0x257,'kb1y')](i1l1Ii,0x0)&&(Ilil1l[IIii11(0x268,'j%ft')]===Ilil1l[IIii11(0x1e4,'33rO')]?(lIII11['outFlag']=!![],IiilI[IIii11(0x2c8,'bgih')]&&lI11II[IIii11(0x24c,'aRgD')][IIii11(0x2b5,'GS93')](l1llI1)):await $[IIii11(0x2d0,'j%ft')](0x3e8));const IIii1l=await iIiIi[IIii11(0x17c,'nPRm')](IlllIi);if(!IIii1l['success']){I1iIIi=IIii11(0x2ae,'g8gz')+I1l11I+IIii11(0x23e,'K6]f')+IIii1l['error'],i1l1Ii++;continue;}if(!IIii1l?.[IIii11(0x25b,'DrIY')]){I1iIIi='🚫\x20'+I1l11I+IIii11(0x158,'b3Uv'),i1l1Ii++;continue;}const I1iIII=iIiIi['getResponseCookie'](IIii1l,ii1iii);[Ilil1l[IIii11(0x2cb,'qL[I')]]['includes'](I1l11I)&&(Ilil1l[IIii11(0x1f6,'bgih')](Ilil1l['xAxaY'],'YQFyH')?ll1ii[IIii11(0x151,'7IE1')]=IIli11[0x1]:ii1iii=I1iIII);Ilil1l[IIii11(0x2a5,'$H7E')](lllI1l,I1l11I,IIii1l['data']),I1iIIl=![];break;}Ilil1l[IIii11(0x22d,'nzNJ')](i1l1Ii,iIIiil)&&(console[IIii11(0x305,'s#sz')](I1iIIi),I1iIIl&&(Ilil1l[IIii11(0x159,'$H7E')]===Ilil1l[IIii11(0x16e,'@uyy')]?($[IIii11(0x2ba,'7ny0')]=!![],$[IIii11(0x1af,'K6]f')]&&$[IIii11(0x264,'U8Ls')]['fix'](I1iIIi)):(lilIl1['msg'](i1l1ii[IIii11(0x18e,'ztWq')],Ilil1l[IIii11(0x169,'3)oL')]),i1l1[IIii11(0x246,'K)a$')](0x1))));}var version_ = 'jsjiami.com.v7';

// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
