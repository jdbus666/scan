/*
活动名称：关注店铺有礼 · 京耕
活动链接：https://jinggeng-isv.isvjcloud.com/ql/front/showFavoriteShop?id=<活动id>&user_id=<店铺id>
环境变量：jd_jinggeng_favoriteShop_url // 活动链接
         jd_jinggeng_favoriteShop_opencard // 是否入会（true/false），默认不入会
         jd_jinggeng_favoriteShop_Notify // 是否通知（true/false），默认不通知


cron:1 1 1 1 *
============Quantumultx===============
[task_local]
#关注店铺有礼 · 京耕
1 1 1 1 * jd_jinggeng_favoriteShop.js, tag=关注店铺有礼 · 京耕, enabled=true

*/

const $ = new Env('关注店铺有礼（京耕）')
var iｉl='jsjiami.com.v7';const iillI=iii1II;(function(iilli,IlllIl,II11lI,lI1IIi,I1l11I,Ilil1l,iIIiii){return iilli=iilli>>0x9,Ilil1l='hs',iIIiii='hs',function(iilll,il1iI1,IlllIi,iIIiil,i1l1Ii){const Iil1ll=iii1II;iIIiil='tfi',Ilil1l=iIIiil+Ilil1l,i1l1Ii='up',iIIiii+=i1l1Ii,Ilil1l=IlllIi(Ilil1l),iIIiii=IlllIi(iIIiii),IlllIi=0x0;const I1iIIi=iilll();while(!![]&&--lI1IIi+il1iI1){try{iIIiil=parseInt(Iil1ll(0x26e,'1Hx5'))/0x1*(-parseInt(Iil1ll(0x26d,'isdx'))/0x2)+-parseInt(Iil1ll(0x32b,'AmC^'))/0x3*(parseInt(Iil1ll(0x18a,'rNe#'))/0x4)+-parseInt(Iil1ll(0x241,'Ya9N'))/0x5*(-parseInt(Iil1ll(0x27d,'4OF&'))/0x6)+parseInt(Iil1ll(0x1d5,'Rbkj'))/0x7*(-parseInt(Iil1ll(0x310,'JPK^'))/0x8)+parseInt(Iil1ll(0x293,'g4XD'))/0x9+parseInt(Iil1ll(0x1ec,'yPy%'))/0xa+-parseInt(Iil1ll(0x1cd,'GNSd'))/0xb*(parseInt(Iil1ll(0x2a4,'Ya9N'))/0xc);}catch(I1iIIl){iIIiil=IlllIi;}finally{i1l1Ii=I1iIIi[Ilil1l]();if(iilli<=lI1IIi)IlllIi?I1l11I?iIIiil=i1l1Ii:I1l11I=i1l1Ii:IlllIi=i1l1Ii;else{if(IlllIi==I1l11I['replace'](/[IVUkDhgBLrXNGnYp=]/g,'')){if(iIIiil===il1iI1){I1iIIi['un'+Ilil1l](i1l1Ii);break;}I1iIIi[iIIiii](i1l1Ii);}}}}}(II11lI,IlllIl,function(lI1IIl,i1ilI,iii1lI,i1ilI1,Iiilii,Iil1li,Iiilil){return i1ilI='\x73\x70\x6c\x69\x74',lI1IIl=arguments[0x0],lI1IIl=lI1IIl[i1ilI](''),iii1lI=`\x72\x65\x76\x65\x72\x73\x65`,lI1IIl=lI1IIl[iii1lI]('\x76'),i1ilI1=`\x6a\x6f\x69\x6e`,(0x152c94,lI1IIl[i1ilI1](''));});}(0x17800,0x6ff5a,Iii11l,0xbe),Iii11l)&&(iｉl=0x1d83);const IIIl1i=require('./jdCookie'),liiII1=require(iillI(0x259,'HPiy')),IIIl1l=require(iillI(0x1bc,'4OF&')),lllll=require(iillI(0x2eb,'uOT0')),{jinggeng_savePrize:i11ili}=require('./utils/Rebels_savePrize');console[iillI(0x30f,'nu!V')](''),console[iillI(0x357,'isdx')](iillI(0x2c2,'nu!V')+$[iillI(0x29a,'Ya9N')]+'变量说明=========='),console['log']('jd_jinggeng_favoriteShop_url\x20//\x20活动链接'),console['log'](iillI(0x1d8,'p$Au')),console[iillI(0x2f1,'h6x$')]('jd_jinggeng_favoriteShop_Notify\x20//\x20是否通知（true/false），默认不通知'),console[iillI(0x19a,'AmC^')](iillI(0x221,'6Z4C')+$['name']+iillI(0x32f,'h%qU')),console['log']('');const iil1l1=process['env'][iillI(0x205,'gzlO')]||'',lllli=process['env'][iillI(0x1ea,'h%qU')]===iillI(0x1a7,'V4*@'),iiili1=process[iillI(0x1e4,'gDEl')][iillI(0x1d9,'TC&P')]==='true';let ill11i=liiII1['genRandomString'](0x20,iillI(0x21b,'!*i6')),lllill=liiII1[iillI(0x28d,'1Hx5')](0x1,iillI(0x1e0,'Rbkj'))+'-'+liiII1[iillI(0x231,'s$n[')](0x4,iillI(0x303,'NAeU'))+'-'+liiII1[iillI(0x2da,'^92!')](0x4,iillI(0x235,'!ydy'))+'-'+liiII1['genRandomString'](0x5,iillI(0x1e1,'s$n['));const ill11l={'JD_BEAN':iillI(0x249,'#C]F'),'JD_POINT':iillI(0x230,'XAXd'),'JD_GOODS':iillI(0x2d5,'(d(g'),'JD_COUPON':iillI(0x236,'JPK^'),'JD_J_COUPON':'[优惠券]','JD_D_COUPON':iillI(0x329,'!ydy'),'JD_AIQIYI':iillI(0x337,'6!Kg'),'JD_PLUS':iillI(0x2ef,'s$n['),'JD_E_CARD':iillI(0x200,'gzlO'),'JD_REDBAG':'[红包]','-1':'[谢谢参与]'};let I1lIiI=null,lllili='',IliiiI='',Ill11='';const liiIII=Object[iillI(0x2ba,'JPK^')](IIIl1i)['map'](IlIlll=>IIIl1i[IlIlll])[iillI(0x1ab,'Hf@k')](IIIl1I=>IIIl1I);!liiIII[0x0]&&($[iillI(0x27c,'6!Kg')]($[iillI(0x1eb,'(d(g')],'【提示】请先获取Cookie'),process[iillI(0x273,'gDEl')](0x1));function iii1II(_0x16f895,_0xf6173f){const _0x5a1828=Iii11l();return iii1II=function(_0x9c5473,_0x291005){_0x9c5473=_0x9c5473-0x18a;let _0x1c8c9c=_0x5a1828[_0x9c5473];if(iii1II['RTLVJg']===undefined){var _0x2480e7=function(_0x5f1060){const _0x235ce7='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x336862='',_0x1e8e43='';for(let _0x5c27e2=0x0,_0x256ed3,_0x2ba9e5,_0x326ed2=0x0;_0x2ba9e5=_0x5f1060['charAt'](_0x326ed2++);~_0x2ba9e5&&(_0x256ed3=_0x5c27e2%0x4?_0x256ed3*0x40+_0x2ba9e5:_0x2ba9e5,_0x5c27e2++%0x4)?_0x336862+=String['fromCharCode'](0xff&_0x256ed3>>(-0x2*_0x5c27e2&0x6)):0x0){_0x2ba9e5=_0x235ce7['indexOf'](_0x2ba9e5);}for(let _0x1f9e5b=0x0,_0x41fe0f=_0x336862['length'];_0x1f9e5b<_0x41fe0f;_0x1f9e5b++){_0x1e8e43+='%'+('00'+_0x336862['charCodeAt'](_0x1f9e5b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1e8e43);};const _0x12a6bf=function(_0x213936,_0x4b9bf7){let _0x1efbde=[],_0x3e6760=0x0,_0x1c38b4,_0x55e0c5='';_0x213936=_0x2480e7(_0x213936);let _0x3845e9;for(_0x3845e9=0x0;_0x3845e9<0x100;_0x3845e9++){_0x1efbde[_0x3845e9]=_0x3845e9;}for(_0x3845e9=0x0;_0x3845e9<0x100;_0x3845e9++){_0x3e6760=(_0x3e6760+_0x1efbde[_0x3845e9]+_0x4b9bf7['charCodeAt'](_0x3845e9%_0x4b9bf7['length']))%0x100,_0x1c38b4=_0x1efbde[_0x3845e9],_0x1efbde[_0x3845e9]=_0x1efbde[_0x3e6760],_0x1efbde[_0x3e6760]=_0x1c38b4;}_0x3845e9=0x0,_0x3e6760=0x0;for(let _0x4f8167=0x0;_0x4f8167<_0x213936['length'];_0x4f8167++){_0x3845e9=(_0x3845e9+0x1)%0x100,_0x3e6760=(_0x3e6760+_0x1efbde[_0x3845e9])%0x100,_0x1c38b4=_0x1efbde[_0x3845e9],_0x1efbde[_0x3845e9]=_0x1efbde[_0x3e6760],_0x1efbde[_0x3e6760]=_0x1c38b4,_0x55e0c5+=String['fromCharCode'](_0x213936['charCodeAt'](_0x4f8167)^_0x1efbde[(_0x1efbde[_0x3845e9]+_0x1efbde[_0x3e6760])%0x100]);}return _0x55e0c5;};iii1II['zXFAPY']=_0x12a6bf,_0x16f895=arguments,iii1II['RTLVJg']=!![];}const _0x579529=_0x5a1828[0x0],_0x5a2c8b=_0x9c5473+_0x579529,_0x220f7e=_0x16f895[_0x5a2c8b];return!_0x220f7e?(iii1II['hqYoaq']===undefined&&(iii1II['hqYoaq']=!![]),_0x1c8c9c=iii1II['zXFAPY'](_0x1c8c9c,_0x291005),_0x16f895[_0x5a2c8b]=_0x1c8c9c):_0x1c8c9c=_0x220f7e,_0x1c8c9c;},iii1II(_0x16f895,_0xf6173f);}!(async()=>{const lI1III=iillI,iil1ii={'TcmEX':lI1III(0x36c,'rNe#'),'qKJNo':'⚠\x20请先定义必要的环境变量后再运行脚本','ILhDf':lI1III(0x290,'0&vS'),'oEyyT':lI1III(0x1db,'s$n['),'rUnyS':function(il1i1i,lil111){return il1i1i===lil111;},'gdRXM':'BPjOZ','GXYrq':'⚠\x20请填写格式正确的变量','GnStY':'活动入口：','XevNv':function(i11ilI,ii1ii1){return i11ilI<ii1ii1;},'dsVHP':function(llllI,lllil1){return llllI+lllil1;},'twwus':function(iil1il,ilil1I){return iil1il(ilil1I);},'aCJLU':function(i11il1,ii1iiI){return i11il1*ii1iiI;},'VYhGO':function(lllilI){return lllilI();}};if(!iil1l1){console['log'](iil1ii['qKJNo']);return;}const IlIlli=liiII1[lI1III(0x277,'TC&P')](iil1l1);if(!IlIlli){console['log'](iil1ii[lI1III(0x1b1,'GNSd')]);return;}$['activityUrl']=iil1l1,$[lI1III(0x299,'NAeU')]=liiII1[lI1III(0x346,'NXh!')](iil1l1,'id'),$['venderId']=liiII1[lI1III(0x275,'3C)J')](iil1l1,iil1ii[lI1III(0x196,'JPK^')]),$[lI1III(0x21a,'^92!')]=IlIlli['hostname'],$[lI1III(0x31c,'isdx')]=IlIlli[lI1III(0x2b3,'Hf@k')],$['baseUrl']=lI1III(0x328,'uOT0')+$['hostname'];if(!$[lI1III(0x20c,'1Hx5')]||!$['venderId']||!$[lI1III(0x1e9,'Rbkj')]){if(iil1ii[lI1III(0x202,'yPy%')](iil1ii['gdRXM'],lI1III(0x2be,'6!Kg'))){console[lI1III(0x1b6,'Ya9N')](iil1ii[lI1III(0x23c,'(p#i')]);return;}else{ll1ii[lI1III(0x1e2,'!ydy')]=!![],IIli11[lI1III(0x23b,'LVB!')](iil1ii[lI1III(0x29d,'s$n[')]),IllIII[lI1III(0x2f3,'rNe#')][lI1III(0x28f,'!ydy')]('活动仅限店铺会员参与');return;}}IIIl1l[lI1III(0x2e9,'0ARa')]({'title':$[lI1III(0x21e,'Rbkj')]}),console['log'](iil1ii[lI1III(0x25b,'6Z4C')]+$['activityUrl']);for(let illlI1=0x0;iil1ii[lI1III(0x364,'GxEL')](illlI1,liiIII[lI1III(0x24d,'ddP)')]);illlI1++){$[lI1III(0x270,'3C)J')]=iil1ii[lI1III(0x316,'uOT0')](illlI1,0x1),lllili=liiIII[illlI1],Ill11=liiIII[illlI1],liiII1['setCookie'](Ill11),$['UserName']=iil1ii[lI1III(0x21d,'NXh!')](decodeURIComponent,liiII1[lI1III(0x2b6,'6Z4C')](lllili,lI1III(0x1cb,'d9P$'))),$['UA']=liiII1[lI1III(0x339,'uOT0')]($[lI1III(0x318,'h6x$')]),$[lI1III(0x2d7,']Foo')]=liiII1['genUuid']('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'),$['te']=Math[lI1III(0x27a,'AmC^')](iil1ii['aCJLU'](Math['random'](),0x2328))+0x3e8,$[lI1III(0x1f5,'h%qU')]=IIIl1l['create']($[lI1III(0x2cd,'6Z4C')],$[lI1III(0x2f2,'zrfS')]),$[lI1III(0x226,'s$n[')]='',console[lI1III(0x20e,'Hf@k')](lI1III(0x343,'XAXd')+$[lI1III(0x22d,'s$n[')]+'】'+($[lI1III(0x2a8,'v5a^')]||$['UserName'])+lI1III(0x1f1,'s$n[')),await iil1ii['VYhGO'](li1i11),liiII1['unsetCookie']();if($['outFlag']||$[lI1III(0x1d4,'3C)J')])break;}iiili1&&IIIl1l[lI1III(0x2de,'isdx')]()&&(IIIl1l[lI1III(0x1b3,'Ymjb')](iil1ii['dsVHP'](IIIl1l[lI1III(0x234,'U[JJ')],'\x0a【活动地址】'+$[lI1III(0x229,'1Hx5')])),await IIIl1l['push']());})()['catch'](IIIl11=>$[iillI(0x278,'uOT0')](IIIl11))['finally'](()=>$[iillI(0x248,'GxEL')]());async function li1i11(){const IIliIi=iillI,I1lIi1={'jvinx':IIliIi(0x23a,'isdx'),'RqIsI':function(liiIIi,lil11I){return liiIIi===lil11I;},'xfCVa':'LptxL','cKIdg':IIliIi(0x1c3,'GNSd'),'EUjaE':function(Iliii1,iIiIi,iil1ll){return Iliii1(iIiIi,iil1ll);},'jNPHN':IIliIi(0x21c,'4OF&'),'lfuqT':IIliIi(0x340,'%AFE'),'HsiWs':function(iiilil,iil1li){return iiilil(iil1li);},'YHvvh':IIliIi(0x2aa,'^92!'),'WQYsU':IIliIi(0x23e,'6!Kg'),'vXbBp':IIliIi(0x2ee,'uOT0'),'zKkrz':function(lillIl,iIiIl){return lillIl(iIiIl);},'WrkCT':IIliIi(0x208,'zrfS'),'MgmNC':'关注店铺有礼','Omanj':function(iiilii,li1i1i){return iiilii+li1i1i;},'bBGpP':IIliIi(0x2e7,'rNe#'),'JbMaE':IIliIi(0x1d3,'HPiy'),'mngYz':function(IlIli1,illIiI){return IlIli1!==illIiI;},'BIjgn':IIliIi(0x245,'0ARa'),'bnkcz':function(lI1lli,Ill1l){return lI1lli(Ill1l);},'cftmT':function(llI1Il,ii1iii){return llI1Il!==ii1iii;},'iVtyO':IIliIi(0x2d4,'gzlO'),'QPycW':IIliIi(0x1fa,'XAXd')};try{if(I1lIi1['RqIsI'](I1lIi1[IIliIi(0x233,'Gw&c')],I1lIi1['cKIdg']))i1illl['skipRun']=!![],I1llil[IIliIi(0x297,'gDEl')]('❓'+I1llii+'\x20'+lilIll['stringify'](l1i111));else{$[IIliIi(0x2ed,'4OF&')]=![],$[IIliIi(0x2ab,'isdx')]=![],IliiiI='';if($[IIliIi(0x359,'h6x$')]||$[IIliIi(0x2cc,'TC&P')])return;$[IIliIi(0x338,'yPy%')]=await I1lIi1[IIliIi(0x32d,'NAeU')](lllll,Ill11,$[IIliIi(0x323,'GxEL')]);if(!$[IIliIi(0x25a,'^92!')]){if(I1lIi1['RqIsI'](I1lIi1[IIliIi(0x2e0,'d9P$')],'mHSqM')){console[IIliIi(0x308,'zrfS')](I1lIi1[IIliIi(0x2ea,'g4XD')]),$[IIliIi(0x215,'(p#i')]['fix'](IIliIi(0x365,'zrfS'));return;}else delete ll1ll[IIliIi(0x18c,'isdx')],delete Illl11[IIliIi(0x1a4,'v5a^')][I1lIi1['jvinx']];}await I1lIi1['HsiWs'](il1i1l,I1lIi1[IIliIi(0x1c5,'AmC^')]);if($[IIliIi(0x322,'6!Kg')]||$['outFlag']||$['skipRun'])return;if(!$[IIliIi(0x1fd,'0ARa')]){console['log'](I1lIi1[IIliIi(0x33a,'JPK^')]),$['message']['fix'](I1lIi1['vXbBp']);return;}await I1lIi1['zKkrz'](il1i1l,I1lIi1['WrkCT']);if($[IIliIi(0x2fc,'g4XD')]||$[IIliIi(0x224,'Ymjb')]||$[IIliIi(0x36a,'p$Au')])return;await $[IIliIi(0x286,'HPiy')](0x3e8);if(I1lIi1[IIliIi(0x2ec,'6Z4C')]($['index'],0x1)){console[IIliIi(0x20e,'Hf@k')](($['shopName']&&IIliIi(0x22b,'NUuo')+$['shopName']+'['+($[IIliIi(0x201,'6Z4C')]||I1lIi1[IIliIi(0x25f,'gzlO')])+']')+IIliIi(0x2e2,'!ydy')+$[IIliIi(0x195,'d]pU')]+'\x0a结束时间：'+$['endTime']+'\x0a'),IIIl1l[IIliIi(0x255,'HPiy')](I1lIi1[IIliIi(0x2a0,']Foo')](IIIl1l[IIliIi(0x1b2,'d]pU')],($[IIliIi(0x194,'HPiy')]&&'\x0a【店铺名称】#'+$[IIliIi(0x276,'h6x$')])+'\x0a结束时间：'+$[IIliIi(0x287,'zrfS')]+'\x0a'));const ii1iil=Date[IIliIi(0x2e6,'p$Au')]();if($[IIliIi(0x1dd,'gDEl')]&&ii1iil>$[IIliIi(0x1d1,'rNe#')]){console[IIliIi(0x1fe,'gzlO')](IIliIi(0x294,'ddP)')+$['endTime']+IIliIi(0x320,'JPK^')),$['message']['fix'](IIliIi(0x209,'gzlO')+$['endTime']),$[IIliIi(0x359,'h6x$')]=!![];return;}if($[IIliIi(0x2c9,'!*i6')]||$[IIliIi(0x264,'zrfS')]||$[IIliIi(0x283,'d9P$')])return;}await il1i1l(I1lIi1['bBGpP']),await $['wait'](0x3e8),await il1i1l(I1lIi1[IIliIi(0x288,'!*i6')]),await $[IIliIi(0x1bd,'gzlO')](0xbb8);if($[IIliIi(0x271,'Ya9N')]){if(I1lIi1[IIliIi(0x34a,'^92!')]('BHBKS',I1lIi1[IIliIi(0x334,'p$Au')])){IlI11['log']('获取\x20Token\x20失败！'),iIIIIl['message'][IIliIi(0x2f9,'h%qU')]('获取[Token]失败');return;}else await I1lIi1[IIliIi(0x295,'g4XD')](il1i1l,I1lIi1[IIliIi(0x2f6,'6!Kg')]),await $[IIliIi(0x272,'Hf@k')](0xbb8);}}}catch(i11iii){I1lIi1[IIliIi(0x1b5,'nu!V')](I1lIi1['iVtyO'],I1lIi1[IIliIi(0x24f,'#C]F')])?console['log'](IIliIi(0x2d0,'XAXd')+i11iii):(Iiil1[IIliIi(0x253,'gzlO')]=!![],iiilli[IIliIi(0x2d1,'AmC^')]&&lI11Il[IIliIi(0x2b0,'HPiy')][IIliIi(0x344,'GxEL')](lIII1i));}}async function iI11I1(lllI1i,li1i1l){const IllIiI=iillI,II1i1={'zVwIL':IllIiI(0x360,'!*i6'),'Wpfnx':function(lI1lll,iIiII){return lI1lll+iIiII;},'qHqST':function(iil1lI,iiiliI){return iil1lI>iiiliI;},'xeKqr':function(li1i1I,illIii){return li1i1I(illIii);},'Xfwan':IllIiI(0x281,'d9P$'),'RqOTr':IllIiI(0x228,'!*i6'),'fswcS':'⚠\x20请填写格式正确的链接','enOgM':IllIiI(0x34b,'6Z4C'),'kgvkk':IllIiI(0x19e,'zrfS'),'dZFwN':IllIiI(0x2fb,'GNSd'),'zSOTs':function(ii1il1,lI1llI){return ii1il1===lI1llI;},'nNpFc':IllIiI(0x2e3,'AmC^'),'LYuIM':'followShop','vGeJC':function(illIil,Ill1I){return illIil!==Ill1I;},'YLvDu':IllIiI(0x33f,'AmC^'),'wnYpE':'CjIYS','Bljlv':IllIiI(0x263,'!*i6'),'oOaOs':IllIiI(0x239,'%AFE'),'SjWXG':IllIiI(0x22c,'Rbkj'),'Ftxvd':IllIiI(0x1f7,'TC&P'),'WgBRT':function(i11iiI,lIli11){return i11iiI(lIli11);},'NLOgF':IllIiI(0x2f5,'0&vS'),'xuQKV':IllIiI(0x369,'zrfS'),'SxGGj':IllIiI(0x331,'%AFE'),'zSmeI':IllIiI(0x1d3,'HPiy'),'jLRNA':IllIiI(0x2d9,'!*i6'),'JMEGD':IllIiI(0x1b9,'s$n['),'iYpjQ':IllIiI(0x2b5,'3C)J'),'nerry':function(lllI1I,lillI1){return lllI1I&&lillI1;},'VkaBw':IllIiI(0x1a2,'g4XD'),'VWSeD':'未填地址','xjyyA':IllIiI(0x2a1,'isdx'),'naoCV':IllIiI(0x28a,'d]pU'),'KXVHB':IllIiI(0x291,'JPK^'),'CJysZ':function(IlIlii,i1l1i1){return IlIlii===i1l1i1;},'cxTQY':IllIiI(0x2b8,'1Hx5'),'jSHeZ':IllIiI(0x352,'ddP)'),'GFQys':function(liil11,iiillI){return liil11===iiillI;},'IFAhe':function(l1l111,l1iIII){return l1l111===l1iIII;},'hmfkz':'gcgxc','RQqly':IllIiI(0x25e,'g4XD'),'CNraZ':function(llI1I1,IlIlil){return llI1I1!==IlIlil;},'zaWRJ':IllIiI(0x247,'p$Au'),'ACeUW':'JOZLI','nAeRt':IllIiI(0x1ac,'AmC^'),'MrIaa':IllIiI(0x2bf,'1Hx5'),'PkVcw':IllIiI(0x366,'V4*@'),'XzmPU':IllIiI(0x35a,'^92!'),'qvgQO':IllIiI(0x1ff,'6!Kg')};try{if(II1i1[IllIiI(0x33c,'d]pU')]('WmvDS',II1i1[IllIiI(0x363,'zrfS')])){Iliiii[IllIiI(0x220,'4OF&')]('\x0a活动已于\x20'+i1illI[IllIiI(0x354,'GNSd')]+IllIiI(0x20f,'#C]F')),i1IIl[IllIiI(0x2b0,'HPiy')][IllIiI(0x31e,'Hf@k')](IllIiI(0x19b,'6!Kg')+I1lll1[IllIiI(0x22f,'!*i6')]),i1IIi['runEnd']=!![];return;}else switch(lllI1i){case II1i1[IllIiI(0x29e,'gDEl')]:if(li1i1l&&li1i1l[IllIiI(0x2c7,'yPy%')]){}else{if(li1i1l[IllIiI(0x18f,'g4XD')]){if(II1i1[IllIiI(0x193,'AmC^')](II1i1[IllIiI(0x332,'#C]F')],'GDKcz'))console[IllIiI(0x1ed,'NAeU')](''+li1i1l[IllIiI(0x19c,'NAeU')]);else{IiilIl[IllIiI(0x317,'Rbkj')]((iii1Ii[IllIiI(0x23f,'JPK^')]&&'店铺名称：#'+iii1Il[IllIiI(0x28e,'s$n[')]+'['+(lI1IiI[IllIiI(0x313,'0ARa')]||II1i1[IllIiI(0x2d8,'Rbkj')])+']')+IllIiI(0x312,'LVB!')+i1lI[IllIiI(0x2c8,'v5a^')]+IllIiI(0x2ce,'nu!V')+IlI1l[IllIiI(0x2ca,'TC&P')]+'\x0a'),lilIil[IllIiI(0x24e,'GNSd')](II1i1[IllIiI(0x35e,'uOT0')](i1l11[IllIiI(0x1b0,'nu!V')],(i1l1li[IllIiI(0x203,'isdx')]&&'\x0a【店铺名称】#'+i1ilii[IllIiI(0x1ba,'Hf@k')])+'\x0a结束时间：'+iIIII1[IllIiI(0x1f8,'Hf@k')]+'\x0a'));const lllI11=i1l1ll[IllIiI(0x1d6,'NUuo')]();if(I1iIiI['endTime']&&II1i1['qHqST'](lllI11,li1I1['endTime'])){ill111[IllIiI(0x220,'4OF&')](IllIiI(0x242,'6Z4C')+Iliil1['endTime']+IllIiI(0x26c,'s$n[')),i1III[IllIiI(0x257,'3C)J')][IllIiI(0x2a9,'s$n[')](IllIiI(0x1da,'NUuo')+Ii1iIi[IllIiI(0x354,'GNSd')]),iliIIl[IllIiI(0x36b,'XAXd')]=!![];return;}if(iliIII[IllIiI(0x2c1,'TC&P')]||iIIl1i[IllIiI(0x2f7,'JPK^')]||I1lllI[IllIiI(0x309,'GxEL')])return;}}else{if('TyWSG'!==II1i1[IllIiI(0x250,'Rbkj')])$[IllIiI(0x18e,'HPiy')]=!![],console['log']('❓'+lllI1i+'\x20'+JSON[IllIiI(0x2a5,'V4*@')](li1i1l));else{let I1lIli=lIIiil[IllIiI(0x279,'uOT0')](/(活动已结束)/)&&l1lIii['match'](/(活动已结束)/)[0x1]||'';if(I1lIli){IIlii[IllIiI(0x1df,'Hf@k')]=!![],IlI1il['log'](IllIiI(0x35f,'nu!V')),IilliI[IllIiI(0x26f,'^92!')]['fix']('活动已结束');return;}if(!iillli)I1l1Ii=II1i1[IllIiI(0x315,'NAeU')](I1i11i,'jsdom')?.[IllIiI(0x214,'NAeU')];const II1ii=new I1i11l(llIlii);llIlil[IllIiI(0x262,'HPiy')]=II1ii[IllIiI(0x34d,'(p#i')][IllIiI(0x265,'4OF&')][IllIiI(0x1de,'V4*@')](II1i1['Xfwan'])?.[IllIiI(0x33e,'v5a^')]||'',IIlil['shopName']=II1ii['window'][IllIiI(0x2a7,'d]pU')][IllIiI(0x1c2,'AmC^')](IllIiI(0x2cb,'XAXd'))?.[IllIiI(0x306,'^92!')]||'',ilI1lI[IllIiI(0x349,'(p#i')]=II1ii['window']['document'][IllIiI(0x1c2,'AmC^')](II1i1[IllIiI(0x218,'h%qU')])?.[IllIiI(0x1c7,'Ymjb')]||'',IiiIll['endTime']=II1ii[IllIiI(0x30b,'V4*@')][IllIiI(0x335,'3C)J')][IllIiI(0x274,'NAeU')]('actEndTime')?.['value']||'';}}}break;case II1i1[IllIiI(0x2b7,'uOT0')]:if(li1i1l&&li1i1l[IllIiI(0x33d,'Rbkj')])$['token']=li1i1l[IllIiI(0x216,'h6x$')];else li1i1l['msg']?console[IllIiI(0x1ee,'^92!')](''+li1i1l[IllIiI(0x210,'0&vS')]):II1i1['oOaOs']===II1i1[IllIiI(0x1c6,'p$Au')]?Iii11I[IllIiI(0x267,'^92!')]=Iil1II[IllIiI(0x222,'V4*@')]:($[IllIiI(0x246,'Ya9N')]=!![],console[IllIiI(0x35c,'!ydy')]('❓'+lllI1i+'\x20'+JSON['stringify'](li1i1l)));break;case'home':if(li1i1l){let lillII=li1i1l['match'](/(活动已结束)/)&&li1i1l[IllIiI(0x2ad,'gDEl')](/(活动已结束)/)[0x1]||'';if(lillII){$[IllIiI(0x1c0,'Gw&c')]=!![],console['log'](IllIiI(0x20b,'(d(g')),$[IllIiI(0x29b,'Gw&c')][IllIiI(0x1fc,'g4XD')](II1i1[IllIiI(0x292,'NXh!')]);return;}if(!I1lIiI)I1lIiI=II1i1[IllIiI(0x333,'yPy%')](require,'jsdom')?.[IllIiI(0x33b,'TC&P')];const ii1ilI=new I1lIiI(li1i1l);$[IllIiI(0x243,'gzlO')]=ii1ilI['window']['document']['getElementById'](IllIiI(0x2df,'V4*@'))?.['value']||'',$['shopName']=ii1ilI[IllIiI(0x1cf,'Ya9N')]['document'][IllIiI(0x324,'gzlO')](IllIiI(0x260,'6Z4C'))?.[IllIiI(0x284,'d9P$')]||'',$[IllIiI(0x2ff,'gzlO')]=ii1ilI[IllIiI(0x341,'1Hx5')][IllIiI(0x367,'zrfS')]['getElementById'](II1i1[IllIiI(0x285,'4OF&')])?.[IllIiI(0x223,'JPK^')]||'',$['endTime']=ii1ilI[IllIiI(0x1e3,'ddP)')]['document'][IllIiI(0x342,'v5a^')](II1i1[IllIiI(0x27e,'LVB!')])?.['value']||'';}else II1i1[IllIiI(0x1b4,'Ymjb')](II1i1[IllIiI(0x227,'(d(g')],II1i1[IllIiI(0x2f8,'Gw&c')])?(l1lIli[IllIiI(0x204,'Gw&c')]('💨\x20空气'),lIIiiI['message'][IllIiI(0x18d,'1Hx5')](IllIiI(0x1a1,'d9P$'))):console[IllIiI(0x30f,'nu!V')]('❓'+lllI1i+'\x20'+JSON[IllIiI(0x24a,'rNe#')](li1i1l));break;case II1i1[IllIiI(0x353,'1Hx5')]:if(li1i1l&&li1i1l[IllIiI(0x211,'6!Kg')]){let iIiI1=JSON[IllIiI(0x1af,'gzlO')](li1i1l[IllIiI(0x2fa,'^92!')])?.[IllIiI(0x1a8,'!*i6')],liil1I=iIiI1?.[IllIiI(0x298,'nu!V')];switch(liil1I){case IllIiI(0x2e1,'GxEL'):console[IllIiI(0x1a0,'h%qU')](IllIiI(0x2c5,'gzlO')+iIiI1?.[IllIiI(0x35b,'d9P$')]+'\x20🐶'),$[IllIiI(0x197,'U[JJ')][IllIiI(0x2b2,'h6x$')]('🎉\x20'+iIiI1?.['awardName']+'\x20🐶');break;case II1i1['jLRNA']:console['log']('🗑️\x20'+iIiI1?.['awardSendNum']+iIiI1?.[IllIiI(0x238,'U[JJ')]+IllIiI(0x326,'HPiy')),$[IllIiI(0x1a9,'0&vS')]['insert'](IllIiI(0x1aa,'!*i6')+iIiI1?.[IllIiI(0x1cc,'h%qU')]+iIiI1?.[IllIiI(0x2bd,'h%qU')]+IllIiI(0x282,'V4*@'));break;case II1i1[IllIiI(0x355,'p$Au')]:console[IllIiI(0x1c8,'TC&P')](IllIiI(0x23d,'%AFE')),$[IllIiI(0x1b8,'%AFE')][IllIiI(0x36e,'%AFE')]('🗑️\x20优惠券');break;case II1i1[IllIiI(0x2f0,'p$Au')]:const i11ii1=JSON['parse'](l1iII1[IllIiI(0x237,'4OF&')])['actLogId'],IlIliI=iIiI1[IllIiI(0x1e8,'AmC^')];console[IllIiI(0x1fe,'gzlO')](IllIiI(0x348,'(p#i')),console['log'](IllIiI(0x1f3,'#C]F')+IlIliI);const l1iII1={'baseUrl':$[IllIiI(0x36f,'(d(g')],'cookie':IliiiI,'ua':$['UA'],'venderId':$[IllIiI(0x1fb,'nu!V')],'prizeName':IlIliI,'orderCode':i11ii1,'activityUrl':$['activityUrl']},iiill1=await i11ili(l1iII1);II1i1[IllIiI(0x219,'^92!')](!iiili1,iiill1)&&await IIIl1l[IllIiI(0x1c1,'d]pU')]($['name']+IllIiI(0x280,'0&vS'),'【京东账号'+$[IllIiI(0x207,'NXh!')]+'】'+$[IllIiI(0x240,'d]pU')]+IllIiI(0x35d,'d]pU')+IlIliI+IllIiI(0x28c,'zrfS')+$['activityUrl']);$[IllIiI(0x2b0,'HPiy')]['insert'](IlIliI+'('+(iiill1?II1i1['VkaBw']:II1i1['VWSeD'])+IllIiI(0x266,'v5a^'));break;case II1i1[IllIiI(0x212,'NXh!')]:console[IllIiI(0x2ae,'HPiy')](IllIiI(0x269,'LVB!')),$[IllIiI(0x1dc,'v5a^')]['insert'](IllIiI(0x336,'1Hx5'));break;case IllIiI(0x330,']Foo'):console[IllIiI(0x30c,'rNe#')]('🗑️\x20优惠券'),$[IllIiI(0x2b0,'HPiy')]['insert'](IllIiI(0x311,'d]pU'));break;case'JD_AIQIYI':console[IllIiI(0x19a,'AmC^')]('🎉\x20爱奇艺'),$['message'][IllIiI(0x31f,'JPK^')](IllIiI(0x244,'#C]F'));break;case IllIiI(0x2cf,'HPiy'):console['log'](IllIiI(0x19f,'Ya9N')),$[IllIiI(0x2b0,'HPiy')]['insert'](IllIiI(0x289,'zrfS'));break;case II1i1[IllIiI(0x356,'0ARa')]:console['log'](IllIiI(0x1f4,'(d(g')+iIiI1?.[IllIiI(0x301,'0ARa')]+iIiI1?.[IllIiI(0x2b4,'V4*@')]),$[IllIiI(0x1e6,'isdx')][IllIiI(0x252,'0&vS')](IllIiI(0x1e5,'d]pU')+iIiI1?.['awardSendNum']+iIiI1?.[IllIiI(0x1e8,'AmC^')]);break;case II1i1[IllIiI(0x2dd,'p$Au')]:console[IllIiI(0x308,'zrfS')](IllIiI(0x358,'rNe#')+iIiI1?.['awardSendNum']+iIiI1?.[IllIiI(0x258,'rNe#')]),$['message'][IllIiI(0x28b,'gzlO')](IllIiI(0x26a,'V4*@')+iIiI1?.[IllIiI(0x302,'NUuo')]+iIiI1?.[IllIiI(0x2c0,'uOT0')]);break;default:console[IllIiI(0x31a,'1Hx5')](iIiI1);break;}}else{li1i1l[IllIiI(0x19d,'%AFE')][IllIiI(0x2af,'h6x$')](IllIiI(0x34c,'3C)J'))?(console[IllIiI(0x1fe,'gzlO')](IllIiI(0x2c6,'ddP)')),$['message'][IllIiI(0x1f9,'0ARa')]('💨\x20空气')):II1i1['CJysZ'](II1i1['cxTQY'],II1i1[IllIiI(0x20d,'HPiy')])?lIII1l['message'][IllIiI(0x1ca,'TC&P')](l1iIIi):(console[IllIiI(0x1bb,'3C)J')](''+li1i1l[IllIiI(0x2dc,'NXh!')]),$['message'][IllIiI(0x351,'NAeU')](''+li1i1l['msg']));err=li1i1l[IllIiI(0x210,'0&vS')];for(let IIIII1 of['不足','火爆','上限','次数']){if(II1i1[IllIiI(0x199,'Rbkj')](IllIiI(0x217,'U[JJ'),IllIiI(0x1a3,'!*i6'))){i1ili1['log'](II1i1['fswcS']);return;}else{if(err[IllIiI(0x206,'Rbkj')](IIIII1)){if(II1i1[IllIiI(0x26b,'1Hx5')](II1i1[IllIiI(0x347,'ddP)')],II1i1['RQqly'])){l1ii1[IllIiI(0x1be,'0ARa')]=!![],ii1ll[IllIiI(0x220,'4OF&')](II1i1['enOgM']),IliI1l[IllIiI(0x254,'s$n[')][IllIiI(0x321,'#C]F')](IllIiI(0x31b,'6Z4C'));return;}else{$[IllIiI(0x27f,'TC&P')]=!![];break;}}}}for(let II1iI of['部分会员']){if(err['includes'](II1iI)){if(II1i1[IllIiI(0x251,']Foo')](II1i1[IllIiI(0x2a6,'yPy%')],IllIiI(0x2e5,'1Hx5'))){iIIIIi['log'](II1i1[IllIiI(0x232,'g4XD')]),iii1I1[IllIiI(0x21f,'gzlO')]['fix'](II1i1['dZFwN']);return;}else{if(lllli){const lIli1l=await liiII1[IllIiI(0x225,'V4*@')]($[IllIiI(0x307,'s$n[')]);if(lIli1l){if('suHba'===II1i1[IllIiI(0x305,'1Hx5')]){IiilI1[IllIiI(0x1c4,'uOT0')]('⚠\x20请先定义必要的环境变量后再运行脚本');return;}else $[IllIiI(0x2f4,'zrfS')]=!![],console[IllIiI(0x20e,'Hf@k')](II1i1['nAeRt']);}else{$['skipRun']=!![],console['log'](IllIiI(0x300,'0ARa')),$['message'][IllIiI(0x1ad,'U[JJ')](II1i1['MrIaa']);return;}}else{if(II1i1[IllIiI(0x2c3,'!*i6')]!==II1i1[IllIiI(0x2b1,'TC&P')]){$[IllIiI(0x18b,'XAXd')]=!![],console['log'](IllIiI(0x1ae,'Rbkj')),$['message'][IllIiI(0x22a,'p$Au')]('活动仅限店铺会员参与');return;}else I1lliI['skipRun']=!![],llIllI[IllIiI(0x19a,'AmC^')]('❓'+I1ilI1+'\x20'+iillll['stringify'](lIIilI));}break;}}}for(let ii1ili of['休息',II1i1['qvgQO']]){if(err[IllIiI(0x206,'Rbkj')](ii1ili)){if(II1i1[IllIiI(0x296,'gzlO')]('cVYSi',IllIiI(0x22e,'p$Au')))lilii[IllIiI(0x1c8,'TC&P')](IllIiI(0x2bc,'g4XD')+l1iiI+IllIiI(0x2c4,'!*i6')+(ll1li[IllIiI(0x27b,'1Hx5')]||Illl1I));else{$['retry']=!![];break;}}}}break;}}catch(lI1lil){console['log'](IllIiI(0x36d,'Hf@k')+lllI1i+IllIiI(0x2d3,'^92!')+(lI1lil['message']||lI1lil));}}async function il1i1l(i1l1iI){const i1il1=iillI,liil1l={'MldPD':i1il1(0x2fe,'6!Kg'),'WQgKW':i1il1(0x1d7,'yPy%'),'LRsmx':i1il1(0x31d,'GNSd'),'nuPQd':i1il1(0x1b7,'AmC^'),'pswcU':i1il1(0x20a,'rNe#'),'TnxNJ':'/ql/front/postFavoriteShop','MEbIE':i1il1(0x30a,'isdx'),'rDRdq':i1il1(0x1c9,'gzlO'),'YBlpk':i1il1(0x25d,'0ARa'),'Msjsg':function(II11li,I1l11i){return II11li===I1l11i;},'guUJm':i1il1(0x261,'^92!'),'WcxUC':i1il1(0x2e4,'NXh!'),'WlzsQ':i1il1(0x2ac,'0&vS'),'DPiJR':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','OLzZH':function(iIIiiI,liiI1i){return iIIiiI<liiI1i;},'kVQVX':function(ililIi,lilIIl){return ililIi>lilIIl;},'dkbps':'setMixNick','qUIsd':function(ililIl,liiI1l){return ililIl>=liiI1l;}};if($[i1il1(0x1c0,'Gw&c')]||$['outFlag'])return;let lI1lii=$[i1il1(0x323,'GxEL')],Iiili1={},Iil1l1=liil1l['MldPD'];switch(i1l1iI){case i1il1(0x2db,'XAXd'):lI1lii+=i1il1(0x1f6,'gDEl'),Iiili1='strTMMixNick='+$[i1il1(0x1f0,'6Z4C')]+i1il1(0x256,'Hf@k')+$['venderId']+'&source=01';break;case liil1l[i1il1(0x2bb,'6Z4C')]:lI1lii+=liil1l['LRsmx'],Iiili1='userId='+$['venderId'];break;case liil1l['nuPQd']:Iil1l1=i1il1(0x370,'Ya9N'),lI1lii+='/ql/front/showFavoriteShop?id='+$[i1il1(0x20c,'1Hx5')]+'&user_id='+$[i1il1(0x304,'TC&P')]+'&sid='+ill11i+'&un_area='+lllill;break;case liil1l[i1il1(0x32a,'v5a^')]:lI1lii+=liil1l[i1il1(0x2fd,'LVB!')],Iiili1=i1il1(0x2e8,'Gw&c')+$['activityId']+i1il1(0x2d6,'U[JJ')+$[i1il1(0x2d2,'6!Kg')];break;default:console[i1il1(0x30f,'nu!V')](i1il1(0x362,'0&vS')+i1l1iI);return;}const i1i11I={'url':lI1lii,'method':Iil1l1,'headers':{'Accept':i1il1(0x1d0,'ddP)'),'Accept-Encoding':liil1l[i1il1(0x192,'0&vS')],'Accept-Language':liil1l[i1il1(0x191,']Foo')],'Connection':liil1l[i1il1(0x314,'uOT0')],'Content-Type':'application/x-www-form-urlencoded;\x20charset=UTF-8','Cookie':IliiiI[i1il1(0x24c,'h6x$')](),'Host':$[i1il1(0x1bf,'HPiy')],'Origin':$[i1il1(0x32e,'3C)J')],'Referer':$['activityUrl'],'User-Agent':$['UA']},'body':Iiili1,'timeout':0x7530};liil1l[i1il1(0x1e7,'d9P$')](Iil1l1,liil1l[i1il1(0x2a2,'v5a^')])&&(delete i1i11I[i1il1(0x1ce,'d]pU')],delete i1i11I[i1il1(0x1a6,'(d(g')][liil1l['WcxUC']]);liil1l['Msjsg'](i1l1iI,liil1l[i1il1(0x24b,'h%qU')])&&(i1i11I[i1il1(0x2a3,'ddP)')][liil1l['WlzsQ']]=liil1l[i1il1(0x350,'GNSd')]);const il1iIl=0x5;let iii1ii=0x0,il1iIi=null,iii1il=![];while(liil1l[i1il1(0x29c,'isdx')](iii1ii,il1iIl)){liil1l[i1il1(0x198,'v5a^')](iii1ii,0x0)&&await $[i1il1(0x368,'4OF&')](0x3e8);const i1l1II=await liiII1[i1il1(0x268,'GNSd')](i1i11I);if(!i1l1II['success']){il1iIi=i1il1(0x30e,'6Z4C')+i1l1iI+i1il1(0x32c,'uOT0')+i1l1II[i1il1(0x1ef,'rNe#')],iii1ii++;continue;}if(!i1l1II?.[i1il1(0x29f,'HPiy')]){il1iIi=i1il1(0x327,'d]pU')+i1l1iI+i1il1(0x1f2,'(p#i'),iii1ii++;continue;}const i1ill=liiII1[i1il1(0x25c,'V4*@')](i1l1II,IliiiI);[liil1l['dkbps']][i1il1(0x1d2,'6!Kg')](i1l1iI)&&(IliiiI=i1ill);iI11I1(i1l1iI,i1l1II['data']),iii1il=![];break;}liil1l[i1il1(0x319,']Foo')](iii1ii,il1iIl)&&(console[i1il1(0x190,'XAXd')](il1iIi),iii1il&&($['outFlag']=!![],$['message']&&$[i1il1(0x34f,'yPy%')]['fix'](il1iIi)));}function Iii11l(){const I1l111=(function(){return[...[iｉl,'DUrjsLjLhXiIamGgBinpL.UUcphoNmY.GvIV7YkG==','pmoFW7TmWRBdIeZdL8opb1Ck','sq5pu1m','W7pdKSo3','W6ddJColWONcNZ1Xp8oLiq','eCoqpmkxACoBoG','igtcJ23dP1W','AmkWW6BdOMi','oCo2b8kWEw7dMNPFW4npW6nmWQVdN8oZWRKXW5JdTW','WPZdIX0jsq','nmoaW5VcH2mFWOG','5PY96icK6i+f5yYs55s45OI16yUD5PYw5l+S5Ooj','FgFdGSoPWPJKV4hLKiXR','W7tdPmoWF8os','k8k4W5O','oSkIW7L8gmkIW4FcVG','W6VdH8ouWPBcKs1h','hCk0W6H8lW','BbrOWOnvW40/WOPaWQO','iqvYW6BdQW','W6btW5OjWOf3W4m','i8old8kpAG','n8ksW5W','CwNcSG','5PY46ioj6iYj5yYW55wh5OMV6yIE5PYH5lYf5OgJ','DSkJW73dLLJcSG','W4JcISkbW4NdTW','oYHSW5m','xmoSdmk0umoTiKe','5yUJ5ywU5BM26zoX5l6u5zgJ5AA86lAq772M5Rsh5yMW5lMJ6zIn5BM26zg/5l2g5zcB5y+I5lQk5zkMW6u','iNZcGhNdQMJdQmoBdNlcRCol','WQBcL1hdNXpdKZhdICkYzmoVpW','kY/cGJafamkZcW07','WRpcPWH8n8kNuWK','FIbUv0G','ANVcUuBcGW','uvldOmoyWQ7cQr1s','a8k+W7S','qSoWrmoboCkFqG','DCoHqWStW6ZcL8oYCxqQWQ9oD8oPg8kP','DCksWPtcQG8Q','W6RdJCoa','jSoPs8oYkeddSs1OW7z6','8yY4Kxq','zxJdPW','WR4EWP56W54GWPZdVNilW45+WRy','8ygKQo+6UgNKVPNMG6BLI48','WPBLUBpPKipPKBNMJjJVV6xdL8oJp8kDWQ7cOmowWQSTWRCkWRVcQ1FdUveDeSofW659WQBdRenWyfjuW4VcRSkBW68','iMJcLuxdR1BdQa','tSkBhSk0EW','yNJdUNvc','C8kQjmkmqa','W4dcL8oH','eSkKW5GwzJRcINe','mwnxlmkg','uWXS','5yMU5yEF5BUd6zka5lYA5zoy5AAk6lw477YM5RwM5yIW5lMN6zMx5BIr6zkH5l+R5zgt5yYb5lIx','ySo6xHnrWQ3cNSoY','pvldJmkjasXfbmklymkiwgTkASoZmW','W6tdJCoH','W6ziW50QWP9I','WQ/NU7xMN7hVVypKU6BMRlFMLy3NGkdMNzVLKANdHW','oCoMFq','grjrW4ldGmkw','u8o6xSoupSkyqa','tCoSfSkvwCo6bKazWRpdOvBdNXu','EIRdMGj+WOBdHSoq','ppgbNQZVUyC','8ygPKSkx','F8kTbSk0yZJcHNO','AUs+RoAbPEwjGSkN','W7DKWRpcJZe','WQ5AWQxdIeCyiuK','n+ISRUAWSowNTEI0TslINlv1','x0JdM2v1','WOWXW4Owq8k+WQe','5O6b56Eb57M35P+gW5rWaCozW7mquhD2wq','cNjbg8k9hreZW4j3W5y','oNldSHDX','bSodC8kxW7y','vGFdLaOc','W5/dTmoQCSoT','WOO/W5OgE8kPWQn3','8jcMSU+4HclKViFMG7/LI44','moEjLUwLUoIlVCoZ','AWtdGJC9WO/cPW','Cmk8hmkruq','W5H3W7C8WRG','WO/cKsjxhW','WOhcQSo4hCoY','W5/cJCoLWRe','W7f2WQJcMqe','W50FWRtdK2i','6i+85y+iWPmruSkyW4BdKXFLPyxOTkhVV4O','saPLzNbO','W6bYWRdcQqJdNGBdT3HbWOZdISk4Fa','WOv/iGBdO3FcU+w8U+wLKoodUos6MUs7TUI1UowoRq','v8oYvq','gCoKWP4PWORdRvtcOhGpaSkl','gmovW6fTWQhdIMJcM8oPh0Oks8oRWO8','sSkBWQPazq','8kgmTNdMGiJLLjhOJlRLV7ZLR7FNI5RdNa','dSoApGhdQmo/iG0','CxtcSMRcNa','5yMU5yEF5BUd6zka5lYA5zoy5AAk6lw477YM5RwM5yIW5lMN6zMx5BIr6zkH5l+R5zgt5yYb5lIx5zgiWRK','5P+e5lM95AEV','d8owpGhdOSo6','qSkhCCo4AmoMtwTEWOG','BaxdPsS3WO3cRa','vMtdL8kSpq','C3pdGMfcqG','E8kMWQPPxq','rtbMz1y','D1RdMSkYbJup','W5FdSmofuSoh','lwRcJKJdMa','FSo0tq','8l6SQ++6Qmof57Ms5y2p77Y4','nCkIW5mHrJ8','A2VcT0FcLa','sCkKW4zUW5RcL1tcMNu','xCoBW6i','W7hMIytKUPRLR5FNI6GM','qmkPfmkQAa','5RsY5yQ/5BwY57QZ5P6A77+n5lQw5QYt5PEN54cH5PYA5zk9zq','5yAU5Rkc5BUU6zkW5P6556sV','rmkdCmo+m8kln2XqWOxdGLpcRG','4P2bv+ACTUECO+IVJoAZQ0S','aCkFW6Xinq','ACo+w8o/hq','6i+y5yYhW4DAoCkOW4/cTCod5Aso6lAy','DmkDWRdcMY0','c8k+W797o8kMW4tcRW','mmokW5VcGW','nSkuW5rKnW','W67dLSoPzCortSox','W70GzMNcPZK','5RA95yIk5lMI6zQ15BMN6zkW5lY45zcp5y2i5lMF5zcXxG','4P+oWOtMNRpOG4VMR5xNO7pLPBtNKyjF','iNddGcbpWOC','cCoSzCoYW5dcMNq','WPRdPCox','WRFcL8kFW5FdG3HVfmoCkmkbCq','W7W+yvZcMYJdVW','Cmo0tGi','vG14z21R','B8kswJJdVSk+uW','ACkLW7q','W6m6BW','mNjmo8kt','qdj+WO9+','W6WOWRRdMKS','B8krxdJdOSkQud8','WO3cNmozlCoKDmk+wG','W6bJW5C2WRK','q8kDd2pcK8k3WRS','W6XbWPxcUJW','W6VcVSoxWQSp','W7yaWRG','5Rwq5yUp5BEn57Mu5P+X77++57QF5PYQ5PA26zAW77+z','D27dLG','jM3dLa','5P2f6icS6iYR5y+y55w+5OU06yUE5P6y5l2/5Ogq7768'],...(function(){return[...['8yICQCkJWPtcTv/dNos8KEwqLG','pCkuW4m','8jwrU8kh56MM5RkQ','5BE25Ak95z6J5z+t','WQ8pkc3dTq','W69YWQxcIahdIrG','W6XFqxJcGYhcVrhcJSoWC8oK','a8oOD8oZW6dcMMS','DSkjWO/cQW','WRKygd3dSwtcKsdcVmonuCoA','ybjVWRvAW44o','8yIgU++5TMO','W6tdJCo1qSotW68','5yI65ysk5BMi6zgQ5lYs5zct5OMF5yQE','smkrba','5RAx5yMq5lMd6zQc5BUR6zcW5l+65zca5y6V5lI75zgpcW','wSoOemkJua','ANJdRHtcOmkVW6K','w3JdLSkIcq','WPJcLSozpCoKAmkd','hY81W7jJDe42zGCiw1G','eaWEW4DK','ANhdTa3cKq','WRhdJ8oK','W7iaWRldTq','jNVdGdzCWPtdHG','BxpdKCo/WOtcJGr5W60','W7hdJmo2rSo4W7WDiq','WOi/W54','ACkeW4FcG1GgWPumtvNcI8klWRWzWPq0W4NcPgddMtLcWQZcPmoAf8kf','xCoOc8kK','mgdcIhVdNe7dOW','DmkwqdZdGSkQud8','aSogjSknBSoB','WOJcNmozlCopACkdv2BcJq','W70kWQVdLwqUiMr/u8kjW6dcGhC','DMddICkhcG','E8k2fq','W4mNWQNdPMa','W47dL8oxtCoe','hd49W6zY','WQNcRqe','umoHt8ktE8kZeu1mWRBcNH/cUeGVm8oTWP0HW7NcKJJcS8oxW7eafNBcLCogf8kiW5rbshOfbSk0jYv3oe5sjXe','WQpcQX4','wmkNW7HSW5FcTW','mmkmW4xdQ8knhLNcISkQyXGN','iWxdLmkslJidaa','WPNcLSotma','WQRdICoTWQdcLN0','q8kgWRXhDSouW5hdKCosWRi1WOFcMSkLpSkCESkSWPxdVSkOWOrqW5jargBdNGZcUIxcOf4','W6pdJmodWRhcMsDh','aGLCW6VdM8kwkqy','BmkwqdZdQSkQsZu8WPm8DWlcLCkoW4u','WPWLW5C2EmkO','WP3dJmoVWPu/WR/cHtu','WQNcJ0C','zW/dUJq5WP3cMSofwSkR','W7FdMCoFF8oQvCoEng7dHmk+jd/cHx/cS8oTWRBdOCkwmKCGWO0cFSk7kgddS2yHFMZcJeVdG+AyIowqGEwhSEs9IU+9S8kzwdtcQv0wrSodWPDW77+n772r6BM+6kYu5lId5yEj5l+T','WQ/cPJLYo8k7FqRcUmo9W5/dO8oIWR/cKrTtbCkbWO7dVXVdOYRdNSkoWPRdGhiHWPC','5RE85yMi5BEc57M+5PYO776m57Qh5P+45PsG6zEE776a','uKtdQ8ooWPtcSJa','W6PYWRFcNWxdNa4','v2XbWR3dICkOW50','zCkEWO7cIWW4W5jYs8oWW599iSo1','W7ddKCo3C8oyW7K','WP3dISk1W6zjW7ZdL2bubq','fGxcVCkiW77dRwmoWPOd','qSoFW6WkWQHrW4O','vCkFWQjpCmoa','v2Xt','8yg9SmkxdowpOo+8Na','F8o+wqHEWQVcLG','zCkGW41VW5K','W7SyWR7dOMWflMX0','W4tcL8o1WQysWQVcJt0','o8kFW7VdS8kai1VcG8kRqWOvlqxcI8oGW7tdPCoVW5OLW4RdIHqsCYz+x8o+WO3dImoq','bCoSE8oY','nvdcRM5LW57dUCobCCk6yeHQ','DNldLG','ChxcSG','W6pdKmovWORcGG','WQtdNGavA8oLW5u','dr3cPmkwW6hdSv4','woITIoAWKUwLLoI2QmkT4P+3sEAvK+wrR+w4PEAuM+AmSW','5Asj5zgo5zci56sJ776z','8kw8HdBdKUwpPo+/SG','pmkEW5FdQSkikLK','hwrxWOBdJSkXWPFcTJDLWORdSSk7CIRdPLy','5RE+5yMQ5BAu57Ul5PYn','W6FdISo9ySoFW7av','kMxcKM7dVe8','W6WLq0BcUW','F3ldRGtcOmkZW5rw','ySk/W6S','n2tcIM7dOa','rSoMbq','5Awb5B6m5lQ5','CCom5yYdWO0','WQ/dMsa0yCoTW54','CZxdUcef','yCoZrqTXWQ3cNSoY','hmoClW','qmoTpCk6xmoXdeisWQNdHhddSbb1oCoXW5KaW4/dUIhdOCkxWObnsh8','W4xcLSoLWR4jWQ7cHsS','fSoEW7fDWQS','b8k+W7fR','5Rsr5yIH5BAq57Id5P2Q776t57Q45P265PAb6zsZ7765','W7BdJCouWPhcTITuomo4omkJrCkvWPJcV8o0','5Rwq5yIL5BEK57Me5P+A77+K5lIt5Q2m5Psq54gb5PYt5zcmeW','xGb/A2L2WOiEW7/cHq','DSkQEY3dTG','W67dI8o+','F+E5NoADMU+/N+s6IoATGEAxNEEbT+ADSowtNSk0','yar7','gbjCW6q','b8oAW6XbWPi','pez2WRj6W4mcWOe','ue7dTuT9','fCoAiXBdRmoQdG','kSkKW5O','FSkqfL7cPG','a8kkW6VdJCkB','CN/cP0hcNW','DhxcPKFcImkBW6qL','W6XysN7cHsxdH2RdOCk5vmocWQP7WPlcO8oCvsZdTW7dVmkMW4tdHSkJWPbkmWDhAmkLBCkXW7S','kSoJW6hcHNW','c8ohW6jnWQa','W4lcMCoRWRC','r8oSeCkJvmo4dG','k8oeW5u','W7pcH2LhpCk9WOzGf2a','B8kiWP0','W7LhW4i6WOG','bsOLW5v7CgO','AmkuWPpcOdm1W5bNAmoHW7bMdSoJ','sv7dRCoxWOxcUJLt','e8o4r8oCW5m','WQSpfY7dLwhcRZVcVa','xGb/A2L2WOiEW6pcK2i','W7VdLmo4','5BMq6zcA5zc956wD772TWQm','W5VcImoQWRO2','tLNdQSozWRm','W77dQ8ozrSoQ','WRGehr7dMx7cLq','W5tNPRRLIi5X','qfldOmoUWQRcTtbzW45GaayPW67cTq','B8kXW6xdUf0','cmovc8kEyq','tCkxeMtcL8k+WQO','amkgWRzoW48sWPnswYe','W5tKVl7MGy7LIBFcSa','kSoyW5u','t8kphwlcLSkEWR8Uta','bNddPaX8','uCo0ra9AWQlcH8k6q2e7WR4','W7dcI8kE','p8oNcrFdVa','8k2NJ++6VgxKVkxMGjpLIPS','5P2b6ikA6i6i5y2r55Ag5OUf6yI45PY25l6H5OcR77+c','W7XoW4e/WQn3W4NdVa','WPxcKmouiSopz8kAwW','W6/cLmk6W7tcKvpdHwaezW','W4tMTOhLI7ZLTOJKUO7cOa'],...(function(){return['s8oQfSkEvmoYdG','8kI8HIxNI6lLP4tOIjO','aupcO0ddNq','WQ7dI8oQWRtcQ3/dOq','W6VdKmoermop','vCo0q8ou','bos4O+IXG8ko','W7xdLSovWOZcNI1lmCoZ','p8koW7tdImkn','m8kLW5qj','tSktWQjmA8oF','z0tdMSkhgZ0PdCkkEmkbwwG','dSoFFmkWW5q','W5VcLSoFWQi5','a3HSpSk4','zbLVWQnjW50','rCo8fSkwwCo+da','sLldVCopWQRcVde','ACkjvYNdMmkUFJuGWO4TFcu','WQtdKCoQu8oeW5quEq','WOm1W4OaD8kRWQG','W6FdLCogWPFcLardoSoV','mSowrJZdHCkNtNuCWP8QDZ3cJSk+W586WRinyfFcJCkk','DN7cGvZcJCkFW6C','WONdLaCowq','zCkEWO7cNauUW494s8o3W7Hhbmo+uJLH','kg7cHhVcO1RdOCoChfK','BSkAW5/dHea','z8oUd8kEDG','WR3dKJSkx8o0W5iPrJG','w1/cGq','FCkArWBdJCkMwa','WQ4pdqFdMwVcVJVcU8oI','amkKW6HioSkIW40','i8oeW5hcGLWpWOHx','WQ7WMR2f','AhxcVLBcIa','yfhdJ8ktcISE','8lIuTE+7TSkN5l6L5OcF5yQh','8j+TSU+7TCoU57Uc5y2y776L','DIvkANO','b+E7PoAFKE++Sos7GoAVUUAwVEEcJ+AFHUwqLaO','i8kQg0GgW7/dH8onrN4AWPLg','dG1AELDuWOa','Cx/cPKdcH8kDW6W','WOC+W50wBG','WQ/dHCo3WRBcGa','W7xdHCoWqG','v3PmWP0','FxJdHufCu8oPvLP/vCoiW4e8','WOK1W40MzmkGWP1IWQG/DxyNW7Gf','nmk/W5iuzJRcINe','WRxcOXrRn8kaAae','E8k2fCkbyNa','ESk4bSkNEa','W7WdWRddV3O','uGz4Cx54WPm','bHry','DSkBWOVdGqKOWR5BEMZcVG','W5lcQmk2W6ddUW','WRBcQq9OamkGDa','5lIG5AsH6ycg55YJ','sCkWW5nsW5/cTfa','iVgbVAxVU4e','w8k4W45SW6ZcRfS','xSkYW4TPW5S','fCoAW73cO0m','A8kywJW','cSk/W7HAp8kUW48','WPCincVdTq','8ks9Mmk8xHRcLSo55l+b5zog','WRhcVCoOdmoErCk2Beq','q8oNeCk1r8oR','772J5BsJ5OQm5yQr6iA85yMR55Ur6k2R5PAO6lsy5z6n5zYQWPdcQG','wazLuh5XWPiiW5VcSNOBbmocW4i','vf/dOComWOxcUJLt','v8oDW70','4PQTv+IVQ+wIREwgOUAILEw9PoAUGoEHG+EzI+MrSUAmOW','W4vIW7eDWQHsW6BdMhK','oCoeW61oWRC','mSoUWQpcPqtdOSoLjCobW64tWP3dKG','koA3JEwjPow3MEs6KCkx','zSk4W7JdSeW','xmoob8kADG','xM1c','AgddOrlcOCkvW6rcAW','E37dHw1gx8oWsN1V','WRpdGCoUWQe','hCowo8k7yCoyyG','xCoxucf3','C1tdO8o5WPm','FLTqWQddRq','EmkyrYK','d1T/mCki','wmoFDtfGWO/cVmocr1Cf','W6bIWPhcPGK','sSktWQ1pESofW4m','W6ZcL8k6W7hdJt7dRLWMy8kJW4S','CCkpWOJcPW46W5zXxa','EWhdGqOC','WP/cLSoupmoSy8kzsG','W6L+WQFcHYRdMGBdTW','qv7dTG','B3/cOx7cJ8kcW4CPW496','ymo+xGLg','tbr/WQnlW50','x2nrWORdIa','Cmkwva','lSk5W54ixt/cGMC','CCkCqdVdJCkSwa','WP3cUaTibW','lSk5W44bwI8','W7ldHCoTxSoyW7WDiq','y8kmWPVcVaqtW556qa','WQquW6y0wCkdWOLq','WQNdNYa5B8oVW5a0tWVdUCooCSoJ','vCk1gmkOzG','sHn4we4','FYVdIr1YWQddJCo1','W6rdW5C8','WPNdQZmXvW','4P2iW7BMNRNOGA7MRzxNORJLP5dNKAhcRa','mmkmW4xdQ8kna13cICkR','ktDvW4JdTa','5yQF5ysg5BQC6zo45lYf5zgh5AEh6lwc77665REA5yQM5lQS6zI95BI76zgF5lYN5zcF5yYa5lUm','DSkUe8k2DeZdIdHO','WRFcTWHDpmkX','ncRcVv3dUmo8WQapm8kL','WO0blYNdHW','W73ORP3MSlVLKOFLUkqZ','8jwSGei','8jEXNSoS56Mr5Rcl','CHxdTtS','W7fYWQRcIahdIsldTG','WQ8FfW/dNNC','WQdcRajmo8k4FW','W7W9z1ZcLINdUe/dT8kn','WQRcTXjEpSk0Fq','WQFdLdaFEa','a+E7HoAFN+AwLUMuSE+/MW','vSk9BbJdOmkEBG','4P+dDEIeKUACGoI8MEIGKEMdLUwiI+s4NEMxSEIVMCoG','W7CkWQZdO2KSkG','hqjrW6pdI8kabre','poIVREAYL+wtVUw5SSoA','FmoWeCktDG','mowSK+EjV8ok','cmknd3xcGmkpWRCNfa','fwnxgW','W5BcRSoXWPSW','WPCUjHRdV1RcVGy','E3/cU2hcH8kuW60VW4fcW5NcKmoZWRLL','W7WWFghcOcxdN1ldUmkd','eSodW7i','W5BdPCowxCob','DCo+xJzAWR/cGmo2Ch0','y8kyWO7cGaeWW5O','qSkDW7DuW7a','E8oFCSoZlSkRyG','o+w4O+MrV+MsHoAnN++8VSomhHzHW4lcO2pdOL0oWQtdHfZcNhLVFdy6iCo9W61JW4NdTa7dL8ktW5xdHmosW64','W7ycWQVdP2m'];}())];}())];}());Iii11l=function(){return I1l111;};return Iii11l();};var version_ = 'jsjiami.com.v7';

// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
