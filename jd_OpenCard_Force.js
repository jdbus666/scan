/*
ÂÖ•‰ºöÂºÄÂç°È¢ÜÂèñÁ§ºÂåÖ(ÈÄöÁî®)

VENDER_ID // venderIdÊàñvendorIdÁöÑÂÄºÔºåÂ§ö‰∏™Áî®&„ÄÅ@ÊàñÈÄóÂè∑ËøûÊé•Ôºå‰ΩÜÊòØ‰∏çË¶ÅÊ∑∑Áî®
OPENCARD_BEAN=""  ÊúÄÂ∞èÂÖ•‰ºöÂÄº ÔºàÈªòËÆ§2Ôºâ
OPENCARD_QZ="true"  Â°´ÂÜôÊ≠§ÂèòÈáèÂº∫Âà∂ÂºÄÂç°Ôºå‰∏çÂ°´ÂÜô‰∏çÂºÄÂêØ

cron:1 1 1 1 * jd_OpenCard_Force.js


*/

const $ = new Env('ÂÖ•‰ºöÂºÄÂç°È¢ÜÂèñÁ§ºÂåÖ')
var iÔΩâl='jsjiami.com.v7';const l1llIl=iii1II;if(function(II1lll,II1lli,ii1I1I,IiIl,IiIi,iI1ll1,IlI1Il){return II1lll=II1lll>>0x3,iI1ll1='hs',IlI1Il='hs',function(l1il1l,liIil,IllI1I,liIii,II1ll1){const i11I11=iii1II;liIii='tfi',iI1ll1=liIii+iI1ll1,II1ll1='up',IlI1Il+=II1ll1,iI1ll1=IllI1I(iI1ll1),IlI1Il=IllI1I(IlI1Il),IllI1I=0x0;const IlI1Ii=l1il1l();while(!![]&&--IiIl+liIil){try{liIii=parseInt(i11I11(0x18f,'QUhE'))/0x1*(parseInt(i11I11(0x1a9,'cT41'))/0x2)+-parseInt(i11I11(0x15c,'T8Z4'))/0x3*(-parseInt(i11I11(0x19a,'T0]u'))/0x4)+-parseInt(i11I11(0x142,'QUhE'))/0x5*(-parseInt(i11I11(0xdd,'T8Z4'))/0x6)+parseInt(i11I11(0x133,'nQAn'))/0x7*(-parseInt(i11I11(0x1a3,'YrVJ'))/0x8)+-parseInt(i11I11(0x172,'[dNV'))/0x9+parseInt(i11I11(0x9a,'Jn^a'))/0xa*(parseInt(i11I11(0x116,'FMj&'))/0xb)+-parseInt(i11I11(0x164,']adr'))/0xc;}catch(i11I1I){liIii=IllI1I;}finally{II1ll1=IlI1Ii[iI1ll1]();if(II1lll<=IiIl)IllI1I?IiIi?liIii=II1ll1:IiIi=II1ll1:IllI1I=II1ll1;else{if(IllI1I==IiIi['replace'](/[bCFndGlTVAUfYLPJuwEr=]/g,'')){if(liIii===liIil){IlI1Ii['un'+iI1ll1](II1ll1);break;}IlI1Ii[IlI1Il](II1ll1);}}}}}(ii1I1I,II1lli,function(l1il1i,ll1,iI1llI,llliii,IllI11,l1llIi,II1llI){return ll1='\x73\x70\x6c\x69\x74',l1il1i=arguments[0x0],l1il1i=l1il1i[ll1](''),iI1llI='\x72\x65\x76\x65\x72\x73\x65',l1il1i=l1il1i[iI1llI]('\x76'),llliii='\x6a\x6f\x69\x6e',(0x162b85,l1il1i[llliii](''));});}(0x660,0x36782,Iii11l,0xce),Iii11l){}const jdCookie=require('./jdCookie'),common=require(l1llIl(0xe1,'6dd&')),notify=require('./utils/Rebels_sendJDNotify'),{H5st}=require('./utils/Rebels_H'),OPENCARD_BEAN=process['env'][l1llIl(0x111,'nQAn')]||'2',OPENCARD_QZ=process[l1llIl(0x155,'*yY6')][l1llIl(0xbd,'QUhE')]==='true';let VENDER_IDs=(process[l1llIl(0x11e,'923C')][l1llIl(0xb6,'N5##')]||'')[l1llIl(0x1b0,'^otg')](/[,@&|\n]+/g)['filter'](Boolean);function iii1II(_0x4939a6,_0xaf4d86){const _0x329840=Iii11l();return iii1II=function(_0x1067df,_0x50f335){_0x1067df=_0x1067df-0x9a;let _0x4605f5=_0x329840[_0x1067df];if(iii1II['ZGKZBU']===undefined){var _0x2b4aea=function(_0x4a6bbb){const _0x4ddf52='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x37b256='',_0x29db11='';for(let _0x2cca23=0x0,_0x345557,_0x576b9d,_0x272ddd=0x0;_0x576b9d=_0x4a6bbb['charAt'](_0x272ddd++);~_0x576b9d&&(_0x345557=_0x2cca23%0x4?_0x345557*0x40+_0x576b9d:_0x576b9d,_0x2cca23++%0x4)?_0x37b256+=String['fromCharCode'](0xff&_0x345557>>(-0x2*_0x2cca23&0x6)):0x0){_0x576b9d=_0x4ddf52['indexOf'](_0x576b9d);}for(let _0x1bf0f6=0x0,_0x1a038c=_0x37b256['length'];_0x1bf0f6<_0x1a038c;_0x1bf0f6++){_0x29db11+='%'+('00'+_0x37b256['charCodeAt'](_0x1bf0f6)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x29db11);};const _0x67f679=function(_0x13d1ab,_0x542ad7){let _0x4b3ca9=[],_0x2608fa=0x0,_0x35515f,_0xbaadcc='';_0x13d1ab=_0x2b4aea(_0x13d1ab);let _0x25cf5e;for(_0x25cf5e=0x0;_0x25cf5e<0x100;_0x25cf5e++){_0x4b3ca9[_0x25cf5e]=_0x25cf5e;}for(_0x25cf5e=0x0;_0x25cf5e<0x100;_0x25cf5e++){_0x2608fa=(_0x2608fa+_0x4b3ca9[_0x25cf5e]+_0x542ad7['charCodeAt'](_0x25cf5e%_0x542ad7['length']))%0x100,_0x35515f=_0x4b3ca9[_0x25cf5e],_0x4b3ca9[_0x25cf5e]=_0x4b3ca9[_0x2608fa],_0x4b3ca9[_0x2608fa]=_0x35515f;}_0x25cf5e=0x0,_0x2608fa=0x0;for(let _0x2b55ae=0x0;_0x2b55ae<_0x13d1ab['length'];_0x2b55ae++){_0x25cf5e=(_0x25cf5e+0x1)%0x100,_0x2608fa=(_0x2608fa+_0x4b3ca9[_0x25cf5e])%0x100,_0x35515f=_0x4b3ca9[_0x25cf5e],_0x4b3ca9[_0x25cf5e]=_0x4b3ca9[_0x2608fa],_0x4b3ca9[_0x2608fa]=_0x35515f,_0xbaadcc+=String['fromCharCode'](_0x13d1ab['charCodeAt'](_0x2b55ae)^_0x4b3ca9[(_0x4b3ca9[_0x25cf5e]+_0x4b3ca9[_0x2608fa])%0x100]);}return _0xbaadcc;};iii1II['GdxOtU']=_0x67f679,_0x4939a6=arguments,iii1II['ZGKZBU']=!![];}const _0x1d6076=_0x329840[0x0],_0x2f6e67=_0x1067df+_0x1d6076,_0x1b1f0f=_0x4939a6[_0x2f6e67];return!_0x1b1f0f?(iii1II['FOhbvR']===undefined&&(iii1II['FOhbvR']=!![]),_0x4605f5=iii1II['GdxOtU'](_0x4605f5,_0x50f335),_0x4939a6[_0x2f6e67]=_0x4605f5):_0x4605f5=_0x1b1f0f,_0x4605f5;},iii1II(_0x4939a6,_0xaf4d86);}const isNotify=process[l1llIl(0x17a,'UdsG')]['OPENCARD_NOTIFY']===l1llIl(0x1a1,'(d2n');console[l1llIl(0x145,'FMj&')](''),console[l1llIl(0x127,'nYLm')](l1llIl(0x12a,'P@FZ')+$[l1llIl(0x171,'*yY6')]+l1llIl(0x136,'Z(CE')),console[l1llIl(0x13b,'BFra')](l1llIl(0x16f,'KJ7%')),console['log'](l1llIl(0xe5,'Y&dM')),console[l1llIl(0x107,'6dd&')](l1llIl(0x137,'emu6')),console[l1llIl(0xba,'cRfx')](l1llIl(0xdb,'[dNV')+$['name']+l1llIl(0x199,'Z(CE')),console[l1llIl(0x1b1,'UdsG')]('');let cookie='';const cookiesArr=Object[l1llIl(0x12c,'T8Z4')](jdCookie)['map'](IliI1i=>jdCookie[IliI1i])['filter'](ll1ii=>ll1ii);!cookiesArr[0x0]&&($[l1llIl(0x122,')bIZ')]($['name'],l1llIl(0x18c,'KbBe')),process[l1llIl(0x1b3,'YZ1v')](0x1));function Iii11l(){const iI1li1=(function(){return[iÔΩâl,'nwFjTsJujbGiamFGPibC.com.LvAU7GJlVEdrfYf==','WObvv8osia','WPFdKHi','W7VdN8osx13dPg4','WPDSvXpcTq','r+IXHo++PEweI+s9HmkGWOZcVa','i8oOvsPnW6qvFg3dQWS','W7OoWP/dQ8khW7mYW53cS8k5cG1pCSktW5WE','WQBLUkRPKO/KVAxLK6JKU5FcHG','5y6p6yEl6k2U5PQFwatdHXpdRdJcPr99oG','j3pcPHinWQpdPmkzW6tdPhKiW4NcRdVMMy/LKkdLVklLIOtLVPVLJBJVVjpdP3JcTSkkWPdcKmoIWP7cQs/VVj/VVkFPUOJORj7KU6ZLV4hLKQi','W6qVW7FcQmo+wq','WQOiWPTQWQO','W7RdQI43WQC','W7JdHCob','W7xcImo2WP7dRG','W6JcQSkfgSoSW57cSIxcPa','W5bNeSoTW6i','sb3dNxZLHkVKV7JOJihLVyRVVQe','pXmnd1ddJvfCEam','WQGGkG','W7ddHSkMW7myWRSKW5qPB8o9e8oY','buBcKc8VWOxdKW','Fu9LW7pdHq','DWNdGa','WRpcLSoKWRjlW7TG','yCoUW7hdHILSwmoFWQVcVLpdU8o/ka','qSo4W7RdKaj/DSoB','WPmgWQPjiW','i8kXWQyzW6e','pCoyWRtdP8oQwq','W4rfWOSTW40','W7/dUmoGr8omdmkSxG7cHCocESkD','i8kyaCoNWPBdTKFdISk1W5LGAq','jCkbdSk9WRFcSv7dMG','WOdcLmoiWRRdRKxcO8k4lNxdLrNdMCkdW6NdNmoAf0RdSXPJW5rfWOjavSkjk8kY','W7RdUCoZ','WQZcS8o7WOnpW5VdLSohdq','W5bfWOOOW6RdVG','6loqW4VVVPJKUk/LH5ThW7ee','WO89WPO','WPNcRc7dGNbQlG','WQVcKCkFqNVdGcxcUI1xWPhdNh5l','kZFcMfHVWRRcM8oMCSo5htdcMG','W6VdNmk/','W5/dUSkuWPbLzhnGWRBcLCoGWPy','W77dLwe','WQxdPmo8wmoPoCk8','W7ldN0TGWPO','C8oXW6bsWQpcSSobW7OoWQRdKSkzAZjWWOlcNq','kddcNfPVWRBcLmohymo6htlcJa','WQRdPmk+W5BdTmoCW7L/W4yMW6rr','W4VdJuvXW6i','WQdcINvmW5S','ASkDDG','WRpdI8kUW5JcKCo1WQ3dUdddKd7dQN0','WRjMdJxdJJ/dISotWRHGWPZdVW','WP1Jt8os','W6nFWOmUW4hdRCkvW4y','C2ZdNqSSW6VdKCoMEmoIlqJcR3isbSkc','uLfrW7pdNG','oCoyWQNdTSoJx8o+W4ldMaqoWRqrua','W5mTeq','ANddGbq7W4ddG8o/BG','W7GnWPRdI8kG','fWKE','WPBdJSkzW7ZdP8oRW4HsW6D0WOiAWOlcG8onoaJcMtJdPgZNMkNLGlVVV5ZLPBtKUQdNLAlcJUodKSo45OQv6ygd5y6z6l2o5O6v','W4ZcTSkoc8oJ','WOqYWOf8','W5ddKCkjW6dcTHldU8k4pLpdVMldOW','zmo+W7ZdGsLTAa','BciWjxFdP1u','WQ13gtRdOc3dVmowWO5K','C8oXW7bsWQK','E1xcSJ3dHW','FwVdJXOsW6FdKCoM','W53dSfDS','oX4p','DSoWW7m','W4GXcCkdralcRCkRW58NtSkf','DSo7W7BcJceWCCoAW7FcUxldTW','W5SMW7tcLCoa','8yIkVuS8W6GQW6VdN8kvDCkWW7qhW6OCEmoaW5qHW6NdRcuo6k+E5Rg95B6I5BU6sokEHxtMLyFLK73LUiVML7pMJjq','WQ3cTCo/WOBdGq','iSoyWRtdOCoNsSoy','WPFcGCowWRldOLtcGCkTnx7dTvFdNSkv','4P6TW4tOHQlMN7ROVzFOOARPGOxLI7ZKU4hPLipORzq8','ANFdJs8K','DSk6e1rnW48a','W5/dNN1EWOm','WPxdU8k1W5NdIG','WQdcLSkfq17dJclcPGHGWORdLh51uGtdMW','WQ3cU8k5jmoNW7dcSa','oEw5OEMsI+wgNEs8HEAXI+ADVoMbQUIXV++9Oos5UUwgHos9Ja','WQa2c1iM'].concat((function(){return['44c25O6J56Eb44o46kYB5yA26i+O5y62W6RcNSoHW4yJnq','yczpwHS','WP1RsmoqgexcJmkqW4K8zCkKW7/cUq','W7pcOCoCWOr/W4TK','jmkbbSkOWPFcTfq','w1hcIYyzWRldLq','BIflyYjoW7NcKa','WQ/cQmkWDMO','W4ldU2HFW7u','W63dHmk8WR1A','W73dHmofDutdOwZdGq','EmkXe3KkW5Khs2NdTWldSCoB','dCorWPtcUMbvDCkcmZVcGqxdQmor','5O6h56s+57Mj5P+owatdHXpdRdJcPr99oG','iSkRWQqpW6pdR8o0W4ipWQhdTmkZ','aCkea8kxBq','EY1CyG5tW6S','vfPttaZcJG/LVkxLP7RJGBFKUANKUPNOTzFLJOu','W6ddN8k4WRHs','k8ouWRtdSCoPwmotW5FdUrqYWRWsuG','WQaEoLKdz8keWQ3dSuebqSoCWO0','W6BdIhny','W73dHmocFeK','pYWNW6NdVxSpu8kP','DmkNdMG','DMFdHWKQW6y','WRdcKCo0WOji','W6tdMmopy1tdI2JdN8kl','W6hdKMLnW6q7bhldImkbWPtcHmo+ia','W7JdI8odfH/cMX7cNt5DWQBdSa','W5VcG0TF5yEv5l2l6i2p5B6g776L','WRpdVSk0W5VdH8okW6q','W7xcRmoFWPVdGa','WQjgW4zybreZW41HFq','bmoDWPtcQM5hFG','W4xdP8kuWOrwt3XPWRy','W5NdOvjXWOm','mH8E','W6BdJ8ovBf3dSq','WO/cOstdLq','WPO/WQPZWOhdTCkOWQTNemkGF0xcUWaeW5tdRSoKyG','WOCCWR4KW5ZdP8kXW4e','WPpcGColWQpdQ1i','W5NcTmk1hSoV','WPHQrCkbihG','W55HW5HnmMFdMSo3fG','F3ddMWeSW4tdJCo7zCoJmaVcUG','WQHJrb3cQWBdNmkk','AILzDam','FtBdPSo6fa','WRWlpfGUySk6WQddJfaKu8oAWP0','8jUjTeFLIRZLHj3LUkVPKO7KVkxLKylLPO/OTyNcT+kCQby','zdTk','wCk8W5Oe','W7JdJCoceHRcMMhcTWPfWQ3dSvu','oCouWQaVm8oizaZdOmoKWOldGmka','WQ7cRSkSgSkg','WQ3cNmoY','W51DfSoHW5RdUG','WRRcLH7dTq','WOZcU8opW5ad','WOPQvmodgLxcJ8kgW786smkGW47cTmkoW63dSxlcJq','W7xcV8kAfG','F8oTW6zyWQm','W5ddP1fXWPa','CuhcRtBdRW','W5hdVmkoWP1CDhnWWOdcK8oBWPSiW4u','WOm9WPH8fwddMmoAl1ikDaFcLfddNtO','WPvTxa','WQ3dUdS7W7udWQDyW7S','W5WaW4VcJmoX','g8oDWPtcRgnu','WP5RxCohpL7cHmkl','W7OLW6m','W5JdTe1TWPTX','cJ40fM4','WO7cO8oqWOLTW4LgW7uhsCo1','lSoZWQ7dSCoZ','cJ4QWRNdRq','WRtdTsC6W7S','FNJcNsZdISk5mMa','WRyQpSohW7NdPG','5yw05l+f6ygMrW','xdTizsvbW7lcMG','W5nxc8o0W5ldUSoX','EY1EyGDu','lCkDhmkpWPFcUuO','F2hcMYNdH8k5lwfEp3fdWQ/dSG','W4xdPePEWPTKuG','W7pcJ8oRWOldJ8kKW7ZdRWG','i8kIomkwvG','WR9+FrNcIWy','WQ9mW5T7nGCUW4HJAI9F','dHuCWR7dLNuvWOe','dSkfgSk1Eq','yLj1W4tdOW'].concat((function(){return['pCowWQiLl8oMsaRdOmodWO/dGCke','WRFdH8kcW4RdSW','W4tcQmo6WPJdUW','WOxcHComWRC','cmkzfG','44g55O2O56ED44oi6k+45ywO6i6S5yYGiYdcNaFdR8ot','FhtcKcddSmkW','WPFdKHi6W4iJ','WQddHCkNW4VLH4tKV5NOJklLVj7VVAS','W7tcQ8kdnCoUW5JcVa','W5ZdMCkfW6VcUHVdV8oXEIC','nu/dO8ojda','WQddS8oADCoBimk0','8lU4LMxLI5ZLHORLUlxPKRNKVQJLKR/LPklOTR/dSUkCPCob','W5fchCoPW7ddVmoMnmkMW47cJmouW5yG','WQmQi8oNW5q','W7m5hI/dPdldI8kyWQHGWP/dTaBdUYzGW7FdOY/dSmo0oua','odaI','WQ/cMSo2WQXGW6L5W5q','W7OVW6RcUSoMrq','WOSFcmo8W5BdK3ioh8kjCCkCW6e1WQr8WQBMNQRLSAZLHzpKVOlLGAOa772/6BMO6k2Gn++/UW','WRdcPmo8WP5EW70','WRVcJCkFy0ldJq','bCoxWOa','uUw/T+wkNEw9SowjQ+whIEs8VEAzJowsQow+KowtIo++Ta','DCk2fh8xW4KAs0NdIH7dVSoAuq','5yw15lYl6yo/ha','WQ7cNCkfzupdHJRcUX5KWP7dLg5C','jhhdUCoYaeRcIq','W6zAWPCgW7u','CCkTnJJcMq','W5DfdCoxW50','W6aiWOtdVSkuW7u1W4dcTSkccXHJwG','D+kEMmk6','W7pcKmoWWPVdS8k2W7S','yd9yrWu','nEAFHUISGEwLREI1Q8oc4PYQW70','W6ddMdyjWOpdLG','DM3dJG','W4tdJCkUWOTb','nSkdW6ZcK8kH','hEw/MowlKUAEOUs8GUwfU+s8GEAIUEweN++/Ga','p8oCWRxdS8oRxSo5W4ldNGe','FSk8AmojWQK','WP8UWQ1WWPpcQmoI','FCkWaa','W7C5W7FcTmo1qW','W7NdPSoXtmo9cmkTtJ/cQConCG','n8ouWRuKhSonvqFdNCoKWOBdMSkbmW','WP4JWRXBWQC','W4b8W64ZW4y','4P2fAoIeT+ACU+I+U+IHRoMdMowlJ+s4LUMxMoISVSoM','WONdMaykW5WL','WRddUSkNW47dLa','WRf5da','WQ9Zgc7dOsO','W6FdIfvmW70','wSkiW5ddQJ8wi8khisdcIrVdJG','mghdRSocdvBcIMhcOwddTMeHDtdcMCkmW5iG','WQmgWOzFea','WRdcM8oAWOr4','WPBdRJmxW4K','zmkVhW','W4m5W6hcR8oCtmkUxa','xSkpiLi7W70ME0xdVcNdLSo6','hWKxWQK','W5XdWO8YW5NdQCkwW4FcMwqJW64','cvpcKZaNWOhdL8kPW5ldMK0hWP7cRMWxCtxdLmo0A3BcVN/cSCkdW5RcMmoGWP3cVI9Y','W4ddNGi6WOC','kvtcKSkEy8oxW6tdGSoeW6S/W7tcGa','WPDwC8kHpq','BdPFEbLQW7dcLSo+WPlcUCkdwa','WP4DWPXRWPO','W7rjWQKBW7K','W7xdNCkK','W7pcK8o2WPVdJmkMW7JdQXtdJrVdSgRcUeFdUb8LWPm','A8kxySo8WRi8va','tmkNW58','wqLdDrS','lSobWR4UomoEzaldVmo0WQNdJ8kzjq','WOJdMbyqW541WRr4W5hdT0FdVdiM','W5JdPSkA','WPFdO8kUW4ddGW','8yo7Omo+zmkxWRVdLmoSArdcHdrfW7CpeSkPW7NdQNVcL8oSiEISMUAYHUwKHoI1HXdINRXj','DCk+e30','WONcKmomWQBdTbZdRCoJn3VdNfpdGmoEW6ZdLSopf03dVW','WR8upG','W73dIde6WOpdGYq','W5jxfSoGW4FdTq','W6hdVmkVW4qxWQJcISkxvx8','4PIvWRxORiRLHRBLRQNKUyJLV5JOPOxNMzFNJyJLOkRLJkRPHQNLKQZLHj7OVjBOOiFOHj7MNBJVVzS','W73dS8oTuq','kreqeG'];}()));}()));}());Iii11l=function(){return iI1li1;};return Iii11l();};!(async()=>{const ii1I1l=l1llIl,IIli11={'LQCpv':function(IllIII,ii1li){return IllIII>ii1li;},'wLUrQ':function(IIll1,ll1il){return IIll1<=ll1il;},'RcGFh':ii1I1l(0x12b,')bIZ'),'qbaEf':function(IiiIiI,lilii){return IiiIiI+lilii;},'JJOQc':function(l1iiI,ll1li){return l1iiI+ll1li;},'XfuzW':ii1I1l(0xfa,'pQiI'),'lMJDx':ii1I1l(0xe9,'$!Ci'),'HvtOC':function(Illl1I,lliiiI){return Illl1I<lliiiI;},'tTriN':function(lilil,ll1ll){return lilil(ll1ll);},'OHREK':ii1I1l(0xcc,'qiiw'),'LQGPF':function(Illl11){return Illl11();}};if(IIli11['LQCpv'](VENDER_IDs[ii1I1l(0x1a5,'7sW9')],0x0))VENDER_IDs=[...new Set(VENDER_IDs[ii1I1l(0x153,'Jn^a')](ii1lI=>ii1lI!==''))];if(IIli11[ii1I1l(0xd2,'KJ7%')](VENDER_IDs[ii1I1l(0x9d,'bjmE')],0x0)){console[ii1I1l(0x17b,'T0]u')](IIli11[ii1I1l(0x115,'6JZF')]);return;}console[ii1I1l(0x12f,'N5##')](IIli11[ii1I1l(0x1a6,'QUhE')](IIli11[ii1I1l(0xb7,'cRfx')](IIli11[ii1I1l(0x131,'qiiw')],OPENCARD_BEAN),'Ë±Ü')),console[ii1I1l(0x16e,'O74X')](IIli11['qbaEf'](IIli11['lMJDx'],OPENCARD_QZ)),notify[ii1I1l(0xab,'hj%N')]({'title':$['name']});for(let I1ilIl=0x0;IIli11['HvtOC'](I1ilIl,cookiesArr[ii1I1l(0xe4,'cRfx')]);I1ilIl++){$[ii1I1l(0x176,'T0]u')]=I1ilIl+0x1,cookie=cookiesArr[I1ilIl],originCookie=cookiesArr[I1ilIl],common['setCookie'](originCookie),$[ii1I1l(0x167,'Jn^a')]=IIli11['tTriN'](decodeURIComponent,common[ii1I1l(0xec,'cT41')](cookie,IIli11[ii1I1l(0xc0,'N5##')])),$['UA']=common[ii1I1l(0xe0,'Y&dM')]($[ii1I1l(0xc4,'xpKm')]),$[ii1I1l(0xc5,'hj%N')]=notify['create']($[ii1I1l(0x1a2,'BFra')],$[ii1I1l(0x110,'cRfx')]),$[ii1I1l(0xc1,'$c$g')]='',console['log'](ii1I1l(0x19d,'UdsG')+$['index']+'„Äë'+($[ii1I1l(0xe3,'QUhE')]||$[ii1I1l(0x148,'pQiI')])+'******\x0a'),await IIli11[ii1I1l(0x180,'[dNV')](Main),common['unsetCookie']();if($[ii1I1l(0xc9,'^otg')]||$[ii1I1l(0xe7,'cT41')])break;}isNotify&&notify[ii1I1l(0x1ad,'!Tmr')]()&&(notify[ii1I1l(0xa8,'$!Ci')]('\x0a'),await notify[ii1I1l(0xa6,'923C')]());})()[l1llIl(0xa1,'xpKm')](I11iII=>$[l1llIl(0xd8,'N5##')](I11iII))[l1llIl(0x190,'GkLT')](()=>$[l1llIl(0x112,'O74X')]());async function Main(){const ii1I1i=l1llIl,I1ilIi={'QUxOM':function(IiiiI,llIlli){return IiiiI===llIlli;},'pqpvv':ii1I1i(0x10c,'*yY6'),'fPAPF':function(llIlll,lliii1){return llIlll<lliii1;},'TNMpH':function(Iiii1,lIIili){return Iiii1===lIIili;},'PAnbp':ii1I1i(0x161,'(d2n'),'NpsmE':ii1I1i(0x186,'^otg'),'lhbXU':'OMIAI','iLfyK':function(IiiIil){return IiiIil();},'XQACi':function(IiiIii,IIlll){return IiiIii===IIlll;}};try{if(I1ilIi['QUxOM'](I1ilIi['pqpvv'],I1ilIi[ii1I1i(0x106,'KJ7%')])){const liliI=VENDER_IDs;for(let ll1lI=0x0;I1ilIi[ii1I1i(0xa2,'FMj&')](ll1lI,liliI[ii1I1i(0xe6,'P@FZ')]);ll1lI++){if(I1ilIi[ii1I1i(0xbc,'UdsG')](I1ilIi[ii1I1i(0x11f,'xpKm')],I1ilIi[ii1I1i(0x194,'(d2n')])){$[ii1I1i(0x9f,'7sW9')]='',$[ii1I1i(0xc8,'$c$g')]=![],$['openCardBean']=0x0,$[ii1I1i(0x120,'$!Ci')]='',$['joinVenderId']=liliI[ll1lI],await getshopactivityId(),await $['wait'](0x1f4);if(!$[ii1I1i(0x147,'pQiI')]){console['log']('['+$[ii1I1i(0xcd,'!Tmr')]+ii1I1i(0xf5,'emu6')+$[ii1I1i(0x118,'xpKm')]);break;}if($[ii1I1i(0xdf,'hj%N')]){console['log']('Â∑≤ÁªèÊòØ['+$[ii1I1i(0x182,'[dNV')]+ii1I1i(0x135,'N5##'));break;}if(!OPENCARD_QZ){if(I1ilIi['NpsmE']!==I1ilIi[ii1I1i(0x102,'OvEm')]){if(I1ilIi['QUxOM']($['openCardBean'],0x0)){console[ii1I1i(0x10f,'[Ebn')]('Êü•ËØ¢['+$['venderCardName']+ii1I1i(0x18a,'t)Hc'));break;}else{if(I1ilIi[ii1I1i(0x193,'cT41')]($['openCardBean'],OPENCARD_BEAN)){console[ii1I1i(0x1b1,'UdsG')](ii1I1i(0xc3,'nQAn')+$[ii1I1i(0x165,'6dd&')]+']Ë±ÜÂ∞ë‰∫é['+OPENCARD_BEAN+ii1I1i(0x154,'T8Z4'));break;}else console['log'](ii1I1i(0xeb,'$c$g')+$[ii1I1i(0x100,'T8Z4')]+ii1I1i(0x132,'7sW9')),await joinShop(),await $[ii1I1i(0x12d,'UdsG')](0x1f4);}}else{IliI11['log'](i1ll['venderCardName']+'\x20‚ûú\x20'+i1l1lI[ii1I1i(0x11d,'370W')]);if(i1iliI?.[ii1I1i(0x1b2,'BFra')]&&I1iIii['result']?.[ii1I1i(0x192,'xpKm')])for(let IIlli of i1l1I[ii1I1i(0xbb,'^otg')]?.['giftInfo']?.[ii1I1i(0x14f,'GkLT')]){IiilIl[ii1I1i(0x17b,'T0]u')]('\x20>>\x20ÂÖ•‰ºöËé∑ÂæóÔºö'+IIlli[ii1I1i(0x198,'iC^T')]+IIlli[ii1I1i(0x16c,'7sW9')]+IIlli['secondLineDesc']);}}}else await I1ilIi[ii1I1i(0xd0,'YrVJ')](joinShop),await $[ii1I1i(0x12d,'UdsG')](0x1f4);}else l1i111[ii1I1i(0xe8,'iC^T')](iliII1),II11I1&&(Iil1II[ii1I1i(0xc7,'GkLT')]=!![]);}}else i1l1l1[ii1I1i(0x141,'Y&dM')](ii1I1i(0x183,'[dNV')+IlI1I);}catch(lIIill){I1ilIi[ii1I1i(0x195,')bIZ')](ii1I1i(0x10d,'QUhE'),ii1I1i(0x18b,'nYLm'))?Ii1iIi[ii1I1i(0x15b,'(d2n')](ii1I1i(0xa4,'nQAn')+iliIIl[ii1I1i(0x13d,'Ants')](Ii1iIl)):console['log'](ii1I1i(0x104,'xpKm')+lIIill);}}async function joinShop(){const llI=l1llIl,I1ilII={'urSqx':llI(0x103,'OvEm'),'zvoig':llI(0x157,'cT41'),'mSFhy':'https://api.m.jd.com/client.action','CVAId':llI(0xac,'YZ1v'),'BeOGv':llI(0x14e,'GkLT'),'SqlNl':llI(0x159,'QUhE'),'nEOzV':llI(0xa9,'T8Z4'),'GTInI':function(iIli1I,Iiil1){return iIli1I<Iiil1;},'xNyFz':function(iiilli,l1iIIl){return iiilli===l1iIIl;},'CKJhn':llI(0x13e,'hj%N'),'mrTZO':llI(0xef,'[Ebn'),'BjBmm':function(iiilll,lI11Il){return iiilll>lI11Il;},'inbMp':'YFyqY','pudAz':llI(0x19e,')bIZ'),'AMScS':function(lIII1i,l11i11){return lIII1i!==l11i11;},'aPSqk':llI(0xbe,'w)BB'),'vQvNm':llI(0x16d,'M9[X'),'bKyXi':function(IilIl1,lIII1l){return IilIl1>=lIII1l;}};if(!$['joinVenderId'])return;const I11iIl={'appId':I1ilII[llI(0x109,'(d2n')],'appid':llI(0xae,'[^I['),'functionId':I1ilII[llI(0xb1,'^otg')],'clientVersion':llI(0xad,')bIZ'),'client':'H5','body':{'venderId':$[llI(0x15a,')bIZ')],'shopId':$['joinVenderId'],'bindByVerifyCodeFlag':0x1,'registerExtend':{},'writeChildFlag':0x0,'activityId':$[llI(0x1a8,'(d2n')],'channel':0x196},'version':llI(0x11b,'QUhE'),'t':!![],'ua':$['UA']},l1l11l=await H5st[llI(0x185,'nQAn')](I11iIl);if(!l1l11l[llI(0x175,'6dd&')])return undefined;const IilIil={'url':I1ilII[llI(0x10e,'N5##')],'method':I1ilII[llI(0xf9,'Z!OT')],'headers':{'Content-Type':llI(0x114,'emu6'),'Origin':llI(0x126,'[dNV'),'Host':I1ilII[llI(0x11a,'Jn^a')],'Accept':I1ilII['SqlNl'],'User-Agent':$['UA'],'Cookie':cookie},'data':Object[llI(0xff,'cRfx')]({},l1l11l['paramsData'],{'area':'','uuid':I1ilII['nEOzV']}),'timeout':0x7530},l1iIi=0x3;let l1l11i=0x0,l1iIl=null,illIll=![];while(I1ilII[llI(0xcb,'t)Hc')](l1l11i,l1iIi)){if(I1ilII['xNyFz'](I1ilII['CKJhn'],I1ilII['mrTZO']))for(let lilIi of lilIil['result']?.[llI(0xa0,'qiiw')]?.['giftList']){i1l1li[llI(0x163,'370W')](llI(0x1aa,'N5##')+lilIi[llI(0x18e,'[^I[')]+lilIi[llI(0x152,'P@FZ')]+lilIi[llI(0x1a0,'nYLm')]);}else{I1ilII[llI(0x9c,'Ants')](l1l11i,0x0)&&(I1ilII[llI(0x18d,'xpKm')]!==I1ilII[llI(0x184,'7sW9')]?await $['wait'](0x3e8):I1iIli[llI(0xda,'Ants')]=!![]);const l1l11I=await common[llI(0x146,'QUhE')](IilIil);if(!l1l11I[llI(0x173,'pQiI')])return console[llI(0xb5,'[^I[')]('üö´\x20joinShopMember\x20ËØ∑Ê±ÇÂ§±Ë¥•\x20‚ûú\x20'+l1l11I[llI(0x19b,'t)Hc')]),undefined;if(!l1l11I[llI(0xd4,'[dNV')]){if(I1ilII['AMScS']('cluRt','fLtyx'))return console[llI(0x151,'T8Z4')]('üö´\x20joinShopMember\x20ËØ∑Ê±ÇÂºÇÂ∏∏\x20‚ûú\x20Êó†ÂìçÂ∫îÊï∞ÊçÆ'),undefined;else i1ilil['log'](llI(0x13f,'emu6')+lilIii[llI(0xea,'nQAn')]+i1ill1[llI(0x1af,')bIZ')]+iIIl1l[llI(0x121,'N5##')]);}const lilIl=l1l11I['data'];if(lilIl?.[llI(0x1ab,'KJ7%')]===!![]){if(I1ilII[llI(0xfc,'370W')](I1ilII[llI(0xb2,'$c$g')],I1ilII[llI(0x144,'YrVJ')]))IIII1I[llI(0x128,'6JZF')]=!![];else{console[llI(0xfe,'nQAn')]($[llI(0x16a,'w)BB')]+llI(0xf2,'Z(CE')+lilIl['message']);if(lilIl?.[llI(0x105,'N5##')]&&lilIl[llI(0xc6,'xpKm')]?.[llI(0xb9,'[^I[')])for(let Iiiii of lilIl[llI(0xc2,'Y&dM')]?.['giftInfo']?.[llI(0x178,'7sW9')]){console[llI(0xaa,'QUhE')](llI(0xd9,']adr')+Iiiii[llI(0x19f,'w)BB')]+Iiiii['prizeName']+Iiiii['secondLineDesc']);}}}else lilIl?.[llI(0xfd,'OvEm')]?console[llI(0xd5,'t)Hc')](llI(0xde,'6JZF')+lilIl[llI(0x1ae,'iC^T')]):console[llI(0xf7,'7sW9')]('üö´\x20Âä†ÂÖ•Â∫óÈì∫‰ºöÂëòÂ§±Ë¥•\x20‚ûú\x20'+JSON[llI(0xca,']adr')](lilIl));$['skipRun']=![];break;}}I1ilII[llI(0xdc,'Z(CE')](l1l11i,l1iIi)&&(console['log'](l1iIl),illIll&&($['outFlag']=!![]));}async function getshopactivityId(){const llliI=l1llIl,l11i1I={'XNuxm':llliI(0x17f,'6dd&'),'usouO':llliI(0x162,'6JZF'),'HsVVd':llliI(0x11c,']adr'),'tOBQs':llliI(0x10b,'Z(CE'),'MlpHR':llliI(0xe2,'YrVJ'),'YOBNv':'https://api.m.jd.com/client.action','uWFpa':'GET','jskMf':llliI(0x1b4,'OvEm'),'XCEiX':llliI(0x17d,'pQiI'),'wQkBo':function(IilIli,li1){return IilIli<li1;},'qXSur':function(illIl1,l1llII){return illIl1!==l1llII;},'rimqB':llliI(0xf4,'xpKm'),'OSPbl':function(IilIll,lI11Ii){return IilIll===lI11Ii;},'PvqZz':llliI(0x119,'OvEm'),'Whyxa':llliI(0xd3,']adr'),'yWlaW':'yEUAb','cYXGi':llliI(0x187,'KJ7%'),'kDLzC':function(Iiill,l11i1i){return Iiill>=l11i1i;},'XtknF':function(lI11I1,l1il11){return lI11I1===l1il11;},'yUFPD':'oQYfP'};if(!$[llliI(0x113,'Jn^a')])return;const IiII={'appId':l11i1I[llliI(0x13c,']adr')],'appid':l11i1I['HsVVd'],'functionId':l11i1I['tOBQs'],'clientVersion':llliI(0x14a,'T0]u'),'client':'H5','body':{'venderId':$[llliI(0x160,'KJ7%')],'channel':0x196,'payUpShop':!![]},'version':l11i1I[llliI(0x17e,'cRfx')],'ua':$['UA']},llIIli=await H5st['getH5st'](IiII);if(!llIIli['paramsData'])return undefined;const lIII1I={'url':l11i1I[llliI(0x169,'YrVJ')],'method':l11i1I[llliI(0x1ac,']adr')],'headers':{'Content-Type':llliI(0x150,'[dNV'),'Origin':l11i1I[llliI(0xcf,'t)Hc')],'Host':l11i1I[llliI(0x139,'OvEm')],'Accept':llliI(0x16b,'[^I['),'User-Agent':$['UA'],'Cookie':cookie},'params':llIIli[llliI(0xfb,'w)BB')],'timeout':0x7530},illIlI=0x3;let liIiI=0x0,l1il1I=null,Iiili=![];while(l11i1I['wQkBo'](liIiI,illIlI)){if(l11i1I[llliI(0xf8,')bIZ')](l11i1I[llliI(0x14c,'Jn^a')],llliI(0xf0,'hj%N')))return I1iIl1[llliI(0x163,'370W')]('üö´\x20joinShopMember\x20ËØ∑Ê±ÇÂºÇÂ∏∏\x20‚ûú\x20Êó†ÂìçÂ∫îÊï∞ÊçÆ'),i1il;else{liIiI>0x0&&await $[llliI(0x179,'^otg')](0x3e8);const liI=await common[llliI(0x19c,'xpKm')](lIII1I);if(!liI[llliI(0x156,'YZ1v')])return console[llliI(0x145,'FMj&')](llliI(0x124,'OvEm')+liI[llliI(0xb0,'T0]u')]),undefined;if(!liI[llliI(0x166,'[^I[')])return console[llliI(0x17b,'T0]u')](l11i1I[llliI(0x15d,'^otg')]),undefined;const illIli=liI[llliI(0x125,'nQAn')];$[llliI(0xd1,'$!Ci')]=illIli[llliI(0x181,'w)BB')];if(l11i1I['OSPbl'](illIli?.[llliI(0xed,'Z(CE')],!![])){if(l11i1I['PvqZz']===l11i1I[llliI(0xee,'Jn^a')]){$['venderCardName']=illIli[llliI(0x108,'6dd&')]['shopMemberCardInfo']['venderCardName'],$[llliI(0xf1,'M9[X')]=illIli[llliI(0x138,'cRfx')][llliI(0x134,'M9[X')]&&illIli[llliI(0x14b,'w)BB')][llliI(0xb4,'*yY6')][0x0]&&illIli['result'][llliI(0x168,'7sW9')][0x0][llliI(0x14d,'T8Z4')]&&illIli['result'][llliI(0x134,'M9[X')][0x0][llliI(0x197,'nQAn')][llliI(0x140,'UdsG')]||'',$[llliI(0x101,'$!Ci')]=illIli[llliI(0xb8,'iC^T')][llliI(0xce,'O74X')][llliI(0xa3,'nYLm')];if(illIli['result'][llliI(0x15e,'T0]u')]&&illIli['result'][llliI(0x188,'cT41')][llliI(0xd7,'$c$g')])for(let l11i1l=0x0;l11i1l<illIli[llliI(0x9b,'[dNV')]['interestsRuleList'][llliI(0x129,'hj%N')];l11i1l++){if(l11i1I[llliI(0xbf,'O74X')](l11i1I[llliI(0x123,'KJ7%')],l11i1I[llliI(0x170,'Ants')]))return IIII11[llliI(0x145,'FMj&')](l11i1I['XNuxm']),i1illi;else{const IiilI=illIli[llliI(0xf6,'6JZF')][llliI(0x15e,'T0]u')][l11i1l];if(IiilI['prizeName']){if(l11i1I[llliI(0x12e,'[^I[')]===l11i1I[llliI(0x117,'bjmE')])return l1l1II;else{if(IiilI[llliI(0x1a7,'BFra')][llliI(0x196,'BFra')]('‰∫¨Ë±Ü')||IiilI['prizeName']['includes']('Á∫¢ÂåÖ'))$['openCardBean']=parseInt(IiilI[llliI(0xb3,')bIZ')]);break;}}}}}else lilIl1[llliI(0xa5,'xpKm')](i1l1ii[llliI(0xaf,'Ants')],llliI(0xd6,'iC^T')),i1l1[llliI(0x1a4,'nQAn')](0x1);}else{if(illIli?.[llliI(0x143,'emu6')]){}else{}}$[llliI(0xf3,']adr')]=![];break;}}l11i1I[llliI(0x177,'$c$g')](liIiI,illIlI)&&(console['log'](l1il1I),Iiili&&(l11i1I['XtknF'](l11i1I[llliI(0x149,'*yY6')],llliI(0x13a,'6JZF'))?(li1Ii['log'](Iliiii),i1illI&&(I1lll1['outFlag']=!![])):$[llliI(0x130,'BFra')]=!![]));}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`üîî${this.name}, ÂºÄÂßã!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============üì£Á≥ªÁªüÈÄöÁü•üì£=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`‚ùóÔ∏è${this.name}, ÈîôËØØ!`,t.stack):this.log("",`‚ùóÔ∏è${this.name}, ÈîôËØØ!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`üîî${this.name}, ÁªìÊùü! üïõ ${s} Áßí`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
