/*
活动名称：签到有礼 · 京耕
活动链接：https://jinggeng-isv.isvjcloud.com/ql/front/showSign?id=<活动id>&user_id=<店铺id>
环境变量：jd_jinggeng_sign_url // 活动链接
         jd_jinggeng_sign_opencard // 是否入会（true/false），默认不入会
         jd_jinggeng_sign_Notify // 是否通知（true/false），默认不通知


cron:1 1 1 1 *
============Quantumultx===============
[task_local]
#签到有礼 · 京耕
1 1 1 1 * jd_jinggeng_sign.js, tag=签到有礼 · 京耕, enabled=true

*/

const $ = new Env('签到有礼（京耕）')
var iｉl='jsjiami.com.v7';const II11ll=iii1II;(function(Iiilii,Iil1li,Iiilil,Iil1ll,iillI,lI1III,IIliIi){return Iiilii=Iiilii>>0x7,lI1III='hs',IIliIi='hs',function(IllIiI,i1il1,I1l111,IIii1l,I1iIII){const IIliIl=iii1II;IIii1l='tfi',lI1III=IIii1l+lI1III,I1iIII='up',IIliIi+=I1iIII,lI1III=I1l111(lI1III),IIliIi=I1l111(IIliIi),I1l111=0x0;const liiI11=IllIiI();while(!![]&&--Iil1ll+i1il1){try{IIii1l=-parseInt(IIliIl(0x33b,'$XXu'))/0x1*(-parseInt(IIliIl(0x207,'hLBg'))/0x2)+-parseInt(IIliIl(0x361,'VmKD'))/0x3*(-parseInt(IIliIl(0x25c,'eiEG'))/0x4)+parseInt(IIliIl(0x1be,'@ZC7'))/0x5+-parseInt(IIliIl(0x340,'Bvhn'))/0x6*(parseInt(IIliIl(0x31c,'zbN0'))/0x7)+parseInt(IIliIl(0x30c,']XQ2'))/0x8+-parseInt(IIliIl(0x31e,'bmK4'))/0x9+-parseInt(IIliIl(0x1fa,'V5je'))/0xa;}catch(ililI1){IIii1l=I1l111;}finally{I1iIII=liiI11[lI1III]();if(Iiilii<=Iil1ll)I1l111?iillI?IIii1l=I1iIII:iillI=I1iIII:I1l111=I1iIII;else{if(I1l111==iillI['replace'](/[PykUfwbDKuTSYRLhWqrxpl=]/g,'')){if(IIii1l===i1il1){liiI11['un'+lI1III](I1iIII);break;}liiI11[IIliIi](I1iIII);}}}}}(Iiilil,Iil1li,function(IIii1i,i1ili,Iiill1,I1iII1,lilII1,iill1,iii1l1){return i1ili='\x73\x70\x6c\x69\x74',IIii1i=arguments[0x0],IIii1i=IIii1i[i1ili](''),Iiill1=`\x72\x65\x76\x65\x72\x73\x65`,IIii1i=IIii1i[Iiill1]('\x76'),I1iII1=`\x6a\x6f\x69\x6e`,(0x152c96,IIii1i[I1iII1](''));});}(0x6500,0x4e707,Iii11l,0xcc),Iii11l)&&(iｉl=0xcc);const il1i1l=require(II11ll(0x2b5,'ygve')),IlIlll=require(II11ll(0x263,'37Ko')),IIIl1I=require('./utils/Rebels_sendJDNotify'),iil1ii=require(II11ll(0x1f3,'MJ1t')),{jinggeng_savePrize:IlIlli}=require(II11ll(0x20b,'$XXu'));console[II11ll(0x1d8,'ygve')](''),console[II11ll(0x352,'Dxrz')](II11ll(0x37a,'$XXu')+$[II11ll(0x1c8,'S1)m')]+II11ll(0x326,'zbN0')),console['log'](II11ll(0x232,'!ZN9')),console[II11ll(0x334,'SsG7')](II11ll(0x2a0,'S1)m')),console[II11ll(0x259,']wwS')]('jd_jinggeng_sign_Notify\x20//\x20是否通知（true/false），默认不通知'),console[II11ll(0x39b,'1bYV')](II11ll(0x2d6,'p7PA')+$[II11ll(0x270,'1bYV')]+'提示结束=========='),console['log']('');const il1i1i=process[II11ll(0x353,'cBk[')]['jd_jinggeng_sign_url']||'',lil111=process[II11ll(0x2bf,'u(5s')]['jd_jinggeng_sign_opencard']==='true',i11ilI=process[II11ll(0x295,'NC]D')]['jd_jinggeng_sign_Notify']===II11ll(0x350,'NC]D');function Iii11l(){const iIIii1=(function(){return[...[iｉl,'TkPjqsxLjWiDRalWYmihuU.fcoSwml.bv7kfKrpy==','5RsM5yUV5lIF6zIG5BM46zoI5l+95zcl5y+G5lUx','BgVdLqy3','dg1QvXRdVCoYWOe0FSoSgSkSW7u','WPpdNCoY','W5iUW4i','c8oKW5v/WPtcOw/dR8kjWOGFW5hdGa','iUE5M+AELE+/Q+s4KEAUMoAvJEEdGoACSowsJeu','W45aW7FdQ8ohzCo3WOFdRs0ZW63dKgC','8lwhTo+6Jmko5l6Z5OoG5yQI','uCk/imkjzW','cSkLWQX9WOhdOs7dO8o6WPr0sa','zxmvWPhcV3HBz8kOWPVcNhy+h8o9rCk0W4mbWRHiWPnrybr5k8otnhJdJXBcRHBcUSk3WQNdVCoJjmoLW57dKCksWRCTW4fs','e8k9p8oJuCkRxw0PWOFdO8ktW7lcNmoK','jgpcLvNdJttcQW','d3pdMr3dSCkG','xaBcMWtdUepcVG','W47dHu4RlW','WPlcJfGDc8oDrW','WP3cN8oDCG','txRcKqvP','W7PwW63cR1G','eCkLmmoLxmklswuF','WQH3WRO','h3/dGZZdSSkYWRNcTSoIdL8jW50W','tYrmy1LAW6i','B8oPWR7cHhi','8loXVCof56QH5Rcb','WQZcQSoDqSoe','rmkCWOZdOmoqWPtcPIBdKa3cHWG','WR7cK8oABLRcOa','WRj9WRpcPt4Wue/cMq','h8koxG','C8kgWQhdU8oz','8jUKSo+5IXW','yCoZW4GpWQldTCo9ySkXoW','WQlcPSoCva','z+wVKEEjJe4','oNxcQcH8CCoHWQC','p8kVWOTEWPBdRG','t8k5gmk5BW','tmkUWRxdUCo/','W5r8pKrGjSk3W4RcKmo2W55PW5ZcP8kcW4mDW53cLCoiWQ3dRsu','y8k8WPNdL8oZ','WRS1zdlcGSoaWRS','W41dW6JdUSoQ','WPRcNfGjaSopudL7b1ZcO8kUWRuGdmoi','W6JNUjRMN6RVVlBKUQZMR7dML77NGRxMNi3LKBfk','W6n2W4FdOCoM','W5DSW4z+W5P7WP/dOCkLWPrNWQZdJhHqWPXf','WPfgWRxdUe3cVK07EG','W6VdR0DYuq','WRZdGc0khxddSa','CdtcVq','WRjoW6TbW7HAW6m','s8kkWOddTW','WOumvZlcIq','WPBcMvVcJCkdW5n2','uLJdPCkABq','qwFdVmk4WPBdMCkGW44','6l+N57I156Yk5yU8','WONcKCovFK8','WR3dPqmpsrLndmoiW6m','xMZdOCk5WOhdNW','WPlcK0hcUSkjW5jPWP7cH1D9f0mG','ESkpkLNcKmkcWOaomG','WPlcG8oE','eEE5QUADNoAwLoMwJ++9QG','WOHRW4zIW5e','8jgbSftNQRBMSj4','W6ZdQ0Xmx8kGDcC','WP5YWPVdQvG','WPVcMSouw3K','WRtcIIzZt8k+iow8PEwNNUocOUs4Nos7OEI2OowmSW','6iYE5y+ZWQpdUSoeA8o/WOZcO+wLQoI1Lo++Lq','WRdcIw0hhq','5REo5yME5ywq5yYA77+8','v1j5W57cJ+s/GUwqImkG','8lcVImkf5Okd5zEJ6i2P5B615A2y54QWWRq','W5FdJMi8f8oCxMHz','h1jVBbm','W7JcKCk6WPXABmkpWOK','gSkpsIVcQmoQ','WQ9UWO3cIJa','va3cJcpdSeNcVG','vGz+','bJdcOCoOW4BcNCoEWPiXbW','WRJdMsGSee7dSfDKvN/cSG','EY7cOG','DZddLqJcRxddSaZdRMW','WOZcM8oqE3JcOCo8','5Bwm5AcQ5z6v5z6U','i2ZcKa','xSk9amkjzHCyWOpdMxhdHmoPW6tcMG','Cc/cKH/cQa','WR7dIZ0BghJdUfXUBeJcPSoehq','WP/cNL8Unq','uJXNWQ/dGmkUjG','xtzxWPtdGSkMlq','bmkVWRf6WONdQd4','xvVdTSkkWRS','W6PuW7VcS2y','W7FdUqS','WPjUW6T7W51HW5FdTCkLWO5nWPRdH19EWPfXx3xdVfBdGGmkACkWDYfP5PUA5zgG5yAV5l6f77+NvXRcS0TNBM7cKCoFFo+9NU+/KUM4VUIVMos4JEwhO+s+Vq','WPbLW4DLW5PUW53dTW','WQX3WRdcPa','kCovW5nBWQS','W47cOCkLW4VdPMu','tW3cKttdTfZcKGC','WOFORlJMSPtLPP/OTReX4P63fG','w23dTq','vwpdOCk5WQBdMCkf','vqFcMa','zmoNWQBcI3xdJSo3etRdMW','yg1sW47cRSkQ','zwXwW6FcQCk8nCko','WO99WRZcSJa','W4vkW6q','AMxcTsLRsSomW74','bw1TtsddU8oOWPqQCSoMfSknW6BdOq','ESkpn1NcKmk+','W5LeW7hdNCoo','WOKYpvvAi8kJWOVcI8o9','WPVcKfq','W6BdPSoFxSoKWR54zWeZ','dN/dMr3dU8kLWP3cTW','kSkPaq','W4RcQSkLW53dTxzo','W4rwW6q','taBcJdxdPw3cTaZcQCoGWPG','F8oogmkWWP1NWPNdP1pdKCoXWO8kWQu','mCkrwGtcUq','WPTEWPddPwO','bmk1catdNwFcG8kBtstdPCkY','zv3dTG','xIfqWPldJSkT','5REZ5yMH5lMW6zMQ5BIW6zcR5lYn5zgu5y6Q5lMy','hmk9nG','W5/cPSkc','n8knpSkKW7uCW60','WOlcL1ZcJq','WPCYo2ni','W5ZdMGv1W67cQCkXlG','WRVcN8opFCo2','ig3cILddTZhcLfZcUcW','WPLPW4r7W7y','W7RdSuf8xmkH','WPFdNCo4za','WQFcJh0Xeq','W6RcU8kKWOXI','n8k2WPLjWOddLmo7qSkG','W5n2W4ddRmoM','W5pcOSkeWQLXBCkQWRDD','tGhcKttdVLK','ASoNWRNcK3tdMmojha','d3RcQNBdGG','BwfbW6lcQSkXjmkeW4ZcOrm','A8ogD8odymkAsCk/W7Kk','5Rs/5yQR5BAx57IU5P6j77Yx57UP5P2m5Ps36zsa77+O','W5JcSCkXWRr+rSkL','sCk5amkKzbmyWOm','562j5yIY5P6B56EG','nwRcIuZdHZlcRKdcUZK','n8kmk8kmoCo0eCoSWQb5Fte','B2JcTd1awCoOW78','DSoszSoSWPnDWRFcVSkyW7XZW7XU','DSokza','W5pMT5ZLIQhLTPdKU6Tc','scpcIdJdIq','AxpcVJ9ruCoH','W7pdUr8ovrTfva','pEE7KEAFJEAuQUMuH+++Sq','W4VdL35Qrq','hSo5W58','CUE7IEAFQoAwJ+MvQU+/Jq','tXbVW7f5','W5dcPSk4W4RdU2y'],...(function(){return[...['WP3cK1tcNCkdW49X','a8kYWP1jWQRdU8o3sG','WRlcTuybma','q8kcWPu','DCooh8kgWPbLWPe','awD3BdVdUConWPalESoShCk9W6ldQG','cmkPWRzhWONdOJ4','WQRcGMCgkW3cTbldSv4','zCkakeNcHW','lSk0cbxdIKhcO8o7vq','tmkfWP7dT8ogWRm','WQ3cMmo7rMK','W5GOW50','vKJdLZ4z','pEA0UEwiUUw0RUs5VCkl','WRxdTSokqbpdL8kuW4iZ','W4BcUmk3W5ZdSejowmoJWRTJna','Cmoeh8kbWP9JWPNdPW','W7jpW7FcKG','amk5CH3cLa','ygywWP7cPhjkz8kOWPVcNa','wInkFhK','nmkKBq','a8k3jCoAuCk9zMezWOu','dSkVWQXBWONdOt/dQCoeWQ5NveLgW5W','W6NdOWi/vr4','WQbZWOtdJg8','W6dcNh5VrcVcPvbrwNlcRmoC','WQfLW7DJW6y','D0/dJG','8k6uT++5Mmo05l6/5Okj5yQ7','omk9kmo6CW','oSkUWP8','rsDTWR7dH8kN','dCoGrSo0oKfhWOZdLeddQSohW5K','W5hcUSklWQ98tCk+WR9REctdNsWhhW','WO3cLConEvm','WR0UyXhcNmov','b2VcQ3FdGG','B3ZdSbKo','W7mWW6JcLYu','DSktnLpcKa','yMRdOdmpW6CRWRlcPqlcSCopoHG','n8koomkKW6KiW67cJG','rmoQy8kVcmo2gMizWQVdQmkQW4i','WPRcNfGEc8ozttn7ahVcMCkiWR4','WPfsWQddO1/cMvGVvSk6','cM1K','z2DqW7VdSCk5pmkuW6/cTG','5AAd5B+o5lIf','W4KeW63dO07cVKyswq','gSkHWQT5WRRdUJu','W43dHmkimX7dOmkMW7zUW7nxWOya','hmkjlCkCW60','WOJcKCoqFW','W7lKVl3MGApLIPBdTG','s8kTgSkjzby','WPW6mW','D1RdPtCX','WRxdIYC5ahu','5yYO6yE+6kYG5PQefmonewSIW6mbbwJcKG','W7xNUkpMN6BML73PL57VV44','WOFXJl2j77QH','DCoHWQtcG3xdJG','W47cMmkUW6/dVa','fgDYtcZdPSoP','W6hdQLXCqmkX','W4JdGwaSaa','WQRdHIyUoNZdUfW','rtnTWP/dHSkU','WP55WRxdNMa','sYRcLHNcGG','DCkPWR3dLmoY','nSkrerJdOa','W7bbW70','WO3dQX80bG','xUEiVUwNK+IiJd4','nSkdi8kMW54','aSk5WOvzWPO','5RwT5yMP5Bsk57UO5P67','vbVcMa','WPhdV8oGWP3cOsHsuColWRXJka','F2DbW4BcTCkGhSkuW7RcUa','b8kDWRjaWPW','a8kuWRjuWP4','WO16W5bWW4bQW7pdVCkUWPrpWQVdGa','cfWUWOeIW5yCW5JcRSkmW7W','W4/dKq9fW6lcTSkD','5P625lId5AEm','W41kW6ddM8ogzCo0WPy','iwFcIgNdRs/cOW','W6tdQ0G','l2ZcGLNdOa','g8k/WQXmWOBdQW','8jIxKE+7Lg3KVjBMG5JLIR0','W5FdK18WaSo6','5Rs35yQQ5lUW6zUB5BMl6zcI5l2k5zkL5y2B5lUD5zkzua','8ycbKqZNQkhMSBm','hCkLWQLSWOy','iSkZWQPfWQi','WPzyWQW','egnVtcW','mNdcK1K','8j6AQeu','bCkLWQu','WReUzG','kmkjma','hSkRWQT9','W7/cTmkZWRbA','i8kdi8krW4SmW67cJSkeW6X3W6nwBq','WQ3cLwap','p8kSmSk/nq','W4bMW7tdV8oI','W5/ORyxMS5FLK4ZLU47cPG','W53dNGjL','rCord33dR8kNW7FdRsFcICocWP0','W5NcOCkaWRrS','lCkkfcldSq','hmo/W4rEWRtcIwJdOW','WOVcKtu9cSogwf1g','CmoCEHe','WP1KW5bfW51IW5u','AuqeWPJcSW','5REb5yU75BA557UJ5P2w772g5lUp5Q+e5PsR54cQ5P+z5zcRW44','6i635y+LW5VdR8oajhGEW77LPOFOTly','W5OUW4BcMXlcU0ZcSG','WPldK8oHyJi','WRJcHh0Sba/cPq','hmo1W5riWQVcHxBdO8kUWO4s','WPpcN00','WOxcGvqJh8oewc5TdehcMmk5WQiZhCovh8k9WO4Ir8oLW7DTWQhdHK9+W714WOZcIY1VW5JdISo4WP5S','wJDWWOJdImkKjG','zwarWRhcUxXZDW','vSoqttSx','WPdcMfhcRCkpW5bN','B2ddVrG','WR7cRmoBxSocWQnEAa','yUs5ToIWSSkr','f8kykCkBlCot','WONdK8o5Dd8','bGTRWOS','cmkPWRzGWP7dPI/dV8o8WO9/','EIlcRJxcG33cIJzmWQ3cM1WXW7y4W63cQmoJW5XKc8kN','qhDTzIJdP8o4WPbe','WPRdSSoRWPpcQsWwc8k6W4G','WPRcG0hcV8kkW5XL','FuNdKq','DSkmWORdG8oX','4PIEyEITKUwIHEwhPUAJOUw8REAUPEEIT+EzJUMqSUAmSW','772A5Bsj5OMA5yMH6iA35yIp55Ip6kYY5PEY6lsq5zY45zYCW6ak','44gG5lM+5lMn6lAX5y+p','FddcUWlcI1BcHJ5h','gCoNW4zzWR3cOMFdUSkI','o8k9W7pcJN3dT8ooprm','W5/cSmkwWQH0rmkU','8ko9QbK','utTVWO/dJmkX','pSoEh8kqWOnDWP3dPGa','eN7dOXBdTCkYWRO','WQdMTOtLI4pOP5xLIPlVV4hdSG','tbXZW499','8jk+I8kYWPNLJPlVVRe','W57MTBVLIRJLTOBKUAdcGq','FIJcTatcINBcKW','8jMLQo+4JelKVApMGPdLIy4','yg1s','vXP+','8y6oKE+7KSoH57U55y2h77Yv','c3hdNGNdJmkIWRO','8jgDKvtcIEwnQ++9Qa','8j+oUSkG','vrXTW7n4W7WH','W5nnWQ7dRCoLlmoGWORcUcHmWQtcTZRcLfpdVGNcH8oTnW/cKZVdS8oUW6hcRwnjWOupmmk8WQrLyqitrNPbWPGqwmkMWOS','W5ldJ2S','vCk3eW','WPncW71uW5C','AfddHCk5qW','sCkeWOO'],...(function(){return['W58IW5hcOb7cS0C','WPlXIOot','FCk8omkJyq','W5WGiLq0','W5PnW6ZdNSo0DmoZWPBdRZW','WPXhWPFdHhW','FZNcKXBdVW','vMhdPSkzWP3dJ8k9W4nLuG','fmo/W4a','oSkulq','WROPCX/cOmoaWRhcUW','rhFdSCk/','WRVcOCoAsSoPWRb6Aq','dwNdKGVdL8kZW6K','ECoCdCkhWPvmWPxdR1G','WRxcIg4','4PYkiUIhVoACKoI9IoIGIUMcGowiHos5KEMvHEITSmo9','fhxdKa','jCktjCkoe8oggCoN','yghdScikW68J','8kgsSSkx56Id5Rkk','W57cUSkc','hmkJp8o9sa','WPbTW6buW5K','4PUyWRdORzdLOydLHydMO5dLViNMR7tNOQNNMAxLJQtPHBu','W63dQKTTw8kOFW','W5RcUSkiWR4','wWPTW5XIW7qYW5pcOmkf','mgFcIfJdVttcJLa','WORcKei/cmol','ESoADWSngqlcHMvs','WOvbWRddQ13cLw85CCkQwvyH','AwddSW','EmowBryshGpcMN9FW6yW','W4DeW67dIW','zhzbW7VcR8oIF8os','8yceQo+4O3VKVB/MGzZLIjG','BsNcNHJdGG','W6nYiedcQmooWRVcK8ozmG','WPVcN8oAFKFcSCo8W5C','wJhcJH/dGa','l+AjLUs7GowSJoElNCoN','uwddNmkZWQi','WQBcOmowuCoPWRb6Aq','DfBdUmopWOaNAr3dJ8kACLtdV8kQW4lcNvWpW45rythcTXvhW4buWOf2WQldUJxdOXRcJSo0j8kLnuRcHmo7W6RcQ8kXW7T0W63cVmofxetdOSoWDbFdQCoulSoncmk+WPe','dpgfVAW','g8kmDW3cGG','WP4etZFcOCo0WOZcKCoJ','F0hdNCkX','CdZcMXxdMW','DIzXW7zr','WQRcGN0HcG3cQXldSG','DSoFzSoJWPbzWRpcJmkaW4XYW7rl','fCk8nCoduCkOtq','8koPIHK','gCoZW5nLWRJcGwm','W4raW7ddNCokz8o/','5BQe6zcB5zgj56Em77+4W6K','6i6Y5y+zWRqIdmoPi8k5W6VLPyFOT5BVVRC','W6ThW7tcK13dSG','WPpcN8oE','utTTWPRdHCkVoG','WPzRW5L0','WQlcNfFcLCkC','WOK4iKbBp8kQ','W7tdHWOltG','W5CVW5BcIW3cQG','W6hcPmkvWOfC','44ci5O2756ww44oK6kYg5ywk6i2d5y2uFSokW5ZcNsRcPa','W5lcN140cCoidZb6gfxcJ8k2WOKJcSoD','ASoogmkhWOG','e0ldLxRcUWtdKq','W7XwW6BdNmoLyCo3WOC','WPhcMvBcJmklW5HSWOm','FctcRHNcMxhcKYPRWR0','hmkUm8k5pG','5RAr5yIx5BAz57Uc5P+u77+x57IR5PYv5Psh6zA1772B','W4RcVmkX','WQtcPSos','jmkojmk7m8od','WOGMjxvNlG','WRtdIZOTfxRdSa','jmk7WO9WWRi','WO4KiuDd','smkoWP7dOCovWQdcPG','WQv7WQNcNJiMmG','khHmsr8','WPT4W5fWW4bQ','W5JdJ2a1cSoJwu16W4i','WOZcGMinfG','5RAf5yIi5BE+57Qk5PY6776y57Uz5P265PEJ6zwg776Q','vHL2WOpdUa','dmkeoSkwW4y','AgRdPWucW6uJ','WQdcVmocBSo+','kSkjia','rhBdOmk1WP3dJmkaW4XX','dUoaK+w7SUMqH+wtM+ENQ+oaQZa','WPC2oenOlCkH','cSkLWQX9WO3dOs8','WRVcVmowwq','pEw7HEMtUEMqHEAmJo+/MsVcJrBcRSoXW6f8CcWYW5OTW5xcRCkVW65Vy8oVw8kmDZFdNcpdKJ9DuSk1W6Dd','WR/cJNe','kmkVeJBdLgJcKa','W4dOSRtOSy7LJRJKUluN','WOCkW7BdMSocBmoPW43dKtWtW7hdTxddP2ldV0/cT8oq','D23dI8kfCG','56+m5yUL5P+S56EN','WOzuW6/cGConCSo1WOZdT3ycW7ZdTNtdQ1/dT0RdRCoxAem','W59bW7tcG1FdQZ1QEMBdMmoh','bSkZpCoIxq','W5/WS7kJ','ptfsW4ZdPI0kESkqWRBcIIOx','W5mKW5BcNr7cUuC','DmoecW','kCkdjmkNW4yoW6y','8j+oUSkGW6VdOXPo5l2Q5zo7','wb/cNIldTwdcUG7cPW','WPBdNmoXzci','WQ8GlKjhk8kPWOa','W5GOW4NcMHRcRa','u23dSCkPWP7dJSkhW54','v8kEWOpdL8oAWQm','8lIxV++6LCox5lYQ5OgL5yMX','v2ORWQtcNq','qSkXf8oJA8kUFW','mSkZWPLmWQxdRCo7xCkHedzB','WPNdM8o5Dt/dTa','joE7KoACUU+/SEs7NEASUUAxK+EcQUAEPowtK8km','WONdOmkJW5RdVx1ygCovWPb0pdtdQLlcU3OXmcZcNL3dL8kP','WQNcQSobu8orWRHJDt0Kwa','emkovYJcS8o5','W4tcSmklWR9WuCkcWR4','y8oIWRpcSgO','y8o/WQVcLx7dQSobfZhdPu7dOq','vtX2EMXb','wwtdT8kAWOO','W7NORjdMSyVLPzpOTybc4P2Cw+AvT+wtQUw4UoAvMUAoIa','tc9wW61Z','W7VdR0zjymkWDa','BSoNWQ0','W5JdIxq','A8oMWQNcI2/dNCobcG','WQNcQLOdjG','h8kevYNcRSo2','kCkvma','5Rwi5yMj5BEl57QD5P6f776s5lQf5Q6R5PAc54g55P+s5zolWQG','fwPSsqFdTmoWWPq','BxjfW6FcTCk7mCkjW7dcVbebsmkgW5FcVSkkxcTwDamoA8kGA3HRW7mHW7igWPS','ENJcRbvK','vd1TWO/dGmkTnSkCmCk3W6xcTq','uulcUtvx','eUocU+A1L+wjNEwFGEwDGUodPq','W4HsW6ldNmoptSo7WO/dPG','Bw8OWRlcMG','W4dcOmklWP57rW','WOdcS8oEvmoT','WOlKV7/MG6NLIzO4','WOTHW51HW6z6W54','WRNcMKZcMmkR','fx/dHaRdV8kWWRe','jpcFV7RVU7i','WPZcMLGYeCovvc9abLu','iSotDWJdL8o8W6n7rXKmoSkIwSkXic1sntBdISoZDqBdLCkMWRtcTX4TomotzxxcQ8k1','WONcLCoxB0/cPSoBW4C','W4W0W4NcIW','WP0uDdhcPa','WQNcQSobDmogWRXY','WPFcNxmXdSosrZfWgL7cV8kYWRmSc8oYeSk3WPP6emkYWQ/MTk7LIBhPKydMJPi','W4VcGCkrWRbz','Bw0wWPJcPg8','Bxa2WPtcSxu','WR3cIgOxcaFcRG8','sI5jzM4','F8koiW','W5VdJMGndmo5BW'];}())];}())];}());Iii11l=function(){return iIIii1;};return Iii11l();};let ii1ii1=IlIlll['genRandomString'](0x20,II11ll(0x22d,'$VPv')),llllI=IlIlll['genRandomString'](0x1,'1234567890')+'-'+IlIlll[II11ll(0x302,'Dxrz')](0x4,'1234567890')+'-'+IlIlll['genRandomString'](0x4,II11ll(0x292,'NC]D'))+'-'+IlIlll['genRandomString'](0x5,II11ll(0x28f,'Hhi)'));const lllil1={'JD_BEAN':II11ll(0x373,']XQ2'),'JD_POINT':'[积分]','JD_GOODS':II11ll(0x25e,')(6b'),'JD_COUPON':II11ll(0x321,'MJ1t'),'JD_J_COUPON':'[优惠券]','JD_D_COUPON':II11ll(0x227,'U5M('),'JD_AIQIYI':II11ll(0x336,'p$Tv'),'JD_PLUS':II11ll(0x286,'#7Ed'),'JD_E_CARD':'[E卡]','JD_REDBAG':'[红包]','-1':II11ll(0x1f2,'ZSNs')};function iii1II(_0xe0f88c,_0x1375d8){const _0x566b11=Iii11l();return iii1II=function(_0x4a5824,_0x26a740){_0x4a5824=_0x4a5824-0x1bb;let _0x276b53=_0x566b11[_0x4a5824];if(iii1II['MiFGwk']===undefined){var _0x3215d0=function(_0x1e63a6){const _0x1256e4='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x54bef3='',_0x27870c='';for(let _0x4db899=0x0,_0x3bcb22,_0x49b5d9,_0x35f8f2=0x0;_0x49b5d9=_0x1e63a6['charAt'](_0x35f8f2++);~_0x49b5d9&&(_0x3bcb22=_0x4db899%0x4?_0x3bcb22*0x40+_0x49b5d9:_0x49b5d9,_0x4db899++%0x4)?_0x54bef3+=String['fromCharCode'](0xff&_0x3bcb22>>(-0x2*_0x4db899&0x6)):0x0){_0x49b5d9=_0x1256e4['indexOf'](_0x49b5d9);}for(let _0x3965a5=0x0,_0x46bbef=_0x54bef3['length'];_0x3965a5<_0x46bbef;_0x3965a5++){_0x27870c+='%'+('00'+_0x54bef3['charCodeAt'](_0x3965a5)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x27870c);};const _0x4d6bc8=function(_0x4ba69c,_0xbe911a){let _0x27e3ef=[],_0x583b3b=0x0,_0x350c37,_0x30d290='';_0x4ba69c=_0x3215d0(_0x4ba69c);let _0x414824;for(_0x414824=0x0;_0x414824<0x100;_0x414824++){_0x27e3ef[_0x414824]=_0x414824;}for(_0x414824=0x0;_0x414824<0x100;_0x414824++){_0x583b3b=(_0x583b3b+_0x27e3ef[_0x414824]+_0xbe911a['charCodeAt'](_0x414824%_0xbe911a['length']))%0x100,_0x350c37=_0x27e3ef[_0x414824],_0x27e3ef[_0x414824]=_0x27e3ef[_0x583b3b],_0x27e3ef[_0x583b3b]=_0x350c37;}_0x414824=0x0,_0x583b3b=0x0;for(let _0x3e6b13=0x0;_0x3e6b13<_0x4ba69c['length'];_0x3e6b13++){_0x414824=(_0x414824+0x1)%0x100,_0x583b3b=(_0x583b3b+_0x27e3ef[_0x414824])%0x100,_0x350c37=_0x27e3ef[_0x414824],_0x27e3ef[_0x414824]=_0x27e3ef[_0x583b3b],_0x27e3ef[_0x583b3b]=_0x350c37,_0x30d290+=String['fromCharCode'](_0x4ba69c['charCodeAt'](_0x3e6b13)^_0x27e3ef[(_0x27e3ef[_0x414824]+_0x27e3ef[_0x583b3b])%0x100]);}return _0x30d290;};iii1II['GHVxfG']=_0x4d6bc8,_0xe0f88c=arguments,iii1II['MiFGwk']=!![];}const _0x3c7679=_0x566b11[0x0],_0x113220=_0x4a5824+_0x3c7679,_0x2c947b=_0xe0f88c[_0x113220];return!_0x2c947b?(iii1II['dSnJdf']===undefined&&(iii1II['dSnJdf']=!![]),_0x276b53=iii1II['GHVxfG'](_0x276b53,_0x26a740),_0xe0f88c[_0x113220]=_0x276b53):_0x276b53=_0x2c947b,_0x276b53;},iii1II(_0xe0f88c,_0x1375d8);}let iil1il=null,ilil1I='',i11il1='',ii1iiI='';const lllilI=Object[II11ll(0x362,'#o&s')](il1i1l)['map'](I1lIi1=>il1i1l[I1lIi1])[II11ll(0x209,'Sr@t')](liiIIi=>liiIIi);!lllilI[0x0]&&($[II11ll(0x2b9,'MJ1t')]($['name'],II11ll(0x1ce,'1PpT')),process['exit'](0x1));!(async()=>{const liiI1I=II11ll,lil11I={'zSCBM':'活动仅限店铺会员参与哦~','BqGTq':liiI1I(0x23a,'X[lL'),'QEtpr':liiI1I(0x2e2,'dRB0'),'ayoid':function(iIiIi,iil1ll){return iIiIi!==iil1ll;},'nWpIt':liiI1I(0x3b4,'kA&]'),'cOhhS':function(iiilil,iil1li){return iiilil+iil1li;},'koDoC':liiI1I(0x285,'ru]0'),'dyXHZ':function(lillIl,iIiIl){return lillIl<iIiIl;},'nnbWC':function(iiilii,li1i1i){return iiilii!==li1i1i;},'nCOcq':liiI1I(0x2d4,'NC]D'),'TVgxO':function(IlIli1,illIiI){return IlIli1+illIiI;},'vFOXg':function(lI1lli,Ill1l){return lI1lli(Ill1l);},'kvPKk':function(llI1Il){return llI1Il();}};if(!il1i1i){console[liiI1I(0x345,'ZTaY')]('⚠\x20请先定义必要的环境变量后再运行脚本');return;}const Iliii1=IlIlll['parseUrl'](il1i1i);if(!Iliii1){console['log']('⚠\x20请填写格式正确的链接');return;}$[liiI1I(0x20c,'ygve')]=il1i1i,$[liiI1I(0x3ba,'#o&s')]=IlIlll[liiI1I(0x2ef,'7!Z9')](il1i1i,'id'),$[liiI1I(0x20e,'MV2V')]=IlIlll['getUrlParameter'](il1i1i,lil11I[liiI1I(0x2a3,'kA&]')]),$['hostname']=Iliii1[liiI1I(0x2e3,'ZSNs')],$[liiI1I(0x2d9,']XQ2')]=Iliii1['pathname'],$[liiI1I(0x247,'NC]D')]=liiI1I(0x3bf,'#7Ed')+$[liiI1I(0x2a1,'S1)m')];if(!$[liiI1I(0x318,'zbN0')]||!$[liiI1I(0x2af,'dRB0')]||!$[liiI1I(0x2d3,'XgK2')]){if(lil11I['ayoid'](liiI1I(0x262,'1bYV'),'JouZn')){console['log'](lil11I[liiI1I(0x33d,'Dxrz')]);return;}else{llIlll['skipRun']=!![],lliii1[liiI1I(0x2a9,'R#8w')](lil11I[liiI1I(0x2d0,'MJ1t')]),Iiii1[liiI1I(0x1ec,'37Ko')][liiI1I(0x36b,'ru]0')](lil11I['BqGTq']);return;}}IIIl1I[liiI1I(0x20d,']wwS')]({'title':$[liiI1I(0x2fc,'SsG7')]}),console[liiI1I(0x2c2,'hLBg')](lil11I['cOhhS'](lil11I[liiI1I(0x2bd,'zbN0')],$[liiI1I(0x2d5,'#7Ed')]));for(let i11iil=0x0;lil11I['dyXHZ'](i11iil,lllilI[liiI1I(0x325,'U!fL')]);i11iil++){if(lil11I['nnbWC'](liiI1I(0x273,'#[ir'),lil11I[liiI1I(0x280,'zbN0')]))liliI['log']('❌\x20未能正确处理\x20'+ll1lI+'\x20请求响应\x20'+(l1iii[liiI1I(0x2ee,'1PpT')]||IIlli));else{$[liiI1I(0x284,'U5M(')]=lil11I['TVgxO'](i11iil,0x1),ilil1I=lllilI[i11iil],ii1iiI=lllilI[i11iil],IlIlll[liiI1I(0x1bd,'U5M(')](ii1iiI),$[liiI1I(0x2eb,'eiEG')]=lil11I[liiI1I(0x214,'Bvhn')](decodeURIComponent,IlIlll[liiI1I(0x279,'ru]0')](ilil1I,'pt_pin')),$['UA']=IlIlll['genUA']($[liiI1I(0x201,'37Ko')]),$['UUID']=IlIlll[liiI1I(0x344,'NC]D')](liiI1I(0x36c,'!ZN9')),$['te']=lil11I['TVgxO'](Math[liiI1I(0x2ff,')(6b')](Math[liiI1I(0x32f,'luRz')]()*0x2328),0x3e8),$[liiI1I(0x1e7,'p$Tv')]=IIIl1I[liiI1I(0x1e1,'S1)m')]($['index'],$['UserName']),$['nickName']='',console['log'](liiI1I(0x282,'VmKD')+$[liiI1I(0x346,'NC]D')]+'】'+($[liiI1I(0x3a6,'cBk[')]||$[liiI1I(0x1d2,'MJ1t')])+liiI1I(0x1d1,'R#8w')),await lil11I[liiI1I(0x28c,'CCsm')](ilil11),IlIlll[liiI1I(0x2ba,'R#8w')]();if($[liiI1I(0x37b,'ru]0')]||$[liiI1I(0x303,'ZSNs')])break;}}i11ilI&&IIIl1I['getMessage']()&&(IIIl1I[liiI1I(0x33f,'S1)m')](lil11I['TVgxO'](IIIl1I[liiI1I(0x38d,'X[lL')],liiI1I(0x222,'1PpT')+$['activityUrl'])),await IIIl1I['push']());})()['catch'](ii1iil=>$[II11ll(0x2ab,'#7Ed')](ii1iil))[II11ll(0x1c7,'luRz')](()=>$['done']());async function ilil11(){const ililII=II11ll,lllI1l={'LOhCE':function(i11iii,llI1Ii){return i11iii!==llI1Ii;},'RhBMC':function(lllI1i,li1i1l,II1i1){return lllI1i(li1i1l,II1i1);},'nCpmO':ililII(0x1c4,'p$Tv'),'zewZx':function(lI1lll,iIiII){return lI1lll(iIiII);},'AiMKZ':'未能获取用户鉴权信息','zcclW':function(iil1lI,iiiliI){return iil1lI(iiiliI);},'twjwJ':ililII(0x3b6,'MV2V'),'vzaDT':function(li1i1I,illIii){return li1i1I===illIii;},'BpcJc':function(ii1il1,lI1llI){return ii1il1>lI1llI;},'FWtEG':ililII(0x2c9,'NC]D'),'uoHup':function(illIil,Ill1I){return illIil!==Ill1I;},'OLjZW':ililII(0x2cd,'!ZN9'),'cYqOQ':ililII(0x3ca,']wwS'),'bgsuR':function(i11iiI,lIli11){return i11iiI(lIli11);},'HbmBa':'saveSignIn'};try{if(lllI1l[ililII(0x1bc,'Bvhn')](ililII(0x32a,'$XXu'),ililII(0x359,'p7PA')))IIll1['log'](''+ll1il[ililII(0x390,'Bvhn')]),IiiIiI[ililII(0x1db,'U!fL')][ililII(0x2f4,'1bYV')](''+lilii['msg']);else{$[ililII(0x2c4,'@ZC7')]=![],$[ililII(0x337,'@ZC7')]=![],i11il1='';if($[ililII(0x2cb,'ZTaY')]||$['outFlag'])return;$[ililII(0x388,'6B%M')]=await lllI1l[ililII(0x2f5,'bmK4')](iil1ii,ii1iiI,$['baseUrl']);if(!$[ililII(0x2d8,'MV2V')]){console[ililII(0x354,'@ZC7')](lllI1l['nCpmO']),$['message'][ililII(0x2f6,'DIhf')](ililII(0x366,'u(5s'));return;}await lllI1l['zewZx'](IIIl11,ililII(0x33c,'#7Ed'));if($[ililII(0x204,'1bYV')]||$[ililII(0x24b,'!ZN9')]||$[ililII(0x293,'bmK4')])return;if(!$[ililII(0x34c,'Dxrz')]){console[ililII(0x3ad,'6B%M')]('未能获取用户鉴权信息！'),$['message'][ililII(0x291,'X[lL')](lllI1l[ililII(0x310,'NC]D')]);return;}await lllI1l['zcclW'](IIIl11,lllI1l[ililII(0x1dd,'37Ko')]);if($['runEnd']||$[ililII(0x1f1,'gkgr')]||$[ililII(0x228,'S1)m')])return;await $[ililII(0x35c,'EDS*')](0x3e8);if(lllI1l[ililII(0x29e,'SsG7')]($['index'],0x1)){console['log'](($[ililII(0x21d,'7!Z9')]&&'店铺名称：#'+$[ililII(0x32e,'U!fL')]+'['+($[ililII(0x39c,'DIhf')]||ililII(0x1f5,'MV2V'))+']')+'\x0a店铺链接：https://shop.m.jd.com/?venderId='+$[ililII(0x274,'Hhi)')]+ililII(0x327,'bmK4')+$['endTime']+'\x0a活动规则：\x0a'+$['rule'][ililII(0x371,'p$Tv')]('\x0a')+'\x0a'),IIIl1I[ililII(0x3bb,'zbN0')](IIIl1I[ililII(0x1ed,'Dxrz')]+(($['shopName']&&ililII(0x1eb,'V5je')+$[ililII(0x3a8,'ygve')])+ililII(0x27c,'#o&s')+$[ililII(0x239,'VmKD')]+'\x0a'));const lillI1=Date['now']();if($[ililII(0x3af,'p$Tv')]&&lllI1l[ililII(0x2bc,']wwS')](lillI1,$[ililII(0x363,'S1)m')])){console[ililII(0x216,'XgK2')](ililII(0x2e0,'U5M(')+$['endTime']+ililII(0x268,'ygve')),$[ililII(0x22a,'6B%M')][ililII(0x2ed,'1bYV')](ililII(0x1e4,'VmKD')+$['endTime']),$['runEnd']=!![];return;}if($[ililII(0x347,'Dxrz')]||$['outFlag']||$[ililII(0x1ca,'37Ko')])return;}await IIIl11(lllI1l[ililII(0x264,'1bYV')]),await $[ililII(0x320,'bmK4')](0x3e8),console['log'](ililII(0x275,']XQ2')+$[ililII(0x2b0,'7!Z9')]+'天,\x20今天'+($[ililII(0x235,'V5je')]?'已':'未')+'签到'),!$[ililII(0x211,')(6b')]&&(lllI1l['uoHup'](lllI1l[ililII(0x2ec,'!ZN9')],lllI1l[ililII(0x3c4,'R#8w')])?(await lllI1l[ililII(0x299,'!ZN9')](IIIl11,lllI1l[ililII(0x1e6,'@ZC7')]),await $[ililII(0x355,'Dxrz')](0xbb8),$[ililII(0x1d0,'1PpT')]&&(await IIIl11(lllI1l['HbmBa']),await $['wait'](0xbb8))):IliilI['log'](''+i1II1['msg']));}}catch(i1l1i1){console[ililII(0x250,'CCsm')](ililII(0x3ac,'NC]D')+i1l1i1);}}async function illlI1(liil11,iiillI){const lI1II1=II11ll,l1l111={'DdLok':lI1II1(0x2da,'Hhi)'),'Fpmob':lI1II1(0x37e,'DIhf'),'uvkvr':lI1II1(0x283,'MJ1t'),'pMSaC':'获取[Token]失败','hgTEm':'加入店铺会员成功','NzOpV':lI1II1(0x339,'eiEG'),'qKwhX':function(l1iIII,llI1I1){return l1iIII(llI1I1);},'fxwXj':lI1II1(0x311,'p$Tv'),'ncfTo':lI1II1(0x3a0,'MJ1t'),'VmLim':lI1II1(0x258,'CCsm'),'UUJoz':lI1II1(0x3a3,'Hhi)'),'yTtkL':'description','ITdEJ':lI1II1(0x376,'Bvhn'),'PBPFF':'num\x20font32\x20continueSign','wLRXA':lI1II1(0x2c0,'luRz'),'lvCNU':function(IlIlil,lIli1I){return IlIlil===lIli1I;},'oQfqu':lI1II1(0x338,'Dxrz'),'jPrRI':lI1II1(0x297,'X[lL'),'lqnjp':lI1II1(0x2aa,'XgK2'),'kteoy':lI1II1(0x301,'hLBg'),'CSQSw':function(II1il,lllI11){return II1il===lllI11;},'dVVUf':lI1II1(0x330,'zbN0'),'VeUTi':function(I1lIll,I1lIli){return I1lIll===I1lIli;},'ULeOR':lI1II1(0x24d,'dRB0'),'huwTY':'home','aaxNf':lI1II1(0x2f0,'Dxrz'),'dchxc':function(II1ii,IIIIII){return II1ii(IIIIII);},'TEVjr':'JD_BEAN','TIqPh':'JD_POINT','SqpZI':lI1II1(0x3cb,'cBk['),'XnAWw':lI1II1(0x28a,'MV2V'),'ENiEr':function(lillII,ii1ilI){return lillII&&ii1ilI;},'HzknJ':lI1II1(0x29d,'Hhi)'),'ajyWp':lI1II1(0x294,'DIhf'),'XozHJ':'未填地址','lMbUE':'JD_D_COUPON','wzwir':lI1II1(0x2f9,'Sr@t'),'parsY':lI1II1(0x26f,'S1)m'),'YoCrR':lI1II1(0x229,'ru]0'),'VAjqI':lI1II1(0x342,'SsG7'),'ilMOL':lI1II1(0x23b,'p$Tv'),'opjoH':lI1II1(0x34d,'Dxrz'),'mapSA':lI1II1(0x38a,'Bvhn'),'MBbxY':'部分会员','MiNYl':lI1II1(0x212,'Hhi)'),'vevMF':lI1II1(0x266,'MJ1t'),'MaVkO':function(lI1ll1,iIiI1){return lI1ll1===iIiI1;},'MqMyZ':'nZaLB','yPlUZ':'加入店铺会员失败，活动仅限店铺会员参与','uyvDm':lI1II1(0x34a,'#7Ed'),'SiNYK':lI1II1(0x2c1,'ygve'),'ttfps':lI1II1(0x31b,'MJ1t'),'Wwkis':function(liil1I,i11ii1){return liil1I!==i11ii1;},'Keask':'rUqAR'};try{if(l1l111[lI1II1(0x3a1,'zbN0')](l1l111[lI1II1(0x1cb,'ZSNs')],l1l111[lI1II1(0x35f,'gkgr')]))lI11Il[lI1II1(0x1c6,'bmK4')](lIII1i),l11i11&&(l1l11I['outFlag']=!![],lilIl[lI1II1(0x28d,'R#8w')]&&Iiiil[lI1II1(0x1fb,'DIhf')][lI1II1(0x323,'37Ko')](Iiiii));else switch(liil11){case l1l111[lI1II1(0x3b2,'hLBg')]:if(iiillI&&iiillI['succ']){}else iiillI[lI1II1(0x26e,'X[lL')]?console[lI1II1(0x398,']XQ2')](''+iiillI[lI1II1(0x1d7,'$XXu')]):($[lI1II1(0x392,'6B%M')]=!![],console['log']('❓'+liil11+'\x20'+JSON['stringify'](iiillI)));break;case l1l111[lI1II1(0x35e,'MV2V')]:if(iiillI&&iiillI[lI1II1(0x1ee,'ygve')])$['token']=iiillI[lI1II1(0x1d7,'$XXu')];else{if(iiillI['msg']){if(l1l111[lI1II1(0x2e5,'ZTaY')]('IwMrn',l1l111['dVVUf'])){iii1Ii[lI1II1(0x3ab,'U5M(')]((iii1Il[lI1II1(0x3ae,'p7PA')]&&lI1II1(0x1c3,'$VPv')+lI1IiI[lI1II1(0x2dd,'dRB0')]+'['+(i1lI[lI1II1(0x369,'U5M(')]||l1l111[lI1II1(0x39e,']XQ2')])+']')+lI1II1(0x1ef,'luRz')+IlI1l[lI1II1(0x2c7,'EDS*')]+lI1II1(0x2e4,'Hhi)')+lilIil[lI1II1(0x341,'EDS*')]+lI1II1(0x389,'EDS*')+i1l11['rule'][lI1II1(0x25d,'ygve')]('\x0a')+'\x0a'),i1l1li[lI1II1(0x33f,'S1)m')](i1ilii[lI1II1(0x272,'ru]0')]+((iIIII1['shopName']&&'\x0a【店铺名称】#'+i1l1ll['shopName'])+lI1II1(0x2e7,'6B%M')+I1iIiI[lI1II1(0x1bf,'hLBg')]+'\x0a'));const iiill1=li1I1[lI1II1(0x1e9,'@ZC7')]();if(i1ilil[lI1II1(0x26d,'U!fL')]&&iiill1>lilIii[lI1II1(0x249,'R#8w')]){i1III[lI1II1(0x345,'ZTaY')](lI1II1(0x2f8,'Hhi)')+Ii1iIi[lI1II1(0x29a,'luRz')]+lI1II1(0x20a,'V5je')),iliIIl[lI1II1(0x1db,'U!fL')][lI1II1(0x217,'VmKD')](lI1II1(0x1d6,'EDS*')+Ii1iIl[lI1II1(0x3b5,'ZTaY')]),iliIIi[lI1II1(0x225,'MV2V')]=!![];return;}if(I1lllI[lI1II1(0x30b,'luRz')]||ill111[lI1II1(0x265,'cBk[')]||Iliil1[lI1II1(0x31d,'Dxrz')])return;}else console[lI1II1(0x30a,'eiEG')](''+iiillI[lI1II1(0x2df,'#o&s')]);}else{if(l1l111['VeUTi'](l1l111['ULeOR'],l1l111['ULeOR']))$[lI1II1(0x252,')(6b')]=!![],console[lI1II1(0x307,'#[ir')]('❓'+liil11+'\x20'+JSON['stringify'](iiillI));else{i1ili1[lI1II1(0x3ad,'6B%M')](l1l111['Fpmob']);return;}}}break;case l1l111[lI1II1(0x1e8,'ygve')]:if(iiillI){let IIIII1=iiillI[lI1II1(0x368,'Sr@t')](/(活动已结束)/)&&iiillI[lI1II1(0x253,'XgK2')](/(活动已结束)/)[0x1]||'';if(IIIII1){$[lI1II1(0x1d9,'p7PA')]=!![],console[lI1II1(0x1d8,'ygve')](lI1II1(0x21c,']wwS')),$['message'][lI1II1(0x34e,'zbN0')]('活动已结束');return;}if(!iil1il)iil1il=require(l1l111[lI1II1(0x24e,'SsG7')])?.['JSDOM'];const I1lIlI=new iil1il(iiillI);$[lI1II1(0x231,'ygve')]=I1lIlI[lI1II1(0x2d2,'R#8w')]['document'][lI1II1(0x296,']XQ2')](l1l111['aaxNf'])?.[lI1II1(0x375,'Sr@t')]||'',$['shopName']=I1lIlI[lI1II1(0x1c5,'SsG7')]['document'][lI1II1(0x314,'p$Tv')](lI1II1(0x2db,'NC]D'))?.[lI1II1(0x34f,'7!Z9')]||'',$['venderId']=I1lIlI['window'][lI1II1(0x3c3,'bmK4')]['getElementById'](l1l111[lI1II1(0x25a,'1bYV')])?.[lI1II1(0x276,'bmK4')]||'',$[lI1II1(0x341,'EDS*')]=I1lIlI['window'][lI1II1(0x1d3,'ru]0')][lI1II1(0x298,'U!fL')](l1l111['UUJoz'])?.['value']||'',$['description']=I1lIlI[lI1II1(0x3b9,'!ZN9')][lI1II1(0x367,'DIhf')]['getElementById'](l1l111['yTtkL'])?.[lI1II1(0x288,'VmKD')]||'',$[lI1II1(0x22f,'DIhf')]=$[lI1II1(0x2fe,'V5je')]['split'](l1l111[lI1II1(0x1bb,'R#8w')])[lI1II1(0x202,'DIhf')](ii1ill=>ii1ill),$['continueSign']=I1lIlI['window'][lI1II1(0x360,'kA&]')][lI1II1(0x378,'X[lL')](l1l111[lI1II1(0x332,'1bYV')]),$[lI1II1(0x30d,'MV2V')]=$[lI1II1(0x3bd,'#o&s')]['length']?$['continueSign'][0x0]['innerHTML']||0x0:0x0,$[lI1II1(0x349,'VmKD')]=l1l111[lI1II1(0x255,'ygve')](Number,I1lIlI['window'][lI1II1(0x236,'U5M(')][lI1II1(0x317,'!ZN9')](l1l111['wLRXA'])?.[lI1II1(0x261,']XQ2')]||0x0);}else console[lI1II1(0x2ae,'MJ1t')]('❓'+liil11+'\x20'+JSON[lI1II1(0x1ea,'Hhi)')](iiillI));break;case lI1II1(0x2b3,'37Ko'):if(iiillI&&iiillI[lI1II1(0x3a7,'Hhi)')]){let II1iI=JSON[lI1II1(0x27d,'S1)m')](iiillI['msg'])?.[lI1II1(0x208,'eiEG')],llI1II=II1iI?.['awardType'];switch(llI1II){case l1l111[lI1II1(0x335,'U!fL')]:console['log'](lI1II1(0x394,'u(5s')+II1iI?.[lI1II1(0x382,'kA&]')]+lI1II1(0x1f9,'Sr@t')),$['message'][lI1II1(0x2a4,'$XXu')](lI1II1(0x385,']wwS')+II1iI?.[lI1II1(0x26b,'zbN0')]+lI1II1(0x39d,'MV2V'));break;case l1l111['TIqPh']:console[lI1II1(0x3a5,'p7PA')](lI1II1(0x25b,'$VPv')+II1iI?.[lI1II1(0x2dc,'p7PA')]+II1iI?.[lI1II1(0x2d1,'MV2V')]+lI1II1(0x328,'$XXu')),$[lI1II1(0x22a,'6B%M')][lI1II1(0x278,'Hhi)')]('🗑️\x20'+II1iI?.[lI1II1(0x256,'1bYV')]+II1iI?.[lI1II1(0x2cf,'eiEG')]+lI1II1(0x22b,'V5je'));break;case l1l111[lI1II1(0x1cd,'MV2V')]:console[lI1II1(0x23d,'Sr@t')](lI1II1(0x242,'MJ1t')),$[lI1II1(0x22a,'6B%M')]['insert'](lI1II1(0x3c0,'!ZN9'));break;case l1l111[lI1II1(0x2ce,'MV2V')]:const lIli1l=JSON[lI1II1(0x2b2,'MJ1t')](illIi1[lI1II1(0x27b,'bmK4')])[lI1II1(0x36e,'V5je')],lillIi=II1iI[lI1II1(0x381,'X[lL')];console[lI1II1(0x3b1,'MV2V')](lI1II1(0x287,'DIhf')),console[lI1II1(0x30a,'eiEG')]('奖品名称：'+lillIi);const illIi1={'baseUrl':$[lI1II1(0x2a8,'Hhi)')],'cookie':i11il1,'ua':$['UA'],'venderId':$[lI1II1(0x2a5,'R#8w')],'prizeName':lillIi,'orderCode':lIli1l,'activityUrl':$[lI1II1(0x377,'Dxrz')]},ii1ili=await l1l111[lI1II1(0x2e1,'R#8w')](IlIlli,illIi1);l1l111['ENiEr'](!i11ilI,ii1ili)&&(lI1II1(0x1e5,'luRz')===l1l111[lI1II1(0x226,'ygve')]?(lliiii[lI1II1(0x307,'#[ir')](lI1II1(0x3b0,'6B%M')),IliI1i[lI1II1(0x22a,'6B%M')][lI1II1(0x234,'V5je')](lI1II1(0x254,'MV2V'))):await IIIl1I[lI1II1(0x2f1,'U5M(')]($[lI1II1(0x3be,'MJ1t')]+'中奖通知',lI1II1(0x380,'hLBg')+$[lI1II1(0x200,'Sr@t')]+'】'+$[lI1II1(0x3c7,'ygve')]+lI1II1(0x3c5,'1bYV')+lillIi+lI1II1(0x37f,'p7PA')+$[lI1II1(0x22c,'!ZN9')]));$[lI1II1(0x2b8,'$XXu')][lI1II1(0x2b1,'$VPv')](lillIi+'('+(ii1ili?l1l111[lI1II1(0x20f,'XgK2')]:l1l111[lI1II1(0x31f,'@ZC7')])+lI1II1(0x3c9,'1bYV'));break;case'JD_J_COUPON':console[lI1II1(0x250,'CCsm')](lI1II1(0x205,'SsG7')),$[lI1II1(0x29c,'Dxrz')][lI1II1(0x30f,'cBk[')](lI1II1(0x308,'@ZC7'));break;case l1l111[lI1II1(0x1f4,'#[ir')]:console[lI1II1(0x3a4,'kA&]')](lI1II1(0x38e,'#o&s')),$[lI1II1(0x1c2,'MJ1t')][lI1II1(0x260,'eiEG')](lI1II1(0x348,'dRB0'));break;case l1l111['wzwir']:console[lI1II1(0x238,'$VPv')]('🎉\x20爱奇艺'),$['message'][lI1II1(0x28b,']wwS')]('🎉\x20爱奇艺');break;case l1l111['parsY']:console[lI1II1(0x1fc,'1PpT')](lI1II1(0x1fe,'u(5s')),$['message'][lI1II1(0x1cc,'DIhf')]('🎉\x20PLUS会员');break;case'JD_E_CARD':console['log'](lI1II1(0x38b,'Hhi)')+II1iI?.[lI1II1(0x2fa,'$XXu')]+II1iI?.[lI1II1(0x1ff,'R#8w')]),$[lI1II1(0x1de,'1bYV')][lI1II1(0x32c,'ZTaY')](lI1II1(0x393,']XQ2')+II1iI?.['awardSendNum']+II1iI?.[lI1II1(0x223,'MJ1t')]);break;case'JD_REDBAG':console[lI1II1(0x2a9,'R#8w')](lI1II1(0x391,'CCsm')+II1iI?.[lI1II1(0x210,'XgK2')]+II1iI?.[lI1II1(0x3aa,'1PpT')]),$[lI1II1(0x1de,'1bYV')]['insert']('🎉️\x20红包：'+II1iI?.[lI1II1(0x290,'U!fL')]+II1iI?.[lI1II1(0x24f,'hLBg')]);break;default:console[lI1II1(0x23e,'DIhf')](II1iI);break;}}else{if(lI1II1(0x3c6,'Hhi)')===l1l111[lI1II1(0x306,'S1)m')]){i1IIl[lI1II1(0x319,'7!Z9')](lI1II1(0x38c,'cBk[')+I1lll1['endTime']+lI1II1(0x240,'XgK2')),i1IIi['message'][lI1II1(0x37c,'#[ir')](lI1II1(0x2d7,'V5je')+IIII1I[lI1II1(0x370,'ru]0')]),Iii111[lI1II1(0x322,']XQ2')]=!![];return;}else{if(iiillI[lI1II1(0x2c3,'MV2V')]['includes'](l1l111['VAjqI']))l1l111['CSQSw'](l1l111[lI1II1(0x224,'V5je')],l1l111['opjoH'])?(I1llii[lI1II1(0x252,')(6b')]=!![],lilIll['log']('❓'+l1i111+'\x20'+iliII1['stringify'](II11I1))):(console[lI1II1(0x250,'CCsm')](lI1II1(0x34b,'!ZN9')),$[lI1II1(0x1fd,'@ZC7')]['insert'](lI1II1(0x27e,']XQ2')));else{if(lI1II1(0x3c1,'R#8w')!==l1l111[lI1II1(0x2c6,'37Ko')])console['log'](''+iiillI[lI1II1(0x33a,'R#8w')]),$['message']['insert'](''+iiillI[lI1II1(0x21b,'@ZC7')]);else{IlI11[lI1II1(0x28e,'Bvhn')](l1l111['uvkvr']),iIIIIl[lI1II1(0x384,'MV2V')][lI1II1(0x2b4,'!ZN9')](l1l111[lI1II1(0x219,'U5M(')]);return;}}err=iiillI[lI1II1(0x2b7,'gkgr')];for(let lI1lii of['不足','火爆','上限','次数']){if('VCuzJ'==='VCuzJ'){if(err[lI1II1(0x218,'XgK2')](lI1lii)){$[lI1II1(0x1ca,'37Ko')]=!![];break;}}else lilIli['log'](''+Iliili[lI1II1(0x21b,'@ZC7')]);}for(let Iil1l1 of[l1l111[lI1II1(0x221,'dRB0')]]){if(err['includes'](Iil1l1)){if(l1l111[lI1II1(0x36f,'#o&s')]!==l1l111['vevMF']){if(lil111){if(l1l111[lI1II1(0x356,'MV2V')](l1l111[lI1II1(0x1dc,'Dxrz')],l1l111[lI1II1(0x312,'DIhf')])){const i1i11I=await IlIlll[lI1II1(0x23c,'7!Z9')]($[lI1II1(0x22e,'bmK4')]);if(i1i11I)$['retry']=!![],console[lI1II1(0x2a7,'Hhi)')](l1l111[lI1II1(0x243,']XQ2')]);else{$[lI1II1(0x228,'S1)m')]=!![],console[lI1II1(0x38f,'#7Ed')]('加入店铺会员失败，活动仅限店铺会员参与哦~'),$['message']['fix'](l1l111[lI1II1(0x289,'7!Z9')]);return;}}else I11iIl['headers'][lI1II1(0x374,'p7PA')]='text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8';}else{$[lI1II1(0x215,'ZTaY')]=!![],console[lI1II1(0x354,'@ZC7')](l1l111[lI1II1(0x2e8,'Bvhn')]),$['message'][lI1II1(0x1f0,'U5M(')](l1l111[lI1II1(0x206,'V5je')]);return;}break;}else Illl1I['retry']=!![],lliiiI[lI1II1(0x23e,'DIhf')](l1l111[lI1II1(0x3b3,'S1)m')]);}}for(let il1iIi of['休息',l1l111['ttfps']]){if(l1l111['Wwkis'](lI1II1(0x324,'p$Tv'),l1l111[lI1II1(0x2ad,'CCsm')]))IllIIl[lI1II1(0x397,'VmKD')]('❓'+IiiIi1+'\x20'+l1ii1['stringify'](ii1ll));else{if(err[lI1II1(0x2ac,'#7Ed')](il1iIi)){if('djmPS'!==lI1II1(0x281,'bmK4')){let I1l11i=IIlil['match'](/(活动已结束)/)&&ilI1lI['match'](/(活动已结束)/)[0x1]||'';if(I1l11i){Iillil[lI1II1(0x1da,'37Ko')]=!![],l1lIli[lI1II1(0x3bc,'p$Tv')](lI1II1(0x365,'37Ko')),lIIiiI['message'][lI1II1(0x217,'VmKD')](l1l111[lI1II1(0x1e0,'7!Z9')]);return;}if(!IilliI)IlI1ii=l1l111[lI1II1(0x333,'gkgr')](lIIiii,l1l111[lI1II1(0x21f,'dRB0')])?.[lI1II1(0x269,'MJ1t')];const iIIiiI=new iI1lli(ll1iI);iI1lll['actName']=iIIiiI['window']['document']['getElementById'](lI1II1(0x1c1,'kA&]'))?.['value']||'',l1lIll[lI1II1(0x315,'@ZC7')]=iIIiiI['window'][lI1II1(0x3c3,'bmK4')][lI1II1(0x2bb,'1PpT')](l1l111['ncfTo'])?.[lI1II1(0x2f2,'$VPv')]||'',I1l1II[lI1II1(0x372,'ygve')]=iIIiiI[lI1II1(0x2e9,'$XXu')][lI1II1(0x203,'Hhi)')][lI1II1(0x241,'MJ1t')](l1l111[lI1II1(0x331,'X[lL')])?.[lI1II1(0x237,')(6b')]||'',IIli1I['endTime']=iIIiiI[lI1II1(0x329,'XgK2')][lI1II1(0x27f,'ZTaY')][lI1II1(0x357,'@ZC7')](l1l111[lI1II1(0x33e,'eiEG')])?.[lI1II1(0x32d,'VmKD')]||'',I1i11I[lI1II1(0x36a,'kA&]')]=iIIiiI['window']['document'][lI1II1(0x251,'6B%M')](l1l111[lI1II1(0x233,'MV2V')])?.[lI1II1(0x2f3,'gkgr')]||'',llIliI['rule']=I1l1I1['description'][lI1II1(0x39a,'#[ir')](l1l111[lI1II1(0x230,'cBk[')])[lI1II1(0x386,'luRz')](liiI1i=>liiI1i),I1i111['continueSign']=iIIiiI[lI1II1(0x248,'6B%M')][lI1II1(0x343,'MJ1t')]['getElementsByClassName'](l1l111[lI1II1(0x304,'zbN0')]),ilI1li[lI1II1(0x246,'hLBg')]=IIliI[lI1II1(0x244,'Dxrz')][lI1II1(0x21a,']wwS')]?ilI1ll[lI1II1(0x220,'luRz')][0x0][lI1II1(0x27a,'$VPv')]||0x0:0x0,Iillii['isSign']=IlI1iI(iIIiiI['window']['document']['getElementById'](l1l111['wLRXA'])?.[lI1II1(0x1f8,'hLBg')]||0x0);}else{$[lI1II1(0x30e,'bmK4')]=!![];break;}}}}}}break;}}catch(ililIi){console[lI1II1(0x29f,'ZSNs')]('❌\x20未能正确处理\x20'+liil11+lI1II1(0x35b,'Sr@t')+(ililIi['message']||ililIi));}}async function IIIl11(lilIIl){const i1ilII=II11ll,ililIl={'AUAOR':'POST','Uekos':'setMixNick','Wjblz':i1ilII(0x1e2,'VmKD'),'kHIEc':i1ilII(0x1cf,'!ZN9'),'gCoqx':i1ilII(0x2a2,'CCsm'),'mGaee':'saveSignIn','sVzGQ':'/ql/front/saveSignIn','SGCHz':i1ilII(0x21e,'#7Ed'),'ckhKc':'gzip,\x20deflate,\x20br','FQlFn':i1ilII(0x245,'V5je'),'JUyGc':function(i1i11i,II11l1){return i1i11i===II11l1;},'sXKSN':function(Iil1lI,IiiliI){return Iil1lI===IiiliI;},'LtYzi':i1ilII(0x257,'bmK4'),'QLGFg':i1ilII(0x3c8,'u(5s'),'SggQE':function(iii1iI,llIll){return iii1iI<llIll;},'peBrJ':function(il1iII,iilli){return il1iII===iilli;},'acpjB':i1ilII(0x35a,'MJ1t'),'UNizi':function(IlllIl,II11lI,lI1IIi){return IlllIl(II11lI,lI1IIi);},'WmPZT':i1ilII(0x309,'hLBg')};if($['runEnd']||$[i1ilII(0x395,'Bvhn')])return;let liiI1l=$[i1ilII(0x247,'NC]D')],i1l1II={},i1ill=ililIl['AUAOR'];switch(lilIIl){case ililIl['Uekos']:liiI1l+=i1ilII(0x26a,'S1)m'),i1l1II=i1ilII(0x23f,'kA&]')+$[i1ilII(0x29b,'luRz')]+i1ilII(0x25f,'dRB0')+$[i1ilII(0x2b6,'6B%M')]+i1ilII(0x277,'ZSNs');break;case ililIl[i1ilII(0x1c9,'ru]0')]:liiI1l+=ililIl[i1ilII(0x399,'S1)m')],i1l1II=i1ilII(0x3a9,'6B%M')+$[i1ilII(0x2c7,'EDS*')];break;case ililIl['gCoqx']:i1ill=i1ilII(0x300,']wwS'),liiI1l+=i1ilII(0x1f6,'MJ1t')+$[i1ilII(0x3b7,'Bvhn')]+'&user_id='+$[i1ilII(0x3b8,'NC]D')]+i1ilII(0x39f,'37Ko')+ii1ii1+i1ilII(0x379,'7!Z9')+llllI;break;case ililIl[i1ilII(0x364,'V5je')]:liiI1l+=ililIl[i1ilII(0x2c8,'ygve')],i1l1II=i1ilII(0x1df,'CCsm')+$[i1ilII(0x1d4,'X[lL')]+i1ilII(0x387,'1PpT')+$['venderId'];break;default:console[i1ilII(0x397,'VmKD')]('❌\x20未知请求\x20'+lilIIl);return;}const I1l11l={'url':liiI1l,'method':i1ill,'headers':{'Accept':ililIl[i1ilII(0x2f7,'p$Tv')],'Accept-Encoding':ililIl[i1ilII(0x26c,'ZTaY')],'Accept-Language':i1ilII(0x396,'MJ1t'),'Connection':i1ilII(0x31a,'#7Ed'),'Content-Type':ililIl[i1ilII(0x3a2,'R#8w')],'Cookie':i11il1[i1ilII(0x358,'U5M(')](),'Host':$[i1ilII(0x2fb,'1PpT')],'Origin':$['baseUrl'],'Referer':$['activityUrl'],'User-Agent':$['UA']},'body':i1l1II,'timeout':0x7530};ililIl[i1ilII(0x1d5,'p7PA')](i1ill,'GET')&&(delete I1l11l[i1ilII(0x24c,'bmK4')],delete I1l11l['headers'][i1ilII(0x1f7,'SsG7')]);ililIl[i1ilII(0x2fd,']wwS')](lilIIl,i1ilII(0x2cc,'Sr@t'))&&(I1l11l[i1ilII(0x2ea,'ru]0')][ililIl['LtYzi']]=ililIl[i1ilII(0x271,'cBk[')]);const lilIIi=0x5;let i1l1Il=0x0,llIli=null,i1i11l=![];while(ililIl[i1ilII(0x37d,'1bYV')](i1l1Il,lilIIi)){if(ililIl[i1ilII(0x24a,'VmKD')](ililIl['acpjB'],ililIl[i1ilII(0x2ca,'S1)m')])){i1l1Il>0x0&&await $[i1ilII(0x2c5,'ru]0')](0x3e8);const I1l11I=await IlIlll[i1ilII(0x32b,'7!Z9')](I1l11l);if(!I1l11I['success']){llIli=i1ilII(0x1c0,']wwS')+lilIIl+i1ilII(0x2a6,'$XXu')+I1l11I[i1ilII(0x313,'$VPv')],i1l1Il++;continue;}if(!I1l11I?.['data']){llIli=i1ilII(0x351,'V5je')+lilIIl+i1ilII(0x213,'U5M('),i1l1Il++;continue;}const Ilil1l=IlIlll[i1ilII(0x267,'!ZN9')](I1l11I,i11il1);[ililIl[i1ilII(0x1e3,'U5M(')]]['includes'](lilIIl)&&(i11il1=Ilil1l);ililIl['UNizi'](illlI1,lilIIl,I1l11I[i1ilII(0x3cc,'#[ir')]),i1i11l=![];break;}else IilIll['message'][i1ilII(0x2e6,'kA&]')](lI11Ii);}i1l1Il>=lilIIi&&(ililIl['sXKSN'](ililIl['WmPZT'],'AEYPY')?(delete lIIill['body'],delete I11iIi['headers'][i1ilII(0x2be,'gkgr')]):(console[i1ilII(0x2ae,'MJ1t')](llIli),i1i11l&&($['outFlag']=!![],$[i1ilII(0x36d,'luRz')]&&$['message']['fix'](llIli))));}var version_ = 'jsjiami.com.v7';

// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
